{"version":3,"sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/palette.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/settingconnector.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/settingsplugin.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/themesplugins.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/workspacesplugin.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@jupyterlab/apputils-extension/lib/index.js"],"names":["CommandIDs","Private","activate","Palette","palette","translator","this","nullTranslator","trans","load","_palette","title","label","caption","__","placeholder","inputNode","options","item","addItem","DisposableDelegate","removeItem","app","settingRegistry","commands","shell","createPalette","modalPalette","ModalCommandPalette","commandPalette","modal","node","setAttribute","add","rank","loadSettings","updateSettings","settings","newModal","get","composite","parent","detach","show","attach","Promise","all","restored","then","changed","connect","catch","reason","console","error","message","updatePaletteTitle","binding","find","keyBindings","b","command","ks","CommandRegistry","keys","join","keyBindingChanged","addCommand","execute","activateById","id","restore","restorer","CommandPalette","renderer","CommandPaletteSvg","icon","paletteIcon","SettingConnector","DataConnector","connector","super","_throttlers","Object","create","_connector","throttlers","Throttler","fetch","invoke","query","isDeferred","isDisabled","PageConfig","ids","values","list","filter","raw","save","settingsPlugin","async","serviceManager","registry","SettingRegistry","plugins","forEach","index","warn","schema","autoStart","provides","ISettingRegistry","changeTheme","themeScrollbars","changeFont","incrFontSize","decrFontSize","themesPlugin","requires","JupyterFrontEnd","ITranslator","optional","ISplashScreen","paths","splash","host","url","URLExt","urls","themes","key","manager","ThemeManager","undefined","currentTheme","themeChanged","sender","args","newValue","document","body","dataset","jpThemeLight","String","isLight","jpThemeName","jpThemeScrollbars","notifyCommandChanged","theme","displayName","getDisplayName","isToggled","setTheme","isToggledThemeScrollbars","toggleThemeScrollbars","isEnabled","getCSS","setCSSOverride","IThemeManager","themesPaletteMenuPlugin","ICommandPalette","IMainMenu","mainMenu","themeMenu","Menu","isPalette","type","settingsMenu","addGroup","submenu","category","saveWorkspace","saveWorkspaceAs","WORKSPACE_NAME","WORKSPACE_EXT","LAST_SAVE_ID","workspacesPlugin","IFileBrowserFactory","IWindowResolver","IStateDB","IRouter","menu","fbf","resolver","state","router","ft","name","contentType","fileFormat","extensions","mimeTypes","iconClass","docRegistry","addFileType","factory","WorkspaceFactory","workspaces","addWidgetFactory","data","saveAs","defaultBrowser","contents","lastSave","fileMenu","userPath","split","pop","includes","resolvedData","metadata","format","content","JSON","stringify","browser","_a","defaultName","defaultPath","model","path","saveBtn","Dialog","result","showDialog","SaveWidget","buttons","button","value","getSavePath","ABCWidgetFactory","fileTypes","defaultFor","readOnly","context","ready","workspaceDesc","toJSON","workspaceId","navigate","hard","location","href","widget","DocumentWidget","Widget","dispose","dummyWidget","createSaveNode","input","createElement","loadState","print","reset","resetOnLoad","runFirstEnabled","toggleHeader","paletteRestorer","ILayoutRestorer","hash","search","current","solver","WindowResolver","workspace","treePath","mode","candidate","rest","resolve","base","pool","random","Math","floor","length","galaxy","logo","dialog","jupyterFaviconIcon","container","stylesheet","appendChild","moon","planet","className","recovery","launch","accept","hasCommand","requestAnimationFrame","_","limit","edge","splashCount","light","classList","remove","toggle","stop","window","setTimeout","removeChild","currentWidget","Printing","printFunction","MainAreaWidget","contentHeader","widgets","isHidden","setHidden","StateDB","resolved","transform","PromiseDelegate","db","promise","Debouncer","_b","main","startsWith","slice","count","updateTabTitle","clone","source","saved","cloned","reload","clear","cleared","register","pattern","sessionDialogs","ISessionContextDialogs","sessionContextDialogs","utilityCommands","commandArgs","argList","Array","isArray","i","cmd","arg","ISanitizer","defaultSanitizer"],"mappings":"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","file":"6829.e324a0c4489ac02373fa.js","sourcesContent":["/* -----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\nimport { find } from '@lumino/algorithm';\nimport { CommandRegistry } from '@lumino/commands';\nimport { DisposableDelegate } from '@lumino/disposable';\nimport { CommandPalette } from '@lumino/widgets';\nimport { ModalCommandPalette } from '@jupyterlab/apputils';\nimport { nullTranslator } from '@jupyterlab/translation';\nimport { CommandPaletteSvg, paletteIcon } from '@jupyterlab/ui-components';\n/**\n * The command IDs used by the apputils extension.\n */\nvar CommandIDs;\n(function (CommandIDs) {\n    CommandIDs.activate = 'apputils:activate-command-palette';\n})(CommandIDs || (CommandIDs = {}));\nconst PALETTE_PLUGIN_ID = '@jupyterlab/apputils-extension:palette';\n/**\n * A thin wrapper around the `CommandPalette` class to conform with the\n * JupyterLab interface for the application-wide command palette.\n */\nexport class Palette {\n    /**\n     * Create a palette instance.\n     */\n    constructor(palette, translator) {\n        this.translator = translator || nullTranslator;\n        const trans = this.translator.load('jupyterlab');\n        this._palette = palette;\n        this._palette.title.label = '';\n        this._palette.title.caption = trans.__('Command Palette');\n    }\n    /**\n     * The placeholder text of the command palette's search input.\n     */\n    set placeholder(placeholder) {\n        this._palette.inputNode.placeholder = placeholder;\n    }\n    get placeholder() {\n        return this._palette.inputNode.placeholder;\n    }\n    /**\n     * Activate the command palette for user input.\n     */\n    activate() {\n        this._palette.activate();\n    }\n    /**\n     * Add a command item to the command palette.\n     *\n     * @param options - The options for creating the command item.\n     *\n     * @returns A disposable that will remove the item from the palette.\n     */\n    addItem(options) {\n        const item = this._palette.addItem(options);\n        return new DisposableDelegate(() => {\n            this._palette.removeItem(item);\n        });\n    }\n}\n/**\n * A namespace for `Palette` statics.\n */\n(function (Palette) {\n    /**\n     * Activate the command palette.\n     */\n    function activate(app, translator, settingRegistry) {\n        const { commands, shell } = app;\n        const trans = translator.load('jupyterlab');\n        const palette = Private.createPalette(app, translator);\n        const modalPalette = new ModalCommandPalette({ commandPalette: palette });\n        let modal = false;\n        palette.node.setAttribute('role', 'region');\n        palette.node.setAttribute('aria-label', trans.__('Command Palette Section'));\n        shell.add(palette, 'left', { rank: 300 });\n        if (settingRegistry) {\n            const loadSettings = settingRegistry.load(PALETTE_PLUGIN_ID);\n            const updateSettings = (settings) => {\n                const newModal = settings.get('modal').composite;\n                if (modal && !newModal) {\n                    palette.parent = null;\n                    modalPalette.detach();\n                    shell.add(palette, 'left', { rank: 300 });\n                }\n                else if (!modal && newModal) {\n                    palette.parent = null;\n                    modalPalette.palette = palette;\n                    palette.show();\n                    modalPalette.attach();\n                }\n                modal = newModal;\n            };\n            Promise.all([loadSettings, app.restored])\n                .then(([settings]) => {\n                updateSettings(settings);\n                settings.changed.connect(settings => {\n                    updateSettings(settings);\n                });\n            })\n                .catch((reason) => {\n                console.error(reason.message);\n            });\n        }\n        // Show the current palette shortcut in its title.\n        const updatePaletteTitle = () => {\n            const binding = find(app.commands.keyBindings, b => b.command === CommandIDs.activate);\n            if (binding) {\n                const ks = CommandRegistry.formatKeystroke(binding.keys.join(' '));\n                palette.title.caption = trans.__('Commands (%1)', ks);\n            }\n            else {\n                palette.title.caption = trans.__('Commands');\n            }\n        };\n        updatePaletteTitle();\n        app.commands.keyBindingChanged.connect(() => {\n            updatePaletteTitle();\n        });\n        commands.addCommand(CommandIDs.activate, {\n            execute: () => {\n                if (modal) {\n                    modalPalette.activate();\n                }\n                else {\n                    shell.activateById(palette.id);\n                }\n            },\n            label: trans.__('Activate Command Palette')\n        });\n        palette.inputNode.placeholder = trans.__('SEARCH');\n        return new Palette(palette, translator);\n    }\n    Palette.activate = activate;\n    /**\n     * Restore the command palette.\n     */\n    function restore(app, restorer, translator) {\n        const palette = Private.createPalette(app, translator);\n        // Let the application restorer track the command palette for restoration of\n        // application state (e.g. setting the command palette as the current side bar\n        // widget).\n        restorer.add(palette, 'command-palette');\n    }\n    Palette.restore = restore;\n})(Palette || (Palette = {}));\n/**\n * The namespace for module private data.\n */\nvar Private;\n(function (Private) {\n    /**\n     * The private command palette instance.\n     */\n    let palette;\n    /**\n     * Create the application-wide command palette.\n     */\n    function createPalette(app, translator) {\n        if (!palette) {\n            // use a renderer tweaked to use inline svg icons\n            palette = new CommandPalette({\n                commands: app.commands,\n                renderer: CommandPaletteSvg.defaultRenderer\n            });\n            palette.id = 'command-palette';\n            palette.title.icon = paletteIcon;\n            const trans = translator.load('jupyterlab');\n            palette.title.label = trans.__('Commands');\n        }\n        return palette;\n    }\n    Private.createPalette = createPalette;\n})(Private || (Private = {}));\n//# sourceMappingURL=palette.js.map","import { PageConfig } from '@jupyterlab/coreutils';\nimport { DataConnector } from '@jupyterlab/statedb';\nimport { Throttler } from '@lumino/polling';\n/**\n * A data connector for fetching settings.\n *\n * #### Notes\n * This connector adds a query parameter to the base services setting manager.\n */\nexport class SettingConnector extends DataConnector {\n    constructor(connector) {\n        super();\n        this._throttlers = Object.create(null);\n        this._connector = connector;\n    }\n    /**\n     * Fetch settings for a plugin.\n     * @param id - The plugin ID\n     *\n     * #### Notes\n     * The REST API requests are throttled at one request per plugin per 100ms.\n     */\n    fetch(id) {\n        const throttlers = this._throttlers;\n        if (!(id in throttlers)) {\n            throttlers[id] = new Throttler(() => this._connector.fetch(id), 100);\n        }\n        return throttlers[id].invoke();\n    }\n    async list(query = 'all') {\n        const { isDeferred, isDisabled } = PageConfig.Extension;\n        const { ids, values } = await this._connector.list();\n        if (query === 'all') {\n            return { ids, values };\n        }\n        return {\n            ids: ids.filter(id => !isDeferred(id) && !isDisabled(id)),\n            values: values.filter(({ id }) => !isDeferred(id) && !isDisabled(id))\n        };\n    }\n    async save(id, raw) {\n        await this._connector.save(id, raw);\n    }\n}\n//# sourceMappingURL=settingconnector.js.map","/* -----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\nimport { PageConfig } from '@jupyterlab/coreutils';\nimport { SettingRegistry, ISettingRegistry } from '@jupyterlab/settingregistry';\nimport { SettingConnector } from './settingconnector';\n/**\n * The default setting registry provider.\n */\nexport const settingsPlugin = {\n    id: '@jupyterlab/apputils-extension:settings',\n    activate: async (app) => {\n        const { isDisabled } = PageConfig.Extension;\n        const connector = new SettingConnector(app.serviceManager.settings);\n        const registry = new SettingRegistry({\n            connector,\n            plugins: (await connector.list('active')).values\n        });\n        // If there are plugins that have schemas that are not in the setting\n        // registry after the application has restored, try to load them manually\n        // because otherwise, its settings will never become available in the\n        // setting registry.\n        void app.restored.then(async () => {\n            const plugins = await connector.list('all');\n            plugins.ids.forEach(async (id, index) => {\n                if (isDisabled(id) || id in registry.plugins) {\n                    return;\n                }\n                try {\n                    await registry.load(id);\n                }\n                catch (error) {\n                    console.warn(`Settings failed to load for (${id})`, error);\n                    if (plugins.values[index].schema['jupyter.lab.transform']) {\n                        console.warn(`This may happen if {autoStart: false} in (${id}) ` +\n                            `or if it is one of the deferredExtensions in page config.`);\n                    }\n                }\n            });\n        });\n        return registry;\n    },\n    autoStart: true,\n    provides: ISettingRegistry\n};\n//# sourceMappingURL=settingsplugin.js.map","/* -----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\nimport { JupyterFrontEnd } from '@jupyterlab/application';\nimport { ICommandPalette, ISplashScreen, IThemeManager, ThemeManager } from '@jupyterlab/apputils';\nimport { PageConfig, URLExt } from '@jupyterlab/coreutils';\nimport { IMainMenu } from '@jupyterlab/mainmenu';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\nimport { ITranslator } from '@jupyterlab/translation';\nimport { Menu } from '@lumino/widgets';\nvar CommandIDs;\n(function (CommandIDs) {\n    CommandIDs.changeTheme = 'apputils:change-theme';\n    CommandIDs.themeScrollbars = 'apputils:theme-scrollbars';\n    CommandIDs.changeFont = 'apputils:change-font';\n    CommandIDs.incrFontSize = 'apputils:incr-font-size';\n    CommandIDs.decrFontSize = 'apputils:decr-font-size';\n})(CommandIDs || (CommandIDs = {}));\n/**\n * The default theme manager provider.\n */\nexport const themesPlugin = {\n    id: '@jupyterlab/apputils-extension:themes',\n    requires: [ISettingRegistry, JupyterFrontEnd.IPaths, ITranslator],\n    optional: [ISplashScreen],\n    activate: (app, settings, paths, translator, splash) => {\n        const trans = translator.load('jupyterlab');\n        const host = app.shell;\n        const commands = app.commands;\n        const url = URLExt.join(PageConfig.getBaseUrl(), paths.urls.themes);\n        const key = themesPlugin.id;\n        const manager = new ThemeManager({\n            key,\n            host,\n            settings,\n            splash: splash !== null && splash !== void 0 ? splash : undefined,\n            url\n        });\n        // Keep a synchronously set reference to the current theme,\n        // since the asynchronous setting of the theme in `changeTheme`\n        // can lead to an incorrect toggle on the currently used theme.\n        let currentTheme;\n        manager.themeChanged.connect((sender, args) => {\n            // Set data attributes on the application shell for the current theme.\n            currentTheme = args.newValue;\n            document.body.dataset.jpThemeLight = String(manager.isLight(currentTheme));\n            document.body.dataset.jpThemeName = currentTheme;\n            if (document.body.dataset.jpThemeScrollbars !==\n                String(manager.themeScrollbars(currentTheme))) {\n                document.body.dataset.jpThemeScrollbars = String(manager.themeScrollbars(currentTheme));\n            }\n            commands.notifyCommandChanged(CommandIDs.changeTheme);\n        });\n        commands.addCommand(CommandIDs.changeTheme, {\n            label: args => {\n                const theme = args['theme'];\n                const displayName = manager.getDisplayName(theme);\n                return args['isPalette']\n                    ? trans.__('Use Theme: %1', displayName)\n                    : displayName;\n            },\n            isToggled: args => args['theme'] === currentTheme,\n            execute: args => {\n                const theme = args['theme'];\n                if (theme === manager.theme) {\n                    return;\n                }\n                return manager.setTheme(theme);\n            }\n        });\n        commands.addCommand(CommandIDs.themeScrollbars, {\n            label: trans.__('Theme Scrollbars'),\n            isToggled: () => manager.isToggledThemeScrollbars(),\n            execute: () => manager.toggleThemeScrollbars()\n        });\n        commands.addCommand(CommandIDs.changeFont, {\n            label: args => args['enabled'] ? `${args['font']}` : trans.__('waiting for fonts'),\n            isEnabled: args => args['enabled'],\n            isToggled: args => manager.getCSS(args['key']) === args['font'],\n            execute: args => manager.setCSSOverride(args['key'], args['font'])\n        });\n        commands.addCommand(CommandIDs.incrFontSize, {\n            label: args => `${args['label']}`,\n            execute: args => manager.incrFontSize(args['key'])\n        });\n        commands.addCommand(CommandIDs.decrFontSize, {\n            label: args => `${args['label']}`,\n            execute: args => manager.decrFontSize(args['key'])\n        });\n        return manager;\n    },\n    autoStart: true,\n    provides: IThemeManager\n};\n/**\n * The default theme manager's UI command palette and main menu functionality.\n *\n * #### Notes\n * This plugin loads separately from the theme manager plugin in order to\n * prevent blocking of the theme manager while it waits for the command palette\n * and main menu to become available.\n */\nexport const themesPaletteMenuPlugin = {\n    id: '@jupyterlab/apputils-extension:themes-palette-menu',\n    requires: [IThemeManager, ITranslator],\n    optional: [ICommandPalette, IMainMenu],\n    activate: (app, manager, translator, palette, mainMenu) => {\n        const trans = translator.load('jupyterlab');\n        const commands = app.commands;\n        // If we have a main menu, add the theme manager to the settings menu.\n        if (mainMenu) {\n            const themeMenu = new Menu({ commands });\n            themeMenu.title.label = trans.__('JupyterLab Theme');\n            void app.restored.then(() => {\n                const isPalette = false;\n                // choose a theme\n                manager.themes.forEach(theme => {\n                    themeMenu.addItem({\n                        command: CommandIDs.changeTheme,\n                        args: { isPalette, theme }\n                    });\n                });\n                themeMenu.addItem({ type: 'separator' });\n                // toggle scrollbar theming\n                themeMenu.addItem({ command: CommandIDs.themeScrollbars });\n                themeMenu.addItem({ type: 'separator' });\n                // increase/decrease code font size\n                themeMenu.addItem({\n                    command: CommandIDs.incrFontSize,\n                    args: {\n                        label: trans.__('Increase Code Font Size'),\n                        key: 'code-font-size'\n                    }\n                });\n                themeMenu.addItem({\n                    command: CommandIDs.decrFontSize,\n                    args: {\n                        label: trans.__('Decrease Code Font Size'),\n                        key: 'code-font-size'\n                    }\n                });\n                themeMenu.addItem({ type: 'separator' });\n                // increase/decrease content font size\n                themeMenu.addItem({\n                    command: CommandIDs.incrFontSize,\n                    args: {\n                        label: trans.__('Increase Content Font Size'),\n                        key: 'content-font-size1'\n                    }\n                });\n                themeMenu.addItem({\n                    command: CommandIDs.decrFontSize,\n                    args: {\n                        label: trans.__('Decrease Content Font Size'),\n                        key: 'content-font-size1'\n                    }\n                });\n                themeMenu.addItem({ type: 'separator' });\n                // increase/decrease ui font size\n                themeMenu.addItem({\n                    command: CommandIDs.incrFontSize,\n                    args: {\n                        label: trans.__('Increase UI Font Size'),\n                        key: 'ui-font-size1'\n                    }\n                });\n                themeMenu.addItem({\n                    command: CommandIDs.decrFontSize,\n                    args: {\n                        label: trans.__('Decrease UI Font Size'),\n                        key: 'ui-font-size1'\n                    }\n                });\n            });\n            mainMenu.settingsMenu.addGroup([\n                {\n                    type: 'submenu',\n                    submenu: themeMenu\n                }\n            ], 0);\n        }\n        // If we have a command palette, add theme switching options to it.\n        if (palette) {\n            void app.restored.then(() => {\n                const category = trans.__('Theme');\n                const command = CommandIDs.changeTheme;\n                const isPalette = true;\n                // choose a theme\n                manager.themes.forEach(theme => {\n                    palette.addItem({ command, args: { isPalette, theme }, category });\n                });\n                // toggle scrollbar theming\n                palette.addItem({ command: CommandIDs.themeScrollbars, category });\n                // increase/decrease code font size\n                palette.addItem({\n                    command: CommandIDs.incrFontSize,\n                    args: {\n                        label: trans.__('Increase Code Font Size'),\n                        key: 'code-font-size'\n                    },\n                    category\n                });\n                palette.addItem({\n                    command: CommandIDs.decrFontSize,\n                    args: {\n                        label: trans.__('Decrease Code Font Size'),\n                        key: 'code-font-size'\n                    },\n                    category\n                });\n                // increase/decrease content font size\n                palette.addItem({\n                    command: CommandIDs.incrFontSize,\n                    args: {\n                        label: trans.__('Increase Content Font Size'),\n                        key: 'content-font-size1'\n                    },\n                    category\n                });\n                palette.addItem({\n                    command: CommandIDs.decrFontSize,\n                    args: {\n                        label: trans.__('Decrease Content Font Size'),\n                        key: 'content-font-size1'\n                    },\n                    category\n                });\n                // increase/decrease ui font size\n                palette.addItem({\n                    command: CommandIDs.incrFontSize,\n                    args: {\n                        label: trans.__('Increase UI Font Size'),\n                        key: 'ui-font-size1'\n                    },\n                    category\n                });\n                palette.addItem({\n                    command: CommandIDs.decrFontSize,\n                    args: {\n                        label: trans.__('Decrease UI Font Size'),\n                        key: 'ui-font-size1'\n                    },\n                    category\n                });\n            });\n        }\n    },\n    autoStart: true\n};\n//# sourceMappingURL=themesplugins.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { IRouter } from '@jupyterlab/application';\nimport { showDialog, Dialog, IWindowResolver } from '@jupyterlab/apputils';\nimport { ABCWidgetFactory, DocumentWidget } from '@jupyterlab/docregistry';\nimport { IFileBrowserFactory } from '@jupyterlab/filebrowser';\nimport { IMainMenu } from '@jupyterlab/mainmenu';\nimport { IStateDB } from '@jupyterlab/statedb';\nimport { nullTranslator, ITranslator } from '@jupyterlab/translation';\nimport { Widget } from '@lumino/widgets';\nvar CommandIDs;\n(function (CommandIDs) {\n    CommandIDs.saveWorkspace = 'workspace-ui:save';\n    CommandIDs.saveWorkspaceAs = 'workspace-ui:save-as';\n})(CommandIDs || (CommandIDs = {}));\nconst WORKSPACE_NAME = 'jupyterlab-workspace';\nconst WORKSPACE_EXT = '.' + WORKSPACE_NAME;\nconst LAST_SAVE_ID = 'workspace-ui:lastSave';\nconst ICON_NAME = 'jp-JupyterIcon';\n/**\n * The workspace MIME renderer and save plugin.\n */\nexport const workspacesPlugin = {\n    id: '@jupyterlab/apputils-extension:workspaces',\n    autoStart: true,\n    requires: [\n        IMainMenu,\n        IFileBrowserFactory,\n        IWindowResolver,\n        IStateDB,\n        ITranslator\n    ],\n    optional: [IRouter],\n    activate: (app, menu, fbf, resolver, state, translator, router) => {\n        const trans = translator.load('jupyterlab');\n        const ft = {\n            name: WORKSPACE_NAME,\n            contentType: 'file',\n            fileFormat: 'text',\n            displayName: trans.__('JupyterLab workspace File'),\n            extensions: [WORKSPACE_EXT],\n            mimeTypes: ['text/json'],\n            iconClass: ICON_NAME\n        };\n        app.docRegistry.addFileType(ft);\n        // The workspace factory creates dummy widgets to load a new workspace.\n        const factory = new Private.WorkspaceFactory(app.serviceManager.workspaces, router, state, translator);\n        app.docRegistry.addWidgetFactory(factory);\n        app.commands.addCommand(CommandIDs.saveWorkspaceAs, {\n            label: trans.__('Save Current Workspace As…'),\n            execute: async () => {\n                const data = app.serviceManager.workspaces.fetch(resolver.name);\n                await Private.saveAs(fbf.defaultBrowser, app.serviceManager.contents, data, state, translator);\n            }\n        });\n        app.commands.addCommand(CommandIDs.saveWorkspace, {\n            label: trans.__('Save Current Workspace'),\n            execute: async () => {\n                const { contents } = app.serviceManager;\n                const data = app.serviceManager.workspaces.fetch(resolver.name);\n                const lastSave = (await state.fetch(LAST_SAVE_ID));\n                if (lastSave === undefined) {\n                    await Private.saveAs(fbf.defaultBrowser, contents, data, state, translator);\n                }\n                else {\n                    await Private.save(lastSave, contents, data, state);\n                }\n            }\n        });\n        menu.fileMenu.addGroup([\n            { command: CommandIDs.saveWorkspaceAs },\n            { command: CommandIDs.saveWorkspace }\n        ], 40);\n    }\n};\nvar Private;\n(function (Private) {\n    /**\n     * Save workspace to a user provided location\n     */\n    async function save(userPath, contents, data, state) {\n        let name = userPath.split('/').pop();\n        // Add extension if not provided or remove extension from name if it was.\n        if (name !== undefined && name.includes('.')) {\n            name = name.split('.')[0];\n        }\n        else {\n            userPath = userPath + WORKSPACE_EXT;\n        }\n        // Save last save location, for save button to work\n        await state.save(LAST_SAVE_ID, userPath);\n        const resolvedData = await data;\n        resolvedData.metadata.id = `/lab/workspaces/${name}`;\n        await contents.save(userPath, {\n            type: 'file',\n            format: 'text',\n            content: JSON.stringify(resolvedData)\n        });\n    }\n    Private.save = save;\n    /**\n     * Ask user for location, and save workspace.\n     * Default location is the current directory in the file browser\n     */\n    async function saveAs(browser, contents, data, state, translator) {\n        var _a;\n        translator = translator || nullTranslator;\n        const lastSave = await state.fetch(LAST_SAVE_ID);\n        let defaultName;\n        if (lastSave === undefined) {\n            defaultName = 'new-workspace';\n        }\n        else {\n            defaultName = (_a = lastSave.split('/').pop()) === null || _a === void 0 ? void 0 : _a.split('.')[0];\n        }\n        const defaultPath = browser.model.path + '/' + defaultName + WORKSPACE_EXT;\n        const userPath = await getSavePath(defaultPath, translator);\n        if (userPath) {\n            await save(userPath, contents, data, state);\n        }\n    }\n    Private.saveAs = saveAs;\n    /**\n     * This widget factory is used to handle double click on workspace\n     */\n    class WorkspaceFactory extends ABCWidgetFactory {\n        /**\n         * Construct a widget factory that will upload workspace into lab and jump to it\n         * @param workspaces - Used to upload the opened workspace into lab\n         * @param router - Used to navigate into the opened workspace\n         * @param state - Used to save the current workspace file name\n         */\n        constructor(workspaces, router, state, translator) {\n            translator = translator || nullTranslator;\n            const trans = translator.load('jupyterlab');\n            super({\n                name: trans.__('Workspace loader'),\n                fileTypes: [WORKSPACE_NAME],\n                defaultFor: [WORKSPACE_NAME],\n                readOnly: true\n            });\n            this.workspaces = workspaces;\n            this.router = router;\n            this.state = state;\n        }\n        /**\n         * Loads the workspace into load, and jump to it\n         * @param context This is used queried to query the workspace content\n         */\n        createNewWidget(context) {\n            // Save workspace description into jupyterlab, and navigate to it when done\n            void context.ready.then(async () => {\n                const workspaceDesc = context.model.toJSON();\n                const path = context.path;\n                const workspaceId = workspaceDesc.metadata.id;\n                // Upload workspace content to jupyterlab\n                await this.workspaces.save(workspaceId, workspaceDesc);\n                // Save last save location, for save button to work\n                await this.state.save(LAST_SAVE_ID, path);\n                if (this.router) {\n                    this.router.navigate(workspaceId, { hard: true });\n                }\n                else {\n                    document.location.href = workspaceId;\n                }\n            });\n            return dummyWidget(context);\n        }\n    }\n    Private.WorkspaceFactory = WorkspaceFactory;\n    /**\n     * Returns a dummy widget with disposed content that doesn't render in the UI.\n     *\n     * @param context - The file context.\n     */\n    function dummyWidget(context) {\n        const widget = new DocumentWidget({ content: new Widget(), context });\n        widget.content.dispose();\n        return widget;\n    }\n    /**\n     * Ask user for a path to save to.\n     * @param defaultPath Path already present when the dialog is shown\n     */\n    async function getSavePath(defaultPath, translator) {\n        translator = translator || nullTranslator;\n        const trans = translator.load('jupyterlab');\n        const saveBtn = Dialog.okButton({ label: trans.__('Save') });\n        const result = await showDialog({\n            title: trans.__('Save Current Workspace As...'),\n            body: new SaveWidget(defaultPath),\n            buttons: [Dialog.cancelButton({ label: trans.__('Cancel') }), saveBtn]\n        });\n        if (result.button.label === trans.__('Save')) {\n            return result.value;\n        }\n        else {\n            return null;\n        }\n    }\n    /**\n     * A widget that gets a file path from a user.\n     */\n    class SaveWidget extends Widget {\n        /**\n         * Gets a modal node for getting save location. Will have a default to the current opened directory\n         * @param path Default location\n         */\n        constructor(path) {\n            super({ node: createSaveNode(path) });\n        }\n        /**\n         * Gets the save path entered by the user\n         */\n        getValue() {\n            return this.node.value;\n        }\n    }\n    /**\n     * Create the node for a save widget.\n     */\n    function createSaveNode(path) {\n        const input = document.createElement('input');\n        input.value = path;\n        return input;\n    }\n})(Private || (Private = {}));\n//# sourceMappingURL=workspacesplugin.js.map","/* -----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n/**\n * @packageDocumentation\n * @module apputils-extension\n */\nimport { ILayoutRestorer, IRouter, JupyterFrontEnd } from '@jupyterlab/application';\nimport { Dialog, ICommandPalette, ISessionContextDialogs, ISplashScreen, IWindowResolver, WindowResolver, Printing, sessionContextDialogs, ISanitizer, defaultSanitizer, MainAreaWidget } from '@jupyterlab/apputils';\nimport { URLExt, PageConfig } from '@jupyterlab/coreutils';\nimport { IStateDB, StateDB } from '@jupyterlab/statedb';\nimport { ITranslator } from '@jupyterlab/translation';\nimport { jupyterFaviconIcon } from '@jupyterlab/ui-components';\nimport { PromiseDelegate } from '@lumino/coreutils';\nimport { DisposableDelegate } from '@lumino/disposable';\nimport { Debouncer, Throttler } from '@lumino/polling';\nimport { Palette } from './palette';\nimport { settingsPlugin } from './settingsplugin';\nimport { ISettingRegistry } from '@jupyterlab/settingregistry';\nimport { themesPlugin, themesPaletteMenuPlugin } from './themesplugins';\nimport { workspacesPlugin } from './workspacesplugin';\n/**\n * The interval in milliseconds before recover options appear during splash.\n */\nconst SPLASH_RECOVER_TIMEOUT = 12000;\n/**\n * The command IDs used by the apputils plugin.\n */\nvar CommandIDs;\n(function (CommandIDs) {\n    CommandIDs.loadState = 'apputils:load-statedb';\n    CommandIDs.print = 'apputils:print';\n    CommandIDs.reset = 'apputils:reset';\n    CommandIDs.resetOnLoad = 'apputils:reset-on-load';\n    CommandIDs.runFirstEnabled = 'apputils:run-first-enabled';\n    CommandIDs.toggleHeader = 'apputils:toggle-header';\n})(CommandIDs || (CommandIDs = {}));\n/**\n * The default command palette extension.\n */\nconst palette = {\n    id: '@jupyterlab/apputils-extension:palette',\n    autoStart: true,\n    requires: [ITranslator],\n    provides: ICommandPalette,\n    optional: [ISettingRegistry],\n    activate: (app, translator, settingRegistry) => {\n        return Palette.activate(app, translator, settingRegistry);\n    }\n};\n/**\n * The default command palette's restoration extension.\n *\n * #### Notes\n * The command palette's restoration logic is handled separately from the\n * command palette provider extension because the layout restorer dependency\n * causes the command palette to be unavailable to other extensions earlier\n * in the application load cycle.\n */\nconst paletteRestorer = {\n    id: '@jupyterlab/apputils-extension:palette-restorer',\n    autoStart: true,\n    requires: [ILayoutRestorer, ITranslator],\n    activate: (app, restorer, translator) => {\n        Palette.restore(app, restorer, translator);\n    }\n};\n/**\n * The default window name resolver provider.\n */\nconst resolver = {\n    id: '@jupyterlab/apputils-extension:resolver',\n    autoStart: true,\n    provides: IWindowResolver,\n    requires: [JupyterFrontEnd.IPaths, IRouter],\n    activate: async (app, paths, router) => {\n        const { hash, search } = router.current;\n        const query = URLExt.queryStringToObject(search || '');\n        const solver = new WindowResolver();\n        const workspace = PageConfig.getOption('workspace');\n        const treePath = PageConfig.getOption('treePath');\n        const mode = PageConfig.getOption('mode') === 'multiple-document' ? 'lab' : 'doc';\n        // This is used as a key in local storage to refer to workspaces, either the name\n        // of the workspace or the string PageConfig.defaultWorkspace. Both lab and doc modes share the same workspace.\n        const candidate = workspace ? workspace : PageConfig.defaultWorkspace;\n        const rest = treePath ? URLExt.join('tree', treePath) : '';\n        try {\n            await solver.resolve(candidate);\n            return solver;\n        }\n        catch (error) {\n            // Window resolution has failed so the URL must change. Return a promise\n            // that never resolves to prevent the application from loading plugins\n            // that rely on `IWindowResolver`.\n            return new Promise(() => {\n                const { base } = paths.urls;\n                const pool = 'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';\n                const random = pool[Math.floor(Math.random() * pool.length)];\n                let path = URLExt.join(base, mode, 'workspaces', `auto-${random}`);\n                path = rest ? URLExt.join(path, URLExt.encodeParts(rest)) : path;\n                // Reset the workspace on load.\n                query['reset'] = '';\n                const url = path + URLExt.objectToQueryString(query) + (hash || '');\n                router.navigate(url, { hard: true });\n            });\n        }\n    }\n};\n/**\n * The default splash screen provider.\n */\nconst splash = {\n    id: '@jupyterlab/apputils-extension:splash',\n    autoStart: true,\n    requires: [ITranslator],\n    provides: ISplashScreen,\n    activate: (app, translator) => {\n        const trans = translator.load('jupyterlab');\n        const { commands, restored } = app;\n        // Create splash element and populate it.\n        const splash = document.createElement('div');\n        const galaxy = document.createElement('div');\n        const logo = document.createElement('div');\n        splash.id = 'jupyterlab-splash';\n        galaxy.id = 'galaxy';\n        logo.id = 'main-logo';\n        jupyterFaviconIcon.element({\n            container: logo,\n            stylesheet: 'splash'\n        });\n        galaxy.appendChild(logo);\n        ['1', '2', '3'].forEach(id => {\n            const moon = document.createElement('div');\n            const planet = document.createElement('div');\n            moon.id = `moon${id}`;\n            moon.className = 'moon orbit';\n            planet.id = `planet${id}`;\n            planet.className = 'planet';\n            moon.appendChild(planet);\n            galaxy.appendChild(moon);\n        });\n        splash.appendChild(galaxy);\n        // Create debounced recovery dialog function.\n        let dialog;\n        const recovery = new Throttler(async () => {\n            if (dialog) {\n                return;\n            }\n            dialog = new Dialog({\n                title: trans.__('Loading...'),\n                body: trans.__(`The loading screen is taking a long time.\nWould you like to clear the workspace or keep waiting?`),\n                buttons: [\n                    Dialog.cancelButton({ label: trans.__('Keep Waiting') }),\n                    Dialog.warnButton({ label: trans.__('Clear Workspace') })\n                ]\n            });\n            try {\n                const result = await dialog.launch();\n                dialog.dispose();\n                dialog = null;\n                if (result.button.accept && commands.hasCommand(CommandIDs.reset)) {\n                    return commands.execute(CommandIDs.reset);\n                }\n                // Re-invoke the recovery timer in the next frame.\n                requestAnimationFrame(() => {\n                    // Because recovery can be stopped, handle invocation rejection.\n                    void recovery.invoke().catch(_ => undefined);\n                });\n            }\n            catch (error) {\n                /* no-op */\n            }\n        }, { limit: SPLASH_RECOVER_TIMEOUT, edge: 'trailing' });\n        // Return ISplashScreen.\n        let splashCount = 0;\n        return {\n            show: (light = true) => {\n                splash.classList.remove('splash-fade');\n                splash.classList.toggle('light', light);\n                splash.classList.toggle('dark', !light);\n                splashCount++;\n                document.body.appendChild(splash);\n                // Because recovery can be stopped, handle invocation rejection.\n                void recovery.invoke().catch(_ => undefined);\n                return new DisposableDelegate(async () => {\n                    await restored;\n                    if (--splashCount === 0) {\n                        void recovery.stop();\n                        if (dialog) {\n                            dialog.dispose();\n                            dialog = null;\n                        }\n                        splash.classList.add('splash-fade');\n                        window.setTimeout(() => {\n                            document.body.removeChild(splash);\n                        }, 200);\n                    }\n                });\n            }\n        };\n    }\n};\nconst print = {\n    id: '@jupyterlab/apputils-extension:print',\n    autoStart: true,\n    requires: [ITranslator],\n    activate: (app, translator) => {\n        const trans = translator.load('jupyterlab');\n        app.commands.addCommand(CommandIDs.print, {\n            label: trans.__('Print…'),\n            isEnabled: () => {\n                const widget = app.shell.currentWidget;\n                return Printing.getPrintFunction(widget) !== null;\n            },\n            execute: async () => {\n                const widget = app.shell.currentWidget;\n                const printFunction = Printing.getPrintFunction(widget);\n                if (printFunction) {\n                    await printFunction();\n                }\n            }\n        });\n    }\n};\nexport const toggleHeader = {\n    id: '@jupyterlab/apputils-extension:toggle-header',\n    autoStart: true,\n    requires: [ITranslator],\n    optional: [ICommandPalette],\n    activate: (app, translator, palette) => {\n        const trans = translator.load('jupyterlab');\n        const category = trans.__('Main Area');\n        app.commands.addCommand(CommandIDs.toggleHeader, {\n            label: trans.__('Show Header Above Content'),\n            isEnabled: () => app.shell.currentWidget instanceof MainAreaWidget &&\n                app.shell.currentWidget.contentHeader.widgets.length > 0,\n            isToggled: () => {\n                const widget = app.shell.currentWidget;\n                return widget instanceof MainAreaWidget\n                    ? !widget.contentHeader.isHidden\n                    : false;\n            },\n            execute: async () => {\n                const widget = app.shell.currentWidget;\n                if (widget instanceof MainAreaWidget) {\n                    widget.contentHeader.setHidden(!widget.contentHeader.isHidden);\n                }\n            }\n        });\n        if (palette) {\n            palette.addItem({ command: CommandIDs.toggleHeader, category });\n        }\n    }\n};\n/**\n * Update the browser title based on the workspace and the current\n * active item.\n */\nasync function updateTabTitle(workspace, db, name) {\n    var _a, _b;\n    const data = await db.toJSON();\n    let current = (_b = (_a = data['layout-restorer:data']) === null || _a === void 0 ? void 0 : _a.main) === null || _b === void 0 ? void 0 : _b.current;\n    if (current === undefined) {\n        document.title = `JupyterLab${workspace.startsWith('auto-') ? ` (${workspace})` : ``}`;\n    }\n    else {\n        // First 15 characters of current document name\n        current = current.split(':')[1].slice(0, 15);\n        // Number of restorable items that are either notebooks or editors\n        const count = Object.keys(data).filter(item => item.startsWith('notebook') || item.startsWith('editor')).length;\n        if (workspace.startsWith('auto-')) {\n            document.title = `${current} (${workspace}${count > 1 ? ` : ${count}` : ``}) - ${name}`;\n        }\n        else {\n            document.title = `${current}${count > 1 ? ` (${count})` : ``} - ${name}`;\n        }\n    }\n}\n/**\n * The default state database for storing application state.\n *\n * #### Notes\n * If this extension is loaded with a window resolver, it will automatically add\n * state management commands, URL support for `clone` and `reset`, and workspace\n * auto-saving. Otherwise, it will return a simple in-memory state database.\n */\nconst state = {\n    id: '@jupyterlab/apputils-extension:state',\n    autoStart: true,\n    provides: IStateDB,\n    requires: [JupyterFrontEnd.IPaths, IRouter, ITranslator],\n    optional: [IWindowResolver],\n    activate: (app, paths, router, translator, resolver) => {\n        const trans = translator.load('jupyterlab');\n        if (resolver === null) {\n            return new StateDB();\n        }\n        let resolved = false;\n        const { commands, name, serviceManager } = app;\n        const { workspaces } = serviceManager;\n        const workspace = resolver.name;\n        const transform = new PromiseDelegate();\n        const db = new StateDB({ transform: transform.promise });\n        const save = new Debouncer(async () => {\n            const id = workspace;\n            const metadata = { id };\n            const data = await db.toJSON();\n            await workspaces.save(id, { data, metadata });\n        });\n        // Any time the local state database changes, save the workspace.\n        db.changed.connect(() => void save.invoke(), db);\n        db.changed.connect(() => updateTabTitle(workspace, db, name));\n        commands.addCommand(CommandIDs.loadState, {\n            execute: async (args) => {\n                // Since the command can be executed an arbitrary number of times, make\n                // sure it is safe to call multiple times.\n                if (resolved) {\n                    return;\n                }\n                const { hash, path, search } = args;\n                const { urls } = paths;\n                const query = URLExt.queryStringToObject(search || '');\n                const clone = typeof query['clone'] === 'string'\n                    ? query['clone'] === ''\n                        ? URLExt.join(urls.base, urls.app)\n                        : URLExt.join(urls.base, urls.app, 'workspaces', query['clone'])\n                    : null;\n                const source = clone || workspace || null;\n                if (source === null) {\n                    console.error(`${CommandIDs.loadState} cannot load null workspace.`);\n                    return;\n                }\n                try {\n                    const saved = await workspaces.fetch(source);\n                    // If this command is called after a reset, the state database\n                    // will already be resolved.\n                    if (!resolved) {\n                        resolved = true;\n                        transform.resolve({ type: 'overwrite', contents: saved.data });\n                    }\n                }\n                catch ({ message }) {\n                    console.warn(`Fetching workspace \"${workspace}\" failed.`, message);\n                    // If the workspace does not exist, cancel the data transformation\n                    // and save a workspace with the current user state data.\n                    if (!resolved) {\n                        resolved = true;\n                        transform.resolve({ type: 'cancel', contents: null });\n                    }\n                }\n                if (source === clone) {\n                    // Maintain the query string parameters but remove `clone`.\n                    delete query['clone'];\n                    const url = path + URLExt.objectToQueryString(query) + hash;\n                    const cloned = save.invoke().then(() => router.stop);\n                    // After the state has been cloned, navigate to the URL.\n                    void cloned.then(() => {\n                        router.navigate(url);\n                    });\n                    return cloned;\n                }\n                // After the state database has finished loading, save it.\n                await save.invoke();\n            }\n        });\n        commands.addCommand(CommandIDs.reset, {\n            label: trans.__('Reset Application State'),\n            execute: async ({ reload }) => {\n                await db.clear();\n                await save.invoke();\n                if (reload) {\n                    router.reload();\n                }\n            }\n        });\n        commands.addCommand(CommandIDs.resetOnLoad, {\n            execute: (args) => {\n                const { hash, path, search } = args;\n                const query = URLExt.queryStringToObject(search || '');\n                const reset = 'reset' in query;\n                const clone = 'clone' in query;\n                if (!reset) {\n                    return;\n                }\n                // If the state database has already been resolved, resetting is\n                // impossible without reloading.\n                if (resolved) {\n                    return router.reload();\n                }\n                // Empty the state database.\n                resolved = true;\n                transform.resolve({ type: 'clear', contents: null });\n                // Maintain the query string parameters but remove `reset`.\n                delete query['reset'];\n                const url = path + URLExt.objectToQueryString(query) + hash;\n                const cleared = db.clear().then(() => save.invoke());\n                // After the state has been reset, navigate to the URL.\n                if (clone) {\n                    void cleared.then(() => {\n                        router.navigate(url, { hard: true });\n                    });\n                }\n                else {\n                    void cleared.then(() => {\n                        router.navigate(url);\n                    });\n                }\n                return cleared;\n            }\n        });\n        router.register({\n            command: CommandIDs.loadState,\n            pattern: /.?/,\n            rank: 30 // High priority: 30:100.\n        });\n        router.register({\n            command: CommandIDs.resetOnLoad,\n            pattern: /(\\?reset|\\&reset)($|&)/,\n            rank: 20 // High priority: 20:100.\n        });\n        return db;\n    }\n};\n/**\n * The default session context dialogs extension.\n */\nconst sessionDialogs = {\n    id: '@jupyterlab/apputils-extension:sessionDialogs',\n    provides: ISessionContextDialogs,\n    autoStart: true,\n    activate: () => {\n        return sessionContextDialogs;\n    }\n};\n/**\n * Utility commands\n */\nconst utilityCommands = {\n    id: '@jupyterlab/apputils-extension:utilityCommands',\n    requires: [ITranslator],\n    autoStart: true,\n    activate: (app, translator) => {\n        const trans = translator.load('jupyterlab');\n        const { commands } = app;\n        commands.addCommand(CommandIDs.runFirstEnabled, {\n            label: trans.__('Run First Enabled Command'),\n            execute: args => {\n                const commands = args.commands;\n                const commandArgs = args.args;\n                const argList = Array.isArray(args);\n                for (let i = 0; i < commands.length; i++) {\n                    const cmd = commands[i];\n                    const arg = argList ? commandArgs[i] : commandArgs;\n                    if (app.commands.isEnabled(cmd, arg)) {\n                        return app.commands.execute(cmd, arg);\n                    }\n                }\n            }\n        });\n    }\n};\n/**\n * The default HTML sanitizer.\n */\nconst sanitizer = {\n    id: '@jupyter/apputils-extension:sanitizer',\n    autoStart: true,\n    provides: ISanitizer,\n    activate: () => {\n        return defaultSanitizer;\n    }\n};\n/**\n * Export the plugins as default.\n */\nconst plugins = [\n    palette,\n    paletteRestorer,\n    print,\n    resolver,\n    sanitizer,\n    settingsPlugin,\n    state,\n    splash,\n    sessionDialogs,\n    themesPlugin,\n    themesPaletteMenuPlugin,\n    toggleHeader,\n    utilityCommands,\n    workspacesPlugin\n];\nexport default plugins;\n//# sourceMappingURL=index.js.map"],"sourceRoot":""}