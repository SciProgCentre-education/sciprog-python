(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[4178],{14178:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ITableOfContentsRegistry:()=>s,TableOfContents:()=>m,TableOfContentsRegistry:()=>l,createLatexGenerator:()=>b,createMarkdownGenerator:()=>S,createNotebookGenerator:()=>V,createPythonGenerator:()=>Y,createRenderedMarkdownGenerator:()=>I});var r=n(66065),o=n(58137);const s=new r.Token("@jupyterlab/toc:ITableOfContentsRegistry");class l{constructor(){this._collapseChanged=new o.Signal(this),this._generators=[]}find(e){for(let t=0;t<this._generators.length;t++){const n=this._generators[t];if(n.tracker.has(e)){if(n.isEnabled&&!n.isEnabled(e))continue;return n}}}add(e){e.collapseChanged&&e.collapseChanged.connect(((e,t)=>{this._collapseChanged.emit(t)})),this._generators.push(e)}get collapseChanged(){return this._collapseChanged}}!function(e){e.IOptionsManager=class{}}(l||(l={}));var a=n(96927),i=n(54819),c=n(87939),d=n(17179),h=n(77031);class u extends a.Component{render(){const{heading:e,toc:t}=this.props;let n=this.props.itemRenderer(e,t);return n&&a.createElement("li",{onClick:t=>{t.preventDefault(),t.stopPropagation(),e.onClick()}},n)}}class g extends a.Component{render(){const e=this.props.toolbar;let t=0,n=this.props.toc.map((e=>a.createElement(u,{heading:e,toc:this.props.toc,itemRenderer:this.props.itemRenderer,key:`${e.text}-${e.level}-${t++}`})));return a.createElement("div",{className:"jp-TableOfContents"},a.createElement("div",{className:"jp-stack-panel-header"},this.props.title),e&&a.createElement(e,null),a.createElement("ul",{className:"jp-TableOfContents-content"},n))}}class m extends h.Widget{constructor(e){super(),this.translator=e.translator||d.nullTranslator,this._docmanager=e.docmanager,this._rendermime=e.rendermime,this._trans=this.translator.load("jupyterlab")}get current(){return this._current}set current(e){if(e&&this._current&&this._current.widget===e.widget&&this._current.generator===e.generator)return;if(this._current=e,this.generator&&(this.generator.toolbarGenerator?this._toolbar=this.generator.toolbarGenerator():this._toolbar=null),this._monitor&&(this._monitor.dispose(),this._monitor=null),!this._current)return void this.update();const t=this._docmanager.contextForWidget(this._current.widget);if(!t||!t.model)throw Error("Could not find a context for the Table of Contents");this._monitor=new c.ActivityMonitor({signal:t.model.contentChanged,timeout:1e3}),this._monitor.activityStopped.connect(this.update,this),this.update()}get generator(){return this._current?this._current.generator:null}onUpdateRequest(e){let t=[],n=this._trans.__("Table of Contents");if(this._current){t=this._current.generator.generate(this._current.widget);const e=this._docmanager.contextForWidget(this._current.widget);e&&(n=c.PathExt.basename(e.localPath))}let r=e=>a.createElement("span",null,e.text);this._current&&this._current.generator.itemRenderer&&(r=this._current.generator.itemRenderer);let o=a.createElement("div",{className:"jp-TableOfContents"},a.createElement("div",{className:"jp-stack-panel-header"},n));this._current&&this._current.generator&&(o=a.createElement(g,{title:n,toc:t,generator:this.generator,itemRenderer:r,toolbar:this._toolbar})),i.render(o,this.node,(()=>{this._current&&!0===this._current.generator.usesLatex&&this._rendermime.latexTypesetter&&this._rendermime.latexTypesetter.typeset(this.node)}))}onAfterShow(e){this.update()}}const p={part:1,chapter:1,section:1,subsection:2,subsubsection:3,paragraph:4,subparagraph:5};function f(e){let t=e.content.model.mimeType;return"text/x-latex"===t||"text/x-stex"===t}function w(e){let t=e.content.model.value.text.split("\n");t=function(e){for(let t=0;t<e.length;t++)e[t]=[e[t],t];return e}(t);let n=[];for(let e=0;e<t.length;e++){const o=/^\s*\\(section|subsection|subsubsection){(.+)}/,s=t[e][0].match(o);s&&n.push({text:s[2],level:p[s[1]],onClick:r(t[e][1])})}return n;function r(t){return()=>{e.content.editor.setCursorPosition({line:t,column:0})}}}function b(e){return{tracker:e,usesLatex:!0,isEnabled:f,generate:w}}function _(e){return"text/x-ipythongfm"===e||"text/x-markdown"===e||"text/x-gfm"===e||"text/markdown"===e}class C extends l.IOptionsManager{constructor(e,t){super(),this._numbering=t.numbering,this._widget=e,this.translator=t.translator||d.nullTranslator,this.sanitizer=t.sanitizer}set numbering(e){this._numbering=e,this._widget.update()}get numbering(){return this._numbering}initializeOptions(e){this._numbering=e,this._widget.update()}}const v={allowedTags:["p","blockquote","b","i","strong","em","strike","code","br","div","span","pre","del"],allowedAttributes:{code:["class"],span:["class"],div:["class"],p:["class"],pre:["class"]}};function x(e,t){let n,r="toc-level-size-"+t.level,o=t.numbering&&e.numbering?t.numbering:"";if(t.html){let s=e.sanitizer.sanitize(t.html,v);n=a.createElement("span",{dangerouslySetInnerHTML:{__html:o+s},className:"toc-markdown-cell "+r})}else n=a.createElement("span",{className:r}," ",o+t.text);return n}var T=n(10189);function k(e){return class extends a.Component{constructor(t){super(t),this.state={numbering:!1},e.initializeOptions(!1),this._trans=e.translator.load("jupyterlab")}render(){const t=()=>{e.numbering=!e.numbering,this.setState({numbering:e.numbering})},n=a.createElement("div",{onClick:e=>t(),role:"text","aria-label":this._trans.__("Toggle Auto-Numbering"),title:this._trans.__("Toggle Auto-Numbering"),className:this.state.numbering?"toc-toolbar-icon-selected":"toc-toolbar-icon"},a.createElement(T.numberingIcon.react,null));return a.createElement("div",null,a.createElement("div",{className:"toc-toolbar"},n))}}}function E(e,t){if(null===e)return;let n="";if(e=function(e,t){for(let n=t+1;n<=6;n++)void 0!==e[n]&&(e[n]=void 0);return void 0===e[t]?e[t]=1:e[t]+=1,e}(e,t),t>=1){for(let r=1;r<=t;r++)n+=(void 0===e[r]?"0":e[r])+".";n+=" "}return n}function y(e){const t=e.split("\n");let n=t[0].match(/^([#]{1,6}) (.*)/);return n?{text:n[2].replace(/\[(.+)\]\(.+\)/g,"$1"),level:n[1].length,type:"markdown"}:t.length>1&&(n=t[1].match(/^ {0,3}([=]{2,}|[-]{2,})\s*$/),n)?{text:t[0].replace(/\[(.+)\]\(.+\)/g,"$1"),level:"="===n[1][0]?1:2,type:"markdown-alt"}:(n=t[0].match(/<h([1-6]).*>(.*)<\/h\1>/i),n?{text:n[2],level:parseInt(n[1],10),type:"html"}:null)}function N(e){return()=>{e.scrollIntoView()}}function M(e){return _(e.content.model.mimeType)}function R(e){return function(e,t,n){const r=e.split("\n");let o,s=[];for(let e=0;e<r.length;e++){let l=r[e];if(0===l.indexOf("```")&&(o=!o),o)continue;l+=r[e+1]?"\n"+r[e+1]:"";const a=y(l);a&&s.push({text:a.text,numbering:E(n,a.level),level:a.level,onClick:t(e)})}return s}(e.content.model.value.text,(function(t){return()=>{e.content.editor.setCursorPosition({line:t,column:0})}}),{})}function S(e,t,n,r){const o=new C(t,{numbering:!0,sanitizer:n,translator:r||d.nullTranslator});return{tracker:e,usesLatex:!0,options:o,toolbarGenerator:function(){return k(o)},itemRenderer:function(e){return x(o,e)},isEnabled:M,generate:R}}function I(e,t,n,r){const o=new C(t,{numbering:!0,sanitizer:n,translator:r||d.nullTranslator});return{tracker:e,usesLatex:!0,options:o,toolbarGenerator:function(){return k(o)},itemRenderer:function(e){return x(o,e)},generate:function(e){return function(e,t,n,r=!0){let o=e.querySelectorAll("h1, h2, h3, h4, h5, h6"),s=[];for(let e=0;e<o.length;e++){const l=o[e],a=parseInt(l.tagName[1],10);let i=l.textContent?l.textContent:"",c=!r;l.getElementsByClassName("numbering-entry").length>0&&l.removeChild(l.getElementsByClassName("numbering-entry")[0]);let d=t.sanitize(l.innerHTML,v);d=d.replace("¶","");let h=E(n,a),u="";c||(u='<span class="numbering-entry">'+h+"</span>"),l.innerHTML=u+d,s.push({level:a,text:i.replace("¶",""),numbering:h,html:d,onClick:N(l)})}return s}(e.content.node,n,{},o.numbering)}}}class W extends l.IOptionsManager{constructor(e,t,n){super(),this._preRenderedToolbar=null,this._filtered=[],this._showCode=!1,this._showMarkdown=!1,this._showTags=!1,this._tagTool=null,this._numbering=n.numbering,this._widget=e,this._notebook=t,this.sanitizer=n.sanitizer,this.storeTags=[],this.translator=n.translator||d.nullTranslator,this._collapseChanged=new o.Signal(this)}set tagTool(e){this._tagTool=e}get tagTool(){return this._tagTool}set notebookMetadata(e){null!=this._notebook.currentWidget&&this._notebook.currentWidget.model.metadata.set(e[0],e[1])}set numbering(e){this._numbering=e,this._widget.update(),this.notebookMetadata=["toc-autonumbering",this._numbering]}get numbering(){return this._numbering}set showCode(e){this._showCode=e,this.notebookMetadata=["toc-showcode",this._showCode],this._widget.update()}get showCode(){return this._showCode}set showMarkdown(e){this._showMarkdown=e,this.notebookMetadata=["toc-showmarkdowntxt",this._showMarkdown],this._widget.update()}get showMarkdown(){return this._showMarkdown}get collapseChanged(){return this._collapseChanged}set showTags(e){this._showTags=e,this.notebookMetadata=["toc-showtags",this._showTags],this._widget.update()}get showTags(){return this._showTags}get filtered(){return this.tagTool?this._filtered=this.tagTool.filtered:this.storeTags.length>0?this._filtered=this.storeTags:this._filtered=[],this._filtered}set preRenderedToolbar(e){this._preRenderedToolbar=e}get preRenderedToolbar(){return this._preRenderedToolbar}updateWidget(){this._widget.update()}updateAndCollapse(e){this._collapseChanged.emit(e),this._widget.update()}initializeOptions(e,t,n,r){this._numbering=e,this._showCode=t,this._showMarkdown=n,this._showTags=r,this._widget.update()}}function O(e,t,n,r,o,s=-1){let l=[];if(-1===s&&console.warn("Deprecation warning! index argument will become mandatory in the next version"),e){const a=e.split("\n"),i=Math.min(a.length,3);let c="",d=0;for(;d<i-1;d++)c+=a[d]+"\n";c+=a[d],l.push({text:c,level:r+1,onClick:t(0),type:"code",prompt:n,cellRef:o,hasChild:!1,index:s})}return l[0]}function z(e){if(e.length>0){let t=e.length-1;for(;t>=0;){if("header"===e[t].type)return e[t].level;t-=1}}return 0}function A(e,t,n,r,o,s=-1){const l=t(0);let a=[];-1===s&&console.warn("Deprecation warning! index argument will become mandatory in the next version");for(const t of e.split("\n")){const i=y(t);i?a.push({text:i.text,level:i.level,numbering:E(n,i.level),onClick:l,type:"header",cellRef:o,hasChild:!1,index:s}):a.push({text:e,level:r+1,onClick:l,type:"markdown",cellRef:o,hasChild:!1,index:s})}return a}function L(e,t,n,r,o,s=!1,l,a=-1){let i=e.querySelectorAll("h1, h2, h3, h4, h5, h6, p");-1===a&&console.warn("Deprecation warning! index argument will become mandatory in the next version");let c=[];for(const e of i){if("p"===e.nodeName.toLowerCase()){if(e.innerHTML){let r=n.sanitize(e.innerHTML,v);c.push({level:o+1,html:r.replace("¶",""),text:e.textContent?e.textContent:"",onClick:t(e),type:"markdown",cellRef:l,hasChild:!1,index:a})}continue}e.getElementsByClassName("numbering-entry").length>0&&e.removeChild(e.getElementsByClassName("numbering-entry")[0]);let i=n.sanitize(e.innerHTML,v);i=i.replace("¶","");const d=parseInt(e.tagName[1],10);let h=E(r,d);if(s){const t=document.createElement("span");t.classList.add("numbering-entry"),t.textContent=null!=h?h:"",e.insertBefore(t,e.firstChild)}c.push({level:d,text:e.textContent?e.textContent:"",numbering:h,html:i,onClick:t(e),type:"header",cellRef:l,hasChild:!1,index:a})}return c}function P(e,t){if(0===t.length)return!1;if(e&&e.cellRef){let n=e.cellRef.model.metadata.get("tags");if(n)for(let e=0;e<n.length;e++){let r=n[e];for(let e=0;e<t.length;e++)if(t[e]===r)return!1}}return!0}function j(e,t,n,r,o){if(t&&!P(t,o)&&t.text){if(n&&"header"===n.type)for(let t=e.length-1;t>=0;t--)e[t]===n&&(e[t].hasChild=!0);r<0&&e.push(t),n=t}return[e,n]}function H(e,t,n,r,o,s,l){return e&&"markdown"===e.type&&l?[t,n]=j(t,e,n,r,o):e&&"header"===e.type&&([t,n,r]=function(e,t,n,r,o,s){const l=e.length;if(P(t,o)){if(n&&t.level<=n.level){let o=!1,s=l-1;for(;s>=0;s--)if(e[s].level<t.level){n=e[s],o=!0;break}o?r=e[s+1].cellRef.model.metadata.get("toc-hr-collapsed")?e[s+1].level:-1:(n=null,r=-1)}}else{if(n&&"header"===n.type&&n.level<t.level)for(let t=l-1;t>=0;t--)e[t]===n&&(e[t].hasChild=!0);(r>=t.level||r<0)&&(e.push(t),r=s?t.level:-1),n=t}return[e,n,r]}(t,e,n,r,o,s)),[t,n,r]}class F extends a.Component{constructor(e){super(e),this.state={heading:e.heading}}UNSAFE_componentWillReceiveProps(e){this.setState({heading:e.heading})}render(){let e=this.state.heading.cellRef.editor.host.innerHTML;return e=this.props.sanitizer.sanitize(e,v),a.createElement("div",{className:"cm-toc",dangerouslySetInnerHTML:{__html:e}})}}function G(e,t,n){if(t.index>-1||(null==n?void 0:n.length)){let r=e.currentWidget.content.activeCellIndex;if(t.index<r){let e=n.indexOf(t)+1;if(e>=n.length)return!0;if((null==n?void 0:n[e].index)>r)return!0}}return!1}class U extends a.Component{constructor(e){super(e)}render(){const e=this.props.tag;return a.createElement("div",null,a.createElement("label",{className:"toc-tag-label",key:(new Date).toLocaleTimeString()},e))}}class B extends a.Component{constructor(e){super(e),this.selectedTagWithName=e=>{this.props.selectedTags.indexOf(e)>=0?this.props.selectionStateHandler(e,!1):this.props.selectionStateHandler(e,!0)},this.renderTagComponents=e=>{const t=this.props.selectedTags,n=this.selectedTagWithName;return e.map(((e,r)=>{const o=t.indexOf(e)>=0?"toc-selected-tag toc-tag":"toc-unselected-tag toc-tag";return a.createElement("div",{key:e,className:o,onClick:t=>{n(e)},tabIndex:0},a.createElement(U,{selectionStateHandler:this.props.selectionStateHandler,selectedTags:this.props.selectedTags,tag:e}))}))},this.state={selected:this.props.selectedTags}}render(){let e=this.props.tags,t=null;return e&&(t=this.renderTagComponents(e)),a.createElement("div",{className:"toc-tag-holder"},t)}}class D extends a.Component{constructor(e){super(e),this.changeSelectionState=(e,t)=>{let n=this.state.selected;if(t)n.push(e),this.setState({selected:n}),this.filterTags(n);else{let t=[];for(let r=0;r<n.length;r++)n[r]!==e&&t.push(n[r]);this.setState({selected:t}),this.filterTags(t)}},this.deselectAll=()=>{this.setState({selected:[]}),this.props.options.updateWidget()},this.filterTags=e=>{this.setState({selected:e}),this.props.options.updateWidget()},this.updateFilters=()=>{let e=[],t=0,n=!1;for(let r=0;r<this.state.selected.length;r++)this.props.tags.indexOf(this.state.selected[r])>-1?(e[t]=this.state.selected[r],t+=1):!0===this.props.options.showTags&&(n=!0);n&&(this.filterTags(e),this.setState({selected:e}))},this.state={selected:this.props.inputFilter};const t=this.props.translator||d.nullTranslator;this._trans=t.load("jupyterlab")}get filtered(){return this.state.selected}containsTag(e,t){if(null===t)return!1;let n=t.model.metadata.get("tags");if(n){for(let t=0;t<n.length;t++)if(n[t]===e)return!0;return!1}}UNSAFE_componentWillUpdate(){this.updateFilters()}render(){let e,t=a.createElement("div",{className:"toc-no-tags-div"},this._trans.__("No Tags Available"));return e=0===this.state.selected.length?a.createElement("span",{className:"toc-filter-button-na"},this._trans.__("Clear Filters")):1===this.state.selected.length?a.createElement("span",{className:"toc-filter-button",onClick:()=>this.deselectAll()}," ","Clear 1 Filter"," "):a.createElement("span",{className:"toc-filter-button",onClick:()=>this.deselectAll()}," ","Clear ",this.state.selected.length," Filters"," "),this.props.tags&&this.props.tags.length>0&&(t=a.createElement("div",{className:"toc-tags-container"},a.createElement(B,{tags:this.props.tags,selectionStateHandler:this.changeSelectionState,selectedTags:this.state.selected}),e)),t}}function V(e,t,n,r){const o=new W(t,e,{numbering:!1,sanitizer:n,translator:r||d.nullTranslator});return e.activeCellChanged.connect(((e,n)=>{t.update()})),{tracker:e,usesLatex:!0,options:o,toolbarGenerator:function(){return function(e,t){return class extends a.Component{constructor(n){super(n),this._trans=e.translator.load("jupyterlab"),this.tagTool=null,this.state={showCode:!0,showMarkdown:!1,showTags:!1,numbering:!1},t.currentWidget&&t.currentWidget.context.ready.then((()=>{if(t.currentWidget){t.currentWidget.content.activeCellChanged.connect((()=>{e.updateWidget()}));const n=t.currentWidget.model.metadata.get("toc-autonumbering"),r=t.currentWidget.model.metadata.get("toc-showcode"),o=t.currentWidget.model.metadata.get("toc-showmarkdowntxt"),s=t.currentWidget.model.metadata.get("toc-showtags");e.initializeOptions(n||e.numbering,r||e.showCode,o||e.showMarkdown,s||e.showTags),this.setState({showCode:e.showCode,showMarkdown:e.showMarkdown,showTags:e.showTags,numbering:e.numbering}),this.tags=[]}}))}toggleCode(){e.showCode=!e.showCode,this.setState({showCode:e.showCode})}toggleMarkdown(){e.showMarkdown=!e.showMarkdown,this.setState({showMarkdown:e.showMarkdown})}toggleNumbering(){e.numbering=!e.numbering,this.setState({numbering:e.numbering})}toggleTagDropdown(){e.showTags&&this.tagTool&&(e.storeTags=this.tagTool.state.selected),e.showTags=!e.showTags,this.setState({showTags:e.showTags})}loadTags(){const e=t.currentWidget;if(e){const t=e.model.cells,n=new Set;this.tags=[];for(let e=0;e<t.length;e++){const r=t.get(e).metadata.get("tags");Array.isArray(r)&&r.forEach((e=>e&&n.add(e)))}this.tags=Array.from(n)}}render(){const n=a.createElement("div",{onClick:e=>this.toggleCode(),role:"text","aria-label":this._trans.__("Toggle Code Cells"),title:this._trans.__("Toggle Code Cells"),className:this.state.showCode?"toc-toolbar-code-icon toc-toolbar-icon-selected":"toc-toolbar-code-icon toc-toolbar-icon"},a.createElement(T.codeIcon.react,null)),r=a.createElement("div",{onClick:e=>this.toggleMarkdown(),role:"text","aria-label":this._trans.__("Toggle Markdown Text Cells"),title:this._trans.__("Toggle Markdown Text Cells"),className:this.state.showMarkdown?"toc-toolbar-icon-selected":"toc-toolbar-icon"},a.createElement(T.markdownIcon.react,null)),o=a.createElement("div",{onClick:e=>this.toggleNumbering(),role:"text","aria-label":this._trans.__("Toggle Auto-Numbering"),title:this._trans.__("Toggle Auto-Numbering"),className:this.state.numbering?"toc-toolbar-icon-selected":"toc-toolbar-icon"},a.createElement(T.numberingIcon.react,null));let s=a.createElement("div",null),l=a.createElement("div",{role:"text","aria-label":this._trans.__("Show Tags Menu"),title:this._trans.__("Show Tags Menu"),className:this.state.showTags?"toc-toolbar-icon-selected":"toc-toolbar-icon"},a.createElement(T.tagIcon.react,null));if(this.state.showTags){this.loadTags();const n=a.createElement(D,{tags:this.tags,tracker:t,options:e,inputFilter:e.storeTags,translator:e.translator,ref:e=>this.tagTool=e});e.tagTool=this.tagTool,s=a.createElement("div",{className:"toc-tag-dropdown"}," ",n," ")}return a.createElement("div",null,a.createElement("div",{className:"toc-toolbar"},n,r,o,a.createElement("div",{className:"toc-tag-dropdown-button",onClick:e=>this.toggleTagDropdown()},l)),s)}}}(o,e)},itemRenderer:function(t,n=[]){return function(e,t,n,r=[]){let o;if("markdown"===n.type||"header"===n.type){let l="toc-level-size-default",i=n.numbering&&e.numbering?n.numbering:"";if("header"===n.type&&(l="toc-level-size-"+n.level),n.html&&("header"===n.type||e.showMarkdown)){if(o=a.createElement("span",{dangerouslySetInnerHTML:{__html:i+e.sanitizer.sanitize(n.html,v)},className:n.type+"-cell toc-cell-item"}),"header"===n.type){let e,i=a.createElement("div",{className:"jp-Collapser p-Widget lm-Widget",onClick:e=>{e.stopPropagation(),s(n)}},a.createElement("div",{className:"toc-Collapser-child"}));n.cellRef.model.metadata.has("toc-hr-collapsed")&&(e=n.cellRef.model.metadata.get("toc-hr-collapsed"));let c=e?a.createElement("div",{className:"toc-Ellipses",onClick:e=>{e.stopPropagation(),s(n)}},a.createElement(T.ellipsesIcon.react,null)):a.createElement("div",null);o=a.createElement("div",{className:"toc-entry-holder "+l+(t.activeCell===n.cellRef||G(t,n,r)?" toc-active-cell":"")},i,o,c)}return o}if("header"===n.type||e.showMarkdown){if(o=a.createElement("span",{className:n.type+"-cell toc-cell-item"},i+n.text),"header"===n.type){let e,i=a.createElement("div",{className:"jp-Collapser p-Widget lm-Widget",onClick:e=>{e.stopPropagation(),s(n)}},a.createElement("div",{className:"toc-Collapser-child"}));n.cellRef.model.metadata.has("toc-hr-collapsed")&&(e=n.cellRef.model.metadata.get("toc-hr-collapsed"));let c=e?a.createElement("div",{className:"toc-Ellipses",onClick:e=>{e.stopPropagation(),s(n)}},a.createElement(T.ellipsesIcon.react,null)):a.createElement("div",null);o=a.createElement("div",{className:"toc-entry-holder "+l+(t.activeCell===n.cellRef||G(t,n,r)?" toc-active-cell":"")},i,o,c)}return o}return null}return"code"===n.type&&e.showCode?a.createElement("div",{className:"toc-code-cell-div"},a.createElement("div",{className:"toc-code-cell-prompt"},n.prompt),a.createElement("span",{className:"toc-code-span"},a.createElement(F,{sanitizer:e.sanitizer,heading:n}))):null;function s(t){let n;t.cellRef.model.metadata.has("toc-hr-collapsed")?(n=t.cellRef.model.metadata.get("toc-hr-collapsed"),t.cellRef.model.metadata.delete("toc-hr-collapsed")):(n=!1,t.cellRef.model.metadata.set("toc-hr-collapsed",!0)),t?e.updateAndCollapse({heading:t,collapsedState:n,tocType:"notebook"}):e.updateWidget()}}(o,e,t,n)},generate:function(e){let r=[],s=-1,l={},a=null;for(let i=0;i<e.content.widgets.length;i++){let c=e.content.widgets[i],d=c.model,h=d.metadata.get("toc-hr-collapsed");if(h=h||!1,"code"!==d.type){if("markdown"===d.type){let t,u=c,g=z(r);if(u.rendered&&!u.inputHidden){const d=t=>()=>{u.rendered?(e.content.mode="command",c.node.scrollIntoView(),e.content.activeCellIndex=i):(e.content.activeCellIndex=i,t.scrollIntoView())},m=L(c.node,d,n,l,g,o.numbering,c,i);for(t of m)[r,a,s]=H(t,r,a,s,o.filtered,h,o.showMarkdown)}else{const n=t=>()=>{e.content.activeCellIndex=i,c.node.scrollIntoView()},u=A(d.value.text,n,l,g,c,i);for(t of u)[r,a,s]=H(t,r,a,s,o.filtered,h,o.showMarkdown)}}}else{if(!t||t&&o.showCode){const t=t=>()=>{e.content.activeCellIndex=i,c.node.scrollIntoView()};let n=c.model.executionCount,l=null!==n?"["+n+"]: ":"[ ]: ",h=O(d.value.text,t,l,z(r),c,i);[r,a]=j(r,h,a,s,o.filtered)}for(let t=0;t<d.outputs.length;t++){const u=d.outputs.get(t);let g=Object.keys(u.data);if(g=g.filter((e=>{return _(e)||"application/vdom.v1+json"===(t=e)||"text/html"===t;var t})),!g.length)continue;const m=t=>()=>{e.content.activeCellIndex=i,e.content.mode="command",t.scrollIntoView()};let p=L(c.outputArea.widgets[t].node,m,n,l,z(r),o.numbering,c,i);for(const e of p)[r,a,s]=H(e,r,a,s,o.filtered,h,o.showMarkdown)}}}return r},collapseChanged:o.collapseChanged}}function $(e){let t="toc-level-size-"+e.level;return a.createElement("div",{className:t+" toc-entry-holder"},a.createElement("div",{className:"jp-Collapser p-Widget lm-Widget"},a.createElement("div",{className:"toc-Collapser-child"})),a.createElement("span",{className:"header-cell toc-cell-item"}," ",e.text," "))}function q(e){let t=e.content.model.value.text.split("\n"),n=[],r=!1;for(let e=0;e<t.length;e++){let s=t[e].trim();0===s.indexOf("def ")?(r=!1,n.push({text:s.slice(0,-1),level:2,onClick:o(e)})):0===s.indexOf("class ")?(r=!1,n.push({text:s.slice(0,-1),level:1,onClick:o(e)})):0!=s.indexOf("import ")||r||(r=!0,n.push({text:s,level:2,onClick:o(e)}))}return n;function o(t){return()=>{e.content.editor.setCursorPosition({line:t,column:0})}}}function J(e){let t=e.content.model.mimeType;return"application/x-python-code"===t||"text/x-python"===t}function Y(e){return{tracker:e,isEnabled:J,itemRenderer:$,generate:q}}}}]);
//# sourceMappingURL=4178.3cff6543e08f68ec8511.js.map