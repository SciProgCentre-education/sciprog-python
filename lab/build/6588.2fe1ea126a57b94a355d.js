"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[6588,6493,4602],{11565:(e,t,a)=>{a.d(t,{Z$:()=>n,s7:()=>o,Dp:()=>r,$m:()=>s});const n=e=>e[e.length-1],o=(e,t)=>{for(let a=0;a<t.length;a++)e.push(t[a])},r=Array.from,s=(e,t)=>{return e.length===t.length&&(a=(e,a)=>e===t[a],e.every(a));var a}},1872:(e,t,a)=>{a.d(t,{PP:()=>r,WY:()=>s,UV:()=>i,Hi:()=>l});var n=a(11565),o=a(69600);const r=(e,t,a=0)=>{try{for(;a<e.length;a++)e[a](...t)}finally{a<e.length&&r(e,t,a+1)}},s=()=>{},i=(e,t)=>e===t||null!=e&&null!=t&&e.constructor===t.constructor&&(e instanceof Array&&n.$m(e,t)||"object"==typeof e&&o.$m(e,t)),l=(e,t)=>{if(null==e||null==t)return((e,t)=>e===t)(e,t);if(e.constructor!==t.constructor)return!1;if(e===t)return!0;switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),t=new Uint8Array(t);case Uint8Array:if(e.byteLength!==t.byteLength)return!1;for(let a=0;a<e.length;a++)if(e[a]!==t[a])return!1;break;case Set:if(e.size!==t.size)return!1;for(const a of e)if(!t.has(a))return!1;break;case Map:if(e.size!==t.size)return!1;for(const a of e.keys())if(!t.has(a)||!l(e.get(a),t.get(a)))return!1;break;case Object:if(o.kE(e)!==o.kE(t))return!1;for(const a in e)if(!o.l$(e,a)||!l(e[a],t[a]))return!1;break;case Array:if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(!l(e[a],t[a]))return!1;break;default:return!1}return!0}},21332:(e,t,a)=>{a.d(t,{GW:()=>n,Wn:()=>o,mv:()=>r,IH:()=>s,VV:()=>i,Fp:()=>l,GR:()=>c});const n=Math.floor,o=(Math.ceil,Math.abs),r=(Math.imul,Math.round,Math.log10),s=(Math.log2,Math.log,Math.sqrt,(e,t)=>e+t),i=(e,t)=>e<t?e:t,l=(e,t)=>e>t?e:t,c=(Number.isNaN,Math.pow,Math.sign,e=>0!==e?e<0:1/e<0)},69600:(e,t,a)=>{a.d(t,{UI:()=>o,kE:()=>r,l$:()=>s,$m:()=>i}),Object.assign;const n=Object.keys,o=(e,t)=>{const a=[];for(const n in e)a.push(t(e[n],n));return a},r=e=>n(e).length,s=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i=(e,t)=>e===t||r(e)===r(t)&&((e,t)=>{for(const a in e)if(!t(e[a],a))return!1;return!0})(e,((e,a)=>(void 0!==e||s(t,a))&&t[a]===e))},6493:(e,t,a)=>{a.d(t,{GL:()=>c,Ag:()=>d,xq:()=>u,oy:()=>h});var n=a(84795),o=a(94072),r=a(40870),s=a(21332),i=a(75736),l=a(1872);a(85230);class c extends i.y{constructor(e){super(),this.doc=e,this.clientID=e.clientID,this.states=new Map,this.meta=new Map,this._checkInterval=setInterval((()=>{const e=r.ZG();null!==this.getLocalState()&&15e3<=e-this.meta.get(this.clientID).lastUpdated&&this.setLocalState(this.getLocalState());const t=[];this.meta.forEach(((a,n)=>{n!==this.clientID&&3e4<=e-a.lastUpdated&&this.states.has(n)&&t.push(n)})),t.length>0&&d(this,t,"timeout")}),s.GW(3e3)),e.on("destroy",(()=>{this.destroy()})),this.setLocalState({})}destroy(){this.emit("destroy",[this]),this.setLocalState(null),super.destroy(),clearInterval(this._checkInterval)}getLocalState(){return this.states.get(this.clientID)||null}setLocalState(e){const t=this.clientID,a=this.meta.get(t),n=void 0===a?0:a.clock+1,o=this.states.get(t);null===e?this.states.delete(t):this.states.set(t,e),this.meta.set(t,{clock:n,lastUpdated:r.ZG()});const s=[],i=[],c=[],d=[];null===e?d.push(t):null==o?null!=e&&s.push(t):(i.push(t),l.Hi(o,e)||c.push(t)),(s.length>0||c.length>0||d.length>0)&&this.emit("change",[{added:s,updated:c,removed:d},"local"]),this.emit("update",[{added:s,updated:i,removed:d},"local"])}setLocalStateField(e,t){const a=this.getLocalState();null!==a&&this.setLocalState({...a,[e]:t})}getStates(){return this.states}}const d=(e,t,a)=>{const n=[];for(let a=0;a<t.length;a++){const o=t[a];if(e.states.has(o)){if(e.states.delete(o),o===e.clientID){const t=e.meta.get(o);e.meta.set(o,{clock:t.clock+1,lastUpdated:r.ZG()})}n.push(o)}}n.length>0&&(e.emit("change",[{added:[],updated:[],removed:n},a]),e.emit("update",[{added:[],updated:[],removed:n},a]))},u=(e,t,a=e.states)=>{const o=t.length,r=n.Mf();n.uE(r,o);for(let s=0;s<o;s++){const o=t[s],i=a.get(o)||null,l=e.meta.get(o).clock;n.uE(r,o),n.uE(r,l),n.uw(r,JSON.stringify(i))}return n._f(r)},h=(e,t,a)=>{const n=o.l1(t),s=r.ZG(),i=[],c=[],d=[],u=[],h=o.yg(n);for(let t=0;t<h;t++){const t=o.yg(n);let a=o.yg(n);const r=JSON.parse(o.kf(n)),h=e.meta.get(t),p=e.states.get(t),m=void 0===h?0:h.clock;(m<a||m===a&&null===r&&e.states.has(t))&&(null===r?t===e.clientID&&null!=e.getLocalState()?a++:e.states.delete(t):e.states.set(t,r),e.meta.set(t,{clock:a,lastUpdated:s}),void 0===h&&null!==r?i.push(t):void 0!==h&&null===r?u.push(t):null!==r&&(l.Hi(r,p)||d.push(t),c.push(t)))}(i.length>0||d.length>0||u.length>0)&&e.emit("change",[{added:i,updated:d,removed:u},a]),(i.length>0||c.length>0||u.length>0)&&e.emit("update",[{added:i,updated:c,removed:u},a])}},6588:(e,t,a)=>{a.r(t),a.d(t,{default:()=>j});var n=a(70163),o=a(78241),r=a(56532),s=a(7451),i=a(14330),l=a(38706),c=a(87580),d=a(95187),u=a(27891),h=a(38485),p=a(58623),m=a(93315),g=a(18151),f=a(40999),y=a(76749),b=a(6493),w=a(96927),v=a.n(w);const _=new RegExp("/(lab|notebooks|edit|consoles)\\/?");class k extends y.WebrtcProvider{constructor(e){super(`${e.room}${e.path}`,e.ymodel.ydoc,k.yProviderOptions(e)),this._initialRequest=null,this.awareness=e.ymodel.awareness;const t=`#${(0,f.jS)("--usercolor",(0,i.getRandomColor)().slice(1))}`,a=(0,f.jS)("--username",(0,i.getAnonymousUserName)()),n=this.awareness.getLocalState();n&&!n.name&&this.awareness.setLocalStateField("user",{name:a,color:t})}setPath(){}requestInitialContent(){if(this._initialRequest)return this._initialRequest.promise;let e=!1;return this._initialRequest=new m.PromiseDelegate,this.on("synced",(t=>{this._initialRequest&&(this._initialRequest.resolve(t.synced),e=!0)})),setTimeout((()=>{!e&&this._initialRequest&&this._initialRequest.resolve(!1)}),1e3),this._initialRequest.promise}putInitializedState(){}acquireLock(){return Promise.resolve(0)}releaseLock(e){}}var I;!function(e){e.yProviderOptions=function(e){return{signaling:e.signalingUrls&&e.signalingUrls.length?e.signalingUrls:["wss://signaling.yjs.dev","wss://y-webrtc-signaling-eu.herokuapp.com","wss://y-webrtc-signaling-us.herokuapp.com"],password:null,awareness:new b.GL(e.ymodel.ydoc),maxConns:20+Math.floor(15*Math.random()),filterBcConns:!0,peerOpts:{}}}}(k||(k={})),function(e){e.about="application:about",e.docmanagerDownload="docmanager:download",e.filebrowserDownload="filebrowser:download",e.copyShareableLink="filebrowser:share-main"}(I||(I={}));const j=[{id:"@jupyterlite/application-extension:about",autoStart:!0,requires:[d.ITranslator],optional:[o.ICommandPalette,c.IMainMenu],activate:(e,t,a,n)=>{const{commands:r}=e,s=t.load("jupyterlab"),i=s.__("Help");r.addCommand(I.about,{label:s.__("About %1",e.name),execute:()=>{const t=s.__("Version %1",e.version),a=v().createElement("span",{className:"jp-About-version-info"},v().createElement("span",{className:"jp-About-version"},t)),n=v().createElement("span",{className:"jp-About-header"},v().createElement("div",{className:"jp-About-header-info"},v().createElement(h.liteWordmark.react,{height:"auto",width:"196px"}),a)),r=v().createElement("span",{className:"jp-About-externalLinks"},v().createElement("a",{href:"https://github.com/jupyterlite/jupyterlite/graphs/contributors",target:"_blank",rel:"noopener noreferrer",className:"jp-Button-flat"},s.__("CONTRIBUTOR LIST")),v().createElement("a",{href:"https://github.com/jupyterlite/jupyterlite",target:"_blank",rel:"noopener noreferrer",className:"jp-Button-flat"},s.__("JUPYTERLITE ON GITHUB"))),i=v().createElement("span",{className:"jp-About-copyright"},s.__("Â© 2021 JupyterLite Contributors")),l=v().createElement("div",{className:"jp-About-body"},r,i);return(0,o.showDialog)({title:n,body:l,buttons:[o.Dialog.createButton({label:s.__("Dismiss"),className:"jp-About-button jp-mod-reject jp-mod-styled"})]})}}),a&&a.addItem({command:I.about,category:i}),n&&n.helpMenu.addGroup([{command:I.about}],0)}},{id:"@jupyterlite/application-extension:docprovider",provides:i.IDocumentProviderFactory,activate:e=>{const t=(0,f.jS)("--room","").trim(),a=window.location.host,n="true"===r.PageConfig.getOption("collaborative")&&t,o=JSON.parse(r.PageConfig.getOption("fullWebRtcSignalingUrls")||"null"),s=`${a}-${t||m.UUID.uuid4()}`;return e=>n?new k({room:s,...e,...o&&o.length?{signalingUrls:o}:{}}):new i.ProviderMock}},{id:"@jupyterlite/application-extension:download",autoStart:!0,requires:[d.ITranslator,s.IDocumentManager],optional:[o.ICommandPalette,l.IFileBrowserFactory],activate:(e,t,a,n,r)=>{const s=t.load("jupyterlab"),{commands:i,serviceManager:l,shell:c}=e,{contents:d}=l,h=()=>{const{currentWidget:e}=c;return!(!e||!a.contextForWidget(e))},m=(e,t)=>{const a=document.createElement("a");a.href=`data:text/json;charset=utf-8,${encodeURIComponent(e)}`,a.download=t,document.body.appendChild(a),a.click(),document.body.removeChild(a)},g=async e=>{const t=await d.get(e,{content:!0});return"notebook"===t.type||-1!==t.mimetype.indexOf("json")?JSON.stringify(t.content,null,2):t.content};i.addCommand(I.docmanagerDownload,{label:s.__("Download"),caption:s.__("Download the file to your computer"),isEnabled:h,execute:async()=>{const e=c.currentWidget;if(!h()||!e)return;const t=a.contextForWidget(e);if(!t)return(0,o.showDialog)({title:s.__("Cannot Download"),body:s.__("No context found for current widget!"),buttons:[o.Dialog.okButton({label:s.__("OK")})]});const n=await g(t.path);m(n,t.path)}});const f=s.__("File Operations");if(n&&n.addItem({command:I.docmanagerDownload,category:f}),r){const{tracker:e}=r;i.addCommand(I.filebrowserDownload,{execute:async()=>{const t=e.currentWidget;t&&(0,p.toArray)(t.selectedItems()).forEach((async e=>{if("directory"===e.type)return;const t=await g(e.path);m(t,e.name)}))},icon:u.downloadIcon.bindprops({stylesheet:"menuItem"}),label:s.__("Download")})}}},{id:"@jupyterlite/application-extension:logo",optional:[n.ILabShell],autoStart:!0,activate:(e,t)=>{if(!t)return;const a=new g.Widget;h.liteIcon.element({container:a.node,elementPosition:"center",margin:"2px 2px 2px 8px",height:"auto",width:"16px"}),a.id="jp-MainLogo",t.add(a,"top",{rank:0})}},{id:"@jupyterlite/application-extension:opener",autoStart:!0,requires:[n.IRouter,s.IDocumentManager],activate:(e,t,a)=>{const{commands:n}=e,o="router:tree";n.addCommand(o,{execute:o=>{var s;const i=o,{request:l,search:c}=i;if(null!==(s=l.match(_))&&void 0!==s&&!s)return;const d=new URLSearchParams(c).getAll("path");if(!d)return;const u=d.map((e=>decodeURIComponent(e)));e.restored.then((()=>{const e=r.PageConfig.getOption("retroPage"),[o]=u;switch(e){case"consoles":return void n.execute("console:create",{path:o});case"notebooks":return void a.open(o,"Notebook",void 0,{ref:"_noref"});case"edit":return void a.open(o,"Editor",void 0,{ref:"_noref"});default:{u.forEach((e=>a.open(e)));const e=new URL(r.URLExt.join(r.PageConfig.getBaseUrl(),l));e.searchParams.delete("path");const{pathname:n,search:o}=e;t.navigate(`${n}${o}`,{skipRouting:!0});break}}}))}}),t.register({command:o,pattern:_})}},{id:"@jupyterlite/application-extension:share-file",requires:[l.IFileBrowserFactory,d.ITranslator],autoStart:!0,activate:(e,t,a)=>{const n=a.load("jupyterlab"),{commands:s}=e,{tracker:i}=t,l=(0,f.jS)("--room","").trim(),c="true"===r.PageConfig.getOption("collaborative")&&l;s.addCommand(I.copyShareableLink,{execute:()=>{const e=i.currentWidget;if(!e)return;const t=new URL(r.URLExt.join(r.PageConfig.getBaseUrl(),"lab"));(0,p.toArray)((0,p.filter)(e.selectedItems(),(e=>"directory"!==e.type))).forEach((e=>{t.searchParams.append("path",e.path)})),c&&t.searchParams.append("room",l),o.Clipboard.copyToSystem(t.href)},isVisible:()=>!!i.currentWidget&&(0,p.toArray)(i.currentWidget.selectedItems()).length>=1,icon:u.linkIcon.bindprops({stylesheet:"menuItem"}),label:n.__("Copy Shareable Link")})}}]}}]);
//# sourceMappingURL=6588.2fe1ea126a57b94a355d.js.map