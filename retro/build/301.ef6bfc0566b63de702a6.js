(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[301,132,3124,5382,4529,6204],{76204:(e,t,s)=>{"use strict";s.r(t),s.d(t,{IDocumentProviderFactory:()=>I,ProviderMock:()=>C,WebSocketProviderWithLocks:()=>b});var n=s(64871),o=s(62538),c=s(40870),r=s(23406),i=s(49e3),a=s(68078),u=s(65831),l=s(6493),h=s(31955),d=s(75736),f=s(21332),w=s(29849);const m=[];m[0]=(e,t,s,n,o)=>{r.uE(e,0);const c=a.zu(t,e,s.doc,s);n&&c===a.Px&&!s.synced&&(s.synced=!0)},m[3]=(e,t,s,n,o)=>{r.uE(e,1),r.mP(e,l.xq(s.awareness,Array.from(s.awareness.getStates().keys())))},m[1]=(e,t,s,n,o)=>{l.oy(s.awareness,i.HN(t),s)},m[2]=(e,t,s,n,o)=>{u.nw(t,s.doc,p)};const p=(e,t)=>console.warn(`Permission denied to access ${e.url}.\n${t}`),g=(e,t,s)=>{const n=i.l1(t),o=r.Mf(),c=i.yg(n),a=e.messageHandlers[c];return a?a(o,n,e,s,c):console.error("Unable to compute message"),o},y=e=>{if(e.shouldConnect&&null===e.ws){const t=new e._WS(e.url);t.binaryType="arraybuffer",e.ws=t,e.wsconnecting=!0,e.wsconnected=!1,e.synced=!1,t.onmessage=s=>{e.wsLastMessageReceived=c.ZG();const n=g(e,new Uint8Array(s.data),!0);r.kE(n)>1&&t.send(r._f(n))},t.onclose=()=>{e.ws=null,e.wsconnecting=!1,e.wsconnected?(e.wsconnected=!1,e.synced=!1,l.Ag(e.awareness,Array.from(e.awareness.getStates().keys()).filter((t=>t!==e.doc.clientID)),e),e.emit("status",[{status:"disconnected"}])):e.wsUnsuccessfulReconnects++,setTimeout(y,f.VV(1200*f.mv(e.wsUnsuccessfulReconnects+1),2500),e)},t.onopen=()=>{e.wsLastMessageReceived=c.ZG(),e.wsconnecting=!1,e.wsconnected=!0,e.wsUnsuccessfulReconnects=0,e.emit("status",[{status:"connected"}]);const s=r.Mf();if(r.uE(s,0),a._J(s,e.doc),t.send(r._f(s)),null!==e.awareness.getLocalState()){const s=r.Mf();r.uE(s,1),r.mP(s,l.xq(e.awareness,[e.doc.clientID])),t.send(r._f(s))}},e.emit("status",[{status:"connecting"}])}},_=(e,t)=>{e.wsconnected&&e.ws.send(t),e.bcconnected&&e.mux((()=>{o.nY(e.bcChannel,t)}))};class v extends d.y{constructor(e,t,s,{connect:n=!0,awareness:i=new l.GL(s),params:u={},WebSocketPolyfill:d=WebSocket,resyncInterval:f=-1}={}){for(super();"/"===e[e.length-1];)e=e.slice(0,e.length-1);const p=w.b(u);this.bcChannel=e+"/"+t,this.url=e+"/"+t+(0===p.length?"":"?"+p),this.roomname=t,this.doc=s,this._WS=d,this.awareness=i,this.wsconnected=!1,this.wsconnecting=!1,this.bcconnected=!1,this.wsUnsuccessfulReconnects=0,this.messageHandlers=m.slice(),this.mux=h.M(),this._synced=!1,this.ws=null,this.wsLastMessageReceived=0,this.shouldConnect=n,this._resyncInterval=0,f>0&&(this._resyncInterval=setInterval((()=>{if(this.ws){const e=r.Mf();r.uE(e,0),a._J(e,s),this.ws.send(r._f(e))}}),f)),this._bcSubscriber=e=>{this.mux((()=>{const t=g(this,new Uint8Array(e),!1);r.kE(t)>1&&o.nY(this.bcChannel,r._f(t))}))},this._updateHandler=(e,t)=>{if(t!==this){const t=r.Mf();r.uE(t,0),a.lr(t,e),_(this,r._f(t))}},this.doc.on("update",this._updateHandler),this._awarenessUpdateHandler=({added:e,updated:t,removed:s},n)=>{const o=e.concat(t).concat(s),c=r.Mf();r.uE(c,1),r.mP(c,l.xq(i,o)),_(this,r._f(c))},"undefined"!=typeof window&&window.addEventListener("beforeunload",(()=>{l.Ag(this.awareness,[s.clientID],"window unload")})),i.on("update",this._awarenessUpdateHandler),this._checkInterval=setInterval((()=>{this.wsconnected&&3e4<c.ZG()-this.wsLastMessageReceived&&this.ws.close()}),3e3),n&&this.connect()}get synced(){return this._synced}set synced(e){this._synced!==e&&(this._synced=e,this.emit("synced",[e]),this.emit("sync",[e]))}destroy(){0!==this._resyncInterval&&clearInterval(this._resyncInterval),clearInterval(this._checkInterval),this.disconnect(),this.awareness.off("update",this._awarenessUpdateHandler),this.doc.off("update",this._updateHandler),super.destroy()}connectBc(){this.bcconnected||(o.Ld(this.bcChannel,this._bcSubscriber),this.bcconnected=!0),this.mux((()=>{const e=r.Mf();r.uE(e,0),a._J(e,this.doc),o.nY(this.bcChannel,r._f(e));const t=r.Mf();r.uE(t,0),a.K0(t,this.doc),o.nY(this.bcChannel,r._f(t));const s=r.Mf();r.uE(s,3),o.nY(this.bcChannel,r._f(s));const n=r.Mf();r.uE(n,1),r.mP(n,l.xq(this.awareness,[this.doc.clientID])),o.nY(this.bcChannel,r._f(n))}))}disconnectBc(){const e=r.Mf();r.uE(e,1),r.mP(e,l.xq(this.awareness,[this.doc.clientID],new Map)),_(this,r._f(e)),this.bcconnected&&(o.r1(this.bcChannel,this._bcSubscriber),this.bcconnected=!1)}disconnect(){this.shouldConnect=!1,this.disconnectBc(),null!==this.ws&&this.ws.close()}connect(){this.shouldConnect=!0,this.wsconnected||null!==this.ws||(y(this),this.connectBc())}}class b extends v{constructor(e){super(e.url,e.guid,e.ymodel.ydoc,{awareness:e.ymodel.awareness}),this._currentLockRequest=null,this._initialContentRequest=null,this.messageHandlers[127]=(e,t,s,n,o)=>{const c=i.Jl(t),r=this._currentLockRequest;this._currentLockRequest=null,r&&r.resolve(c)},this.messageHandlers[125]=(e,t,s,o,c)=>{const r=i.iU(t);r.byteLength>0&&setTimeout((()=>{n.NG(this.doc,r)}),0);const a=this._initialContentRequest;this._initialContentRequest=null,a&&a.resolve(r.byteLength>0)},this.isInitialized=!1,this.onConnectionStatus=this.onConnectionStatus.bind(this),this.on("status",this.onConnectionStatus)}requestInitialContent(){if(this._initialContentRequest)return this._initialContentRequest.promise;let e,t;const s=new Promise(((s,n)=>{e=s,t=n}));return this._initialContentRequest={promise:s,resolve:e,reject:t},this._sendMessage(new Uint8Array([125])),setTimeout((()=>e(!1)),1e3),s}async onConnectionStatus(e){if(this.isInitialized&&"connected"===e.status){const e=await this.acquireLock();await this.requestInitialContent()||this.putInitializedState(),this.releaseLock(e)}}putInitializedState(){const e=r.Mf();r.uE(e,124),r.HK(e,n.D$(this.doc)),this._sendMessage(r._f(e)),this.isInitialized=!0}acquireLock(){if(this._currentLockRequest)return this._currentLockRequest.promise;this._sendMessage(new Uint8Array([127]));const e=setInterval((()=>{this.wsconnected&&this._sendMessage(new Uint8Array([127]))}),500);let t,s;const n=new Promise(((e,n)=>{t=e,s=n}));this._currentLockRequest={promise:n,resolve:t,reject:s};const o=()=>{clearInterval(e)};return n.then(o,o),n}releaseLock(e){const t=r.Mf();r.uE(t,126),r.Ep(t,e),this._sendMessage(r._f(t))}_sendMessage(e){const t=()=>{setTimeout((()=>{this.wsconnected?this.ws.send(e):this.once("status",t)}),0)};t()}}class C{requestInitialContent(){return Promise.resolve(!1)}putInitializedState(){}acquireLock(){return Promise.resolve(0)}releaseLock(e){}destroy(){}}const I=new(s(66065).Token)("@jupyterlab/docprovider:IDocumentProviderFactory")},62538:(e,t,s)=>{"use strict";s.d(t,{Ld:()=>u,r1:()=>l,nY:()=>h});var n=s(23205),o=s(24803),c=s(55852);const r=new Map,i="undefined"==typeof BroadcastChannel?class{constructor(e){this.room=e,this.onmessage=null,c.z((t=>t.key===e&&null!==this.onmessage&&this.onmessage({data:o.Gh(t.newValue||"")})))}postMessage(e){c.X.setItem(this.room,o.s3(o.eh(e)))}}:BroadcastChannel,a=e=>n.Yu(r,e,(()=>{const t=new Set,s=new i(e);return s.onmessage=e=>t.forEach((t=>t(e.data))),{bc:s,subs:t}})),u=(e,t)=>a(e).subs.add(t),l=(e,t)=>a(e).subs.delete(t),h=(e,t)=>{const s=a(e);s.bc.postMessage(t),s.subs.forEach((e=>e(t)))}},70132:(e,t,s)=>{"use strict";s.d(t,{jS:()=>d,E0:()=>f,jU:()=>a,UG:()=>i});var n=s(23205),o=s(45931);var c=s(55852),r=s(34406);const i=r.release&&/node|io\.js/.test(r.release.name),a="undefined"!=typeof window&&!i;let u;"undefined"!=typeof navigator&&/Mac/.test(navigator.platform);const l=[],h=()=>{if(void 0===u)if(i){u=n.Ue();const e=r.argv;let t=null;for(let s=0;s<e.length;s++){const n=e[s];"-"===n[0]?(null!==t&&u.set(t,""),t=n):null!==t?(u.set(t,n),t=null):l.push(n)}null!==t&&u.set(t,"")}else"object"==typeof location?(u=n.Ue(),(location.search||"?").slice(1).split("&").forEach((e=>{if(0!==e.length){const[t,s]=e.split("=");u.set(`--${o.NF(t,"-")}`,s),u.set(`-${o.NF(t,"-")}`,s)}}))):u=n.Ue();return u},d=(e,t)=>h().get(e)||t,f=e=>{return void 0===(t=i?{}[e.toUpperCase()]:c.X.getItem(e))?null:t;var t};(e=>h().has(e))("--"+"production")||f("production")},23205:(e,t,s)=>{"use strict";s.d(t,{Ue:()=>n,JG:()=>o,Yu:()=>c,UI:()=>r,Yj:()=>i});const n=()=>new Map,o=e=>{const t=n();return e.forEach(((e,s)=>{t.set(s,e)})),t},c=(e,t,s)=>{let n=e.get(t);return void 0===n&&e.set(t,n=s()),n},r=(e,t)=>{const s=[];for(const[n,o]of e)s.push(t(o,n));return s},i=(e,t)=>{for(const[s,n]of e)if(t(n,s))return!0;return!1}},31955:(e,t,s)=>{"use strict";s.d(t,{M:()=>n});const n=()=>{let e=!0;return(t,s)=>{if(e){e=!1;try{t()}finally{e=!0}}else void 0!==s&&s()}}},55852:(e,t,s)=>{"use strict";s.d(t,{X:()=>c,z:()=>r});let n=new class{constructor(){this.map=new Map}setItem(e,t){this.map.set(e,t)}getItem(e){return this.map.get(e)}},o=!0;try{"undefined"!=typeof localStorage&&(n=localStorage,o=!1)}catch(e){}const c=n,r=e=>o||addEventListener("storage",e)},45931:(e,t,s)=>{"use strict";s.d(t,{IK:()=>n,NF:()=>r,lz:()=>a});const n=String.fromCharCode,o=(String.fromCodePoint,/^\s*/g),c=/([A-Z])/g,r=(e,t)=>(e=>e.replace(o,""))(e.replace(c,(e=>`${t}${(e=>e.toLowerCase())(e)}`))),i="undefined"!=typeof TextEncoder?new TextEncoder:null,a=i?e=>i.encode(e):e=>{const t=unescape(encodeURIComponent(e)),s=t.length,n=new Uint8Array(s);for(let e=0;e<s;e++)n[e]=t.codePointAt(e);return n};let u="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});u&&1===u.decode(new Uint8Array).length&&(u=null)},29849:(e,t,s)=>{"use strict";s.d(t,{b:()=>o});var n=s(69600);const o=e=>n.UI(e,((e,t)=>`${encodeURIComponent(t)}=${encodeURIComponent(e)}`)).join("&")},34406:e=>{var t,s,n=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function r(e){if(t===setTimeout)return setTimeout(e,0);if((t===o||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(s){try{return t.call(null,e,0)}catch(s){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:o}catch(e){t=o}try{s="function"==typeof clearTimeout?clearTimeout:c}catch(e){s=c}}();var i,a=[],u=!1,l=-1;function h(){u&&i&&(u=!1,i.length?a=i.concat(a):l=-1,a.length&&d())}function d(){if(!u){var e=r(h);u=!0;for(var t=a.length;t;){for(i=a,a=[];++l<t;)i&&i[l].run();l=-1,t=a.length}i=null,u=!1,function(e){if(s===clearTimeout)return clearTimeout(e);if((s===c||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(e);try{s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function w(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var s=1;s<arguments.length;s++)t[s-1]=arguments[s];a.push(new f(e,t)),1!==a.length||u||r(d)},f.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=w,n.addListener=w,n.once=w,n.off=w,n.removeListener=w,n.removeAllListeners=w,n.emit=w,n.prependListener=w,n.prependOnceListener=w,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},65831:(e,t,s)=>{"use strict";s.d(t,{nw:()=>o});var n=s(49e3);const o=(e,t,s)=>{switch(n.yg(e)){case 0:s(t,n.kf(e))}}},68078:(e,t,s)=>{"use strict";s.d(t,{Wh:()=>r,Px:()=>i,_J:()=>a,K0:()=>u,lr:()=>h,zu:()=>f});var n=s(23406),o=s(49e3),c=s(76961);const r=0,i=1,a=(e,t)=>{n.uE(e,r);const s=c.gJ(t);n.mP(e,s)},u=(e,t,s)=>{n.uE(e,i),n.mP(e,c.D$(t,s))},l=(e,t,s)=>{try{c.NG(t,o.HN(e),s)}catch(e){console.error("Caught error while handling a Yjs update",e)}},h=(e,t)=>{n.uE(e,2),n.mP(e,t)},d=l,f=(e,t,s,n)=>{const c=o.yg(e);switch(c){case r:((e,t,s)=>{u(t,s,o.HN(e))})(e,t,s);break;case i:l(e,s,n);break;case 2:d(e,s,n);break;default:throw new Error("Unknown message type")}return c}}}]);
//# sourceMappingURL=301.ef6bfc0566b63de702a6.js.map