{"version":3,"sources":["webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/clipboard.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/collapse.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/commandlinker.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/commandpalette.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/styling.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/vdom.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/dialog.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/widgettracker.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/domutils.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/hoverbox.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/iframe.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/inputdialog.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/spinner.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/sessioncontext.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/toolbar.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/printing.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/mainareawidget.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/sanitizer.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/splash.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/thememanager.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/tokens.js","webpack://_JUPYTERLAB.CORE_OUTPUT/../node_modules/@retrolab/application/node_modules/@jupyterlab/apputils/lib/windowresolver.js"],"names":["Clipboard","Private","generateEvent","node","type","sel","window","getSelection","savedRanges","i","len","rangeCount","getRangeAt","cloneRange","range","document","createRange","selectNodeContents","removeAllRanges","addRange","execCommand","length","getInstance","instance","setInstance","value","copyToSystem","clipboardData","body","handler","event","data","setData","types","map","mimeType","getData","preventDefault","removeEventListener","addEventListener","MimeData","Collapse","Widget","options","super","this","_collapseChanged","Signal","widget","collapsed","addClass","_header","_content","Panel","layout","PanelLayout","addWidget","_widget","oldWidget","title","changed","disconnect","_onTitleChanged","parent","connect","_collapsed","_collapse","_uncollapse","isDisposed","dispose","_evtClick","msg","hide","_setHeader","emit","show","toggle","sender","caretUpIcon","caretDownIcon","element","container","label","elementPosition","height","COMMAND_ATTR","ARGS_ATTR","CommandLinker","_isDisposed","_commands","commands","command","args","setAttribute","JSON","stringify","removeAttribute","dataset","target","parentElement","hasAttribute","getAttribute","argsValue","JSONExt","parse","execute","ICommandPalette","Token","ModalCommandPalette","id","_commandPalette","commandPalette","commandExecuted","isAttached","isVisible","hideAndReset","inputNode","refresh","_evtKeydown","contains","stopPropagation","activate","keyCode","Styling","styleNodeByTag","tagName","className","localName","classList","add","wrapSelect","nodes","getElementsByTagName","child","wrapper","createElement","onFocus","replaceChild","appendChild","caretDownEmptyIcon","tag","stylesheet","right","top","width","styleNode","remove","ReactWidget","renderPromise","renderDOM","MessageLoop","Promise","resolve","vnode","render","Array","isArray","VDomRenderer","model","_modelChanged","newValue","_model","stateChanged","update","UseSignal","props","slot","shouldUpdate","setState","state","initialSender","initialArgs","signal","children","VDomModel","WidgetTracker","_currentChanged","_widgetAdded","_widgetUpdated","focus","_focusTracker","FocusTracker","pool","_pool","RestorablePool","namespace","currentChanged","_","current","currentWidget","added","onCurrentChanged","updated","restored","size","activeWidget","fn","find","forEach","filter","inject","has","restore","save","showDialog","Dialog","launch","showErrorMessage","error","buttons","okButton","console","warn","message","key","promise","errorMessagePromiseCache","get","dialogPromise","then","delete","set","_focusNodeSelector","normalized","handleOptions","renderer","_host","host","_defaultButton","defaultButton","_buttons","_hasClose","hasClose","_buttonNodes","toArray","button","createButtonNode","content","_body","header","createHeader","reject","createBody","footer","createFooter","_primary","focusNodeSelector","tracker","_promise","ArrayExt","launchQueue","PromiseDelegate","promises","all","push","cancelButton","index","undefined","_resolve","_evtFocus","_first","findFirstFocusable","_original","activeElement","querySelector","el","onCloseRequest","getElementsByClassName","buttonNode","indexOf","shiftKey","accept","getValue","createButton","defaultLabel","iconClass","iconLabel","caption","actions","displayType","warnButton","flush","dialog","Renderer","create","Button","onMouseDown","onKeyDown","minimal","LabIcon","icon","closeIcon","textContent","each","e","createItemClass","renderIcon","renderLabel","name","extra","createIconClass","createTextNode","defaultRenderer","Map","candidateSelectors","join","querySelectorAll","DOMUtils","hitTestNodes","x","y","ElementExt","findElement","findElements","createDomID","UUID","OUTOFVIEW_CLASS","HoverBox","InputDialog","setGeometry","anchor","privilege","elementFromPoint","left","style","maxHeight","marginTop","getComputedStyle","innerHeight","spaceAbove","spaceBelow","bottom","parseInt","minHeight","renderBelow","Math","min","offsetAbove","offset","vertical","above","offsetBelow","below","getBoundingClientRect","floor","offsetHorizontal","horizontal","ceil","scrollHeight","offsetWidth","clientWidth","scrollTop","innerWidth","IFrame","createNode","_sandbox","sandbox","referrerPolicy","_referrerPolicy","slice","values","iframe","exceptions","url","getBoolean","Object","assign","InputBooleanDialog","cancelLabel","okLabel","getNumber","InputNumberDialog","getItem","InputItemsDialog","editable","getText","InputTextDialog","getPassword","InputPasswordDialog","InputDialogBase","labelElement","_input","checked","toString","Number","NaN","text","placeholder","_editable","defaultIndex","max","items","_list","item","option","selected","Spinner","tabIndex","SessionContext","_a","_b","_c","_d","_path","_name","_type","_prevKernelName","_disposed","_session","_ready","_initializing","_initStarted","_initPromise","_isReady","_isTerminating","_isRestarting","_kernelChanged","_sessionChanged","_statusChanged","_connectionStatusChanged","_iopubMessage","_unhandledMessage","_propertyChanged","_dialog","_busyDisposable","_pendingKernelName","_pendingSessionRequest","sessionManager","specsManager","translator","nullTranslator","_trans","load","path","_setBusy","setBusy","_kernelPreference","kernelPreference","_e","_f","_g","_h","_j","_k","kernel","session","__","isReady","canStart","shouldStart","getDefaultKernel","specs","sessions","running","preference","kernelspecs","display_name","connectionStatus","status","shutdownOnDispose","shutdown","catch","reason","restart","oldValue","Error","_changeKernel","_shutdownSession","needsSelection","_initialize","manager","ready","refreshRunning","connectTo","_handleNewSession","err","_handleSessionError","_startIfNecessary","isInit","dirName","PathExt","requestId","startNew","setPath","setName","disposed","_onSessionDisposed","propertyChanged","_onPropertyChanged","kernelChanged","_onKernelChanged","statusChanged","_onStatusChanged","connectionStatusChanged","_onConnectionStatusChanged","iopubMessage","_onIopubMessage","unhandledMessage","_onUnhandledMessage","traceback","property","sessionContextDialogs","sessionContext","trans","kernelDisplayName","KernelSelector","result","changeKernel","initialize","prevKernelName","restartBtn","restartKernel","createSelectorNode","selector","getKernelSearch","populateKernelSelect","firstChild","removeChild","language","optionForNone","disabled","displayNames","languages","spec","names","specName","default","preferred","sort","a","b","localeCompare","optionForName","other","otherNames","otherName","selectedIndex","matchingSessions","otherSessions","matching","optionForSession","otherSessionsNode","displayName","group","sessionName","autoStartDefault","defaultName","matches","ToolbarLayout","arguments","_dirty","onFitRequest","some","widgets","w","isHidden","removeClass","onUpdateRequest","onChildShown","fit","onChildHidden","onBeforeAttach","attachWidget","detachWidget","Toolbar","nameProperty","insertItem","insertWidget","at","_insertRelative","nameWithIndex","handleClick","HTMLLabelElement","forId","ToolbarButtonComponent","enabled","onClick","actualOnClick","call","tooltip","classes","addToolbarButtonClass","createInterruptButton","ToolbarButton","stopIcon","interrupt","createRestartButton","dialogs","refreshIcon","createSpacerItem","Spacer","createKernelNameItem","KernelNameComponent","createKernelStatusItem","KernelStatus","CommandToolbarButtonComponent","commandChanged","propsFromCommand","addCommandToolbarButtonClass","CommandToolbarButton","_icon","isToggled","isEnabled","AttachedProperty","noOp","callback","selectKernel","kernelDisplayStatus","circleIconProps","Text","alignSelf","circleIcon","offlineBoltIcon","circleEmptyIcon","Printing","isPrintable","symbol","Symbol","getPrintFunction","val","printWidget","printContent","settings","ServerConnection","async","textOrEl","isText","createIFrame","srcdoc","resolveWhenLoaded","src","contentDocument","cloneNode","close","setIFrameNode","printed","onEvent","contentWindow","print","onload","printURL","MainAreaWidget","_changeGuard","_spinner","_isRevealed","toolbar","_toolbar","spinner","contentHeader","_contentHeader","BoxPanel","direction","spacing","BoxLayout","_updateTitle","closable","_updateContentTitle","reveal","_revealed","active","_focusContent","pre","String","mnemonic","CssProp","r","RegExp","N","integer","integer_pos","integer_zero_ff","number","number_pos","number_zero_hundred","number_zero_one","B","angle","frequency","ident","raw","len_or_perc","length_pos","percentage","percentage_pos","percentage_zero_hundred","string","time","z_index","A","absolute_size","attachment","bg_origin","border_style","box","display_inside","display_outside","ending_shape","generic_family","generic_voice","relative_size","repeat_style","side_or_corner","single_animation_direction","single_animation_fill_mode","single_animation_play_state","_COLOR","hex","rgb","rgba","_C","alpha","alphavalue","bg_position","bg_size","border_width","color","family_name","image_decl","loose_quotable_words","margin_width","padding_width","page_url","position","shadow","_C1","image_list","_C2","bg_image","image","shape","C","AP","border_collapse","box_sizing","caption_side","clear","empty_cells","float","font_stretch","font_style","font_variant","font_weight","list_style_position","list_style_type","overflow","overflow_wrap","overflow_x","page_break_after","page_break_before","page_break_inside","resize","speak","speak_header","speak_numeral","speak_punctuation","table_layout","text_align","text_decoration","text_transform","text_wrap","unicode_bidi","visibility","white_space","word_break","_CP","background_attachment","background_color","background_origin","background_repeat","border","border_radius","border_spacing","border_top_color","border_top_style","cursor","display","elevation","font_family","letter_spacing","list_style_image","margin_right","max_height","min_height","opacity","outline_color","outline_width","padding","padding_top","pitch_range","stress","text_indent","text_shadow","volume","word_wrap","zoom","backface_visibility","background_clip","background_position","border_bottom_color","border_bottom_style","border_color","border_left_color","border_right_color","border_top_left_radius","border_top_width","box_shadow","clip","font_size","line_height","margin_left","max_width","outline_style","padding_bottom","padding_right","perspective","richness","text_overflow","background","background_size","border_bottom_left_radius","border_bottom_width","border_left_style","border_right_style","border_top","list_style","margin_top","outline","overflow_y","pitch","vertical_align","word_spacing","background_image","border_bottom_right_radius","border_left_width","border_right_width","margin_bottom","pause_after","speech_rate","transition_duration","border_bottom","border_right","margin","padding_left","border_left","quotes","border_top_right_radius","min_width","_CP1","font","CP","BORDER_COLLAPSE","reg","BOX","BOX_SIZING","CAPTION_SIDE","CLEAR","DIRECTION","EMPTY_CELLS","FLOAT","FONT_STRETCH","FONT_STYLE","FONT_VARIANT","FONT_WEIGHT","LIST_STYLE_POSITION","LIST_STYLE_TYPE","OVERFLOW","OVERFLOW_WRAP","OVERFLOW_X","PAGE_BREAK_AFTER","PAGE_BREAK_BEFORE","PAGE_BREAK_INSIDE","POSITION","RESIZE","SPEAK","SPEAK_HEADER","SPEAK_NUMERAL","SPEAK_PUNCTUATION","TABLE_LAYOUT","TEXT_ALIGN","TEXT_DECORATION","TEXT_TRANSFORM","TEXT_WRAP","UNICODE_BIDI","VISIBILITY","WHITE_SPACE","WORD_BREAK","BACKGROUND_ATTACHMENT","BACKGROUND_COLOR","BACKGROUND_ORIGIN","BACKGROUND_REPEAT","BORDER","BORDER_RADIUS","BORDER_SPACING","BORDER_TOP_COLOR","BORDER_TOP_STYLE","BORDER_WIDTH","COLOR","CURSOR","DISPLAY","DISPLAY_OUTSIDE","ELEVATION","FONT_FAMILY","HEIGHT","LETTER_SPACING","LIST_STYLE_IMAGE","MARGIN_RIGHT","MAX_HEIGHT","MIN_HEIGHT","OPACITY","OUTLINE_COLOR","OUTLINE_WIDTH","PADDING","PADDING_TOP","PITCH_RANGE","RIGHT","STRESS","TEXT_INDENT","TEXT_SHADOW","VOLUME","WORD_WRAP","ZOOM","BACKFACE_VISIBILITY","BACKGROUND_CLIP","BACKGROUND_POSITION","BORDER_BOTTOM_COLOR","BORDER_BOTTOM_STYLE","BORDER_COLOR","BORDER_LEFT_COLOR","BORDER_RIGHT_COLOR","BORDER_STYLE","BORDER_TOP_LEFT_RADIUS","BORDER_TOP_WIDTH","BOX_SHADOW","CLIP","DISPLAY_INSIDE","FONT_SIZE","LINE_HEIGHT","MARGIN_LEFT","MAX_WIDTH","OUTLINE_STYLE","PADDING_BOTTOM","PADDING_RIGHT","PERSPECTIVE","RICHNESS","TEXT_OVERFLOW","TOP","WIDTH","Z_INDEX","BACKGROUND","BACKGROUND_SIZE","BORDER_BOTTOM_LEFT_RADIUS","BORDER_BOTTOM_WIDTH","BORDER_LEFT_STYLE","BORDER_RIGHT_STYLE","BORDER_TOP","BOTTOM","LIST_STYLE","MARGIN_TOP","OUTLINE","OVERFLOW_Y","PITCH","VERTICAL_ALIGN","WORD_SPACING","BACKGROUND_IMAGE","BORDER_BOTTOM_RIGHT_RADIUS","BORDER_LEFT_WIDTH","BORDER_RIGHT_WIDTH","LEFT","MARGIN_BOTTOM","PAUSE_AFTER","SPEECH_RATE","TRANSITION_DURATION","BORDER_BOTTOM","BORDER_RIGHT","MARGIN","PADDING_LEFT","BORDER_LEFT","FONT","QUOTES","BORDER_TOP_RIGHT_RADIUS","MIN_WIDTH","Sanitizer","_options","allowedTags","allowedAttributes","area","audio","bdo","blockquote","br","canvas","col","colgroup","del","details","dir","div","dl","fieldset","form","h1","h2","h3","h4","h5","h6","hr","img","input","ins","legend","li","menu","meter","ol","optgroup","output","p","progress","q","select","source","table","tbody","td","textarea","tfoot","th","thead","tr","track","ul","video","allowedStyles","transformTags","rel","allowedSchemesByTag","allowedSchemesAppliedToAttributes","dirty","defaultSanitizer","ISplashScreen","ThemeManager","_current","_links","_overrides","_overrideProps","_outstanding","_pending","_requests","_themes","_themeChanged","splash","registry","_base","_splash","_settings","_initOverrideProps","_loadSettings","keys","documentElement","getPropertyValue","base","href","URLExt","links","link","loadCSSOverrides","newOverrides","user","validateCSS","setProperty","removeProperty","prop","CSS","supports","theme","themes","DisposableDelegate","isLight","_incrFontSize","composite","themeScrollbars","parts","getCSS","split","incr","setCSSOverride","overidesSchema","schema","definitions","cssOverrides","properties","description","outstanding","pending","requests","clearTimeout","_loadTheme","fallback","_onError","setTimeout","old","unload","requestAnimationFrame","fitAll","ISessionContextDialogs","IThemeManager","ISanitizer","IWindowResolver","WindowResolver","candidate","PREFIX","BEACON","TIMEOUT","random","WINDOW","currentBeaconRequest","delegate","known","resolved","ping","payload","localStorage","setItem","Date","getTime","potential","reported","replace"],"mappings":"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ACf,IAAK,CACD,QACA,MACA,YACA,SACA,KACA,QACA,WACA,UACA,YACA,OACA,aACA,QACA,QACA,aAGJvc,EAAG,CACC,YACA,SACA,OACA,WACA,OACA,MACA,QACA,WACA,SACA,QAEJwc,KAAM,CACF,YACA,MACA,SACA,OACA,SACA,QACA,YAGJC,MAAO,CACH,WACA,WACA,OACA,aACA,QACA,UACA,OAEJC,IAAK,CAAC,OACNC,WAAY,CAAC,QACbC,GAAI,CAAC,SACLlvB,OAAQ,CACJ,YACA,0BACA,6BACA,WACA,OACA,WACA,OACA,SAEJmvB,OAAQ,CAAC,SAAU,SACnBzsB,QAAS,CAAC,SACV0sB,IAAK,CAAC,QAAS,OAAQ,UAAW,OAAQ,SAAU,SACpDC,SAAU,CAAC,QAAS,OAAQ,UAAW,OAAQ,SAAU,SACzDr4B,QAAS,CACL,UACA,UACA,WACA,OACA,QACA,aACA,QAEJ5D,KAAM,CAAC,SACPk8B,IAAK,CAAC,OAAQ,YACdC,QAAS,CAAC,QACVC,IAAK,CAAC,WACNC,IAAK,CAAC,SACNC,GAAI,CAAC,WACLC,SAAU,CAAC,YACXtJ,KAAM,CAAC,QAAS,OAAQ,QACxBuJ,KAAM,CACF,SACA,SACA,eACA,UACA,SACA,OACA,cAEJC,GAAI,CAAC,SACLC,GAAI,CAAC,SACLC,GAAI,CAAC,SACLC,GAAI,CAAC,SACLC,GAAI,CAAC,SACLC,GAAI,CAAC,SACLC,GAAI,CAAC,QAAS,UAAW,OAAQ,SACjCroB,OAAQ,CACJ,QACA,cACA,SACA,eACA,cACA,SAEJsoB,IAAK,CACD,QACA,MACA,SACA,SACA,SACA,QACA,OACA,MACA,SACA,SACA,SAEJC,MAAO,CACH,SACA,YACA,QACA,MACA,eACA,UACA,WACA,YACA,QACA,OACA,MACA,YACA,MACA,WACA,OACA,cACA,WACA,WACA,OACA,MACA,OACA,WACA,OACA,SACA,SAEJC,IAAK,CAAC,OAAQ,YACd/5B,MAAO,CAAC,YAAa,OACrBg6B,OAAQ,CAAC,YAAa,SACtBC,GAAI,CAAC,OAAQ,SACbj9B,IAAK,CAAC,QACNk9B,K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","file":"2732.d3f2ffc183e3d96ea3e4.js","sourcesContent":["// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { MimeData } from '@lumino/coreutils';\n/**\n * The clipboard interface.\n */\nexport var Clipboard;\n(function (Clipboard) {\n    /**\n     * Get the application clipboard instance.\n     */\n    function getInstance() {\n        return Private.instance;\n    }\n    Clipboard.getInstance = getInstance;\n    /**\n     * Set the application clipboard instance.\n     */\n    function setInstance(value) {\n        Private.instance = value;\n    }\n    Clipboard.setInstance = setInstance;\n    /**\n     * Copy text to the system clipboard.\n     *\n     * #### Notes\n     * This can only be called in response to a user input event.\n     */\n    function copyToSystem(clipboardData) {\n        const node = document.body;\n        const handler = (event) => {\n            const data = event.clipboardData || window.clipboardData;\n            if (typeof clipboardData === 'string') {\n                data.setData('text', clipboardData);\n            }\n            else {\n                clipboardData.types().map((mimeType) => {\n                    data.setData(mimeType, clipboardData.getData(mimeType));\n                });\n            }\n            event.preventDefault();\n            node.removeEventListener('copy', handler);\n        };\n        node.addEventListener('copy', handler);\n        generateEvent(node);\n    }\n    Clipboard.copyToSystem = copyToSystem;\n    /**\n     * Generate a clipboard event on a node.\n     *\n     * @param node - The element on which to generate the event.\n     *\n     * @param type - The type of event to generate.\n     *   `'paste'` events cannot be programmatically generated.\n     *\n     * #### Notes\n     * This can only be called in response to a user input event.\n     */\n    function generateEvent(node, type = 'copy') {\n        // http://stackoverflow.com/a/5210367\n        // Identify selected text.\n        let sel = window.getSelection();\n        // Save the current selection.\n        const savedRanges = [];\n        for (let i = 0, len = (sel === null || sel === void 0 ? void 0 : sel.rangeCount) || 0; i < len; ++i) {\n            savedRanges[i] = sel.getRangeAt(i).cloneRange();\n        }\n        // Select the node content.\n        const range = document.createRange();\n        range.selectNodeContents(node);\n        if (sel) {\n            sel.removeAllRanges();\n            sel.addRange(range);\n        }\n        // Execute the command.\n        document.execCommand(type);\n        // Restore the previous selection.\n        sel = window.getSelection();\n        if (sel) {\n            sel.removeAllRanges();\n            for (let i = 0, len = savedRanges.length; i < len; ++i) {\n                sel.addRange(savedRanges[i]);\n            }\n        }\n    }\n    Clipboard.generateEvent = generateEvent;\n})(Clipboard || (Clipboard = {}));\n/**\n * The namespace for module private data.\n */\nvar Private;\n(function (Private) {\n    /**\n     * The application clipboard instance.\n     */\n    Private.instance = new MimeData();\n})(Private || (Private = {}));\n//# sourceMappingURL=clipboard.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { Signal } from '@lumino/signaling';\nimport { Widget, Panel, PanelLayout } from '@lumino/widgets';\nimport { caretDownIcon, caretUpIcon } from '@jupyterlab/ui-components';\n/**\n * A panel that supports a collapsible header made from the widget's title.\n * Clicking on the title expands or contracts the widget.\n */\nexport class Collapse extends Widget {\n    constructor(options) {\n        super(options);\n        this._collapseChanged = new Signal(this);\n        const { widget, collapsed = true } = options;\n        this.addClass('jp-Collapse');\n        this._header = new Widget();\n        this._header.addClass('jp-Collapse-header');\n        this._content = new Panel();\n        this._content.addClass('jp-Collapse-contents');\n        const layout = new PanelLayout();\n        this.layout = layout;\n        layout.addWidget(this._header);\n        layout.addWidget(this._content);\n        this.widget = widget;\n        this.collapsed = collapsed;\n    }\n    /**\n     * The widget inside the collapse panel.\n     */\n    get widget() {\n        return this._widget;\n    }\n    set widget(widget) {\n        const oldWidget = this._widget;\n        if (oldWidget) {\n            oldWidget.title.changed.disconnect(this._onTitleChanged, this);\n            oldWidget.parent = null;\n        }\n        this._widget = widget;\n        widget.title.changed.connect(this._onTitleChanged, this);\n        this._onTitleChanged(widget.title);\n        this._content.addWidget(widget);\n    }\n    /**\n     * The collapsed state of the panel.\n     */\n    get collapsed() {\n        return this._collapsed;\n    }\n    set collapsed(value) {\n        if (value === this._collapsed) {\n            return;\n        }\n        if (value) {\n            this._collapse();\n        }\n        else {\n            this._uncollapse();\n        }\n    }\n    /**\n     * A signal for when the widget collapse state changes.\n     */\n    get collapseChanged() {\n        return this._collapseChanged;\n    }\n    /**\n     * Toggle the collapse state of the panel.\n     */\n    toggle() {\n        this.collapsed = !this.collapsed;\n    }\n    /**\n     * Dispose the widget.\n     */\n    dispose() {\n        if (this.isDisposed) {\n            return;\n        }\n        // Delete references we explicitly hold to other widgets.\n        this._header = null;\n        this._widget = null;\n        this._content = null;\n        super.dispose();\n    }\n    /**\n     * Handle the DOM events for the Collapse widget.\n     *\n     * @param event - The DOM event sent to the panel.\n     *\n     * #### Notes\n     * This method implements the DOM `EventListener` interface and is\n     * called in response to events on the panel's DOM node. It should\n     * not be called directly by user code.\n     */\n    handleEvent(event) {\n        switch (event.type) {\n            case 'click':\n                this._evtClick(event);\n                break;\n            default:\n                break;\n        }\n    }\n    onAfterAttach(msg) {\n        this._header.node.addEventListener('click', this);\n    }\n    onBeforeDetach(msg) {\n        this._header.node.removeEventListener('click', this);\n    }\n    _collapse() {\n        this._collapsed = true;\n        if (this._content) {\n            this._content.hide();\n        }\n        this._setHeader();\n        this._collapseChanged.emit(void 0);\n    }\n    _uncollapse() {\n        this._collapsed = false;\n        if (this._content) {\n            this._content.show();\n        }\n        this._setHeader();\n        this._collapseChanged.emit(void 0);\n    }\n    _evtClick(event) {\n        this.toggle();\n    }\n    /**\n     * Handle the `changed` signal of a title object.\n     */\n    _onTitleChanged(sender) {\n        this._setHeader();\n    }\n    _setHeader() {\n        (this._collapsed ? caretUpIcon : caretDownIcon).element({\n            container: this._header.node,\n            label: this._widget.title.label,\n            elementPosition: 'right',\n            height: '28px'\n        });\n    }\n}\n//# sourceMappingURL=collapse.js.map","/* -----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\nimport { JSONExt } from '@lumino/coreutils';\n/**\n * The command data attribute added to nodes that are connected.\n */\nconst COMMAND_ATTR = 'commandlinker-command';\n/**\n * The args data attribute added to nodes that are connected.\n */\nconst ARGS_ATTR = 'commandlinker-args';\n/**\n * A static class that provides helper methods to generate clickable nodes that\n * execute registered commands with pre-populated arguments.\n */\nexport class CommandLinker {\n    /**\n     * Instantiate a new command linker.\n     */\n    constructor(options) {\n        this._isDisposed = false;\n        this._commands = options.commands;\n        document.body.addEventListener('click', this);\n    }\n    /**\n     * Test whether the linker is disposed.\n     */\n    get isDisposed() {\n        return this._isDisposed;\n    }\n    /**\n     * Dispose of the resources held by the linker.\n     */\n    dispose() {\n        if (this.isDisposed) {\n            return;\n        }\n        this._isDisposed = true;\n        document.body.removeEventListener('click', this);\n    }\n    /**\n     * Connect a command/argument pair to a given node so that when it is clicked,\n     * the command will execute.\n     *\n     * @param node - The node being connected.\n     *\n     * @param command - The command ID to execute upon click.\n     *\n     * @param args - The arguments with which to invoke the command.\n     *\n     * @returns The same node that was passed in, after it has been connected.\n     *\n     * #### Notes\n     * Only `click` events will execute the command on a connected node. So, there\n     * are two considerations that are relevant:\n     * 1. If a node is connected, the default click action will be prevented.\n     * 2. The `HTMLElement` passed in should be clickable.\n     */\n    connectNode(node, command, args) {\n        node.setAttribute(`data-${COMMAND_ATTR}`, command);\n        if (args !== void 0) {\n            node.setAttribute(`data-${ARGS_ATTR}`, JSON.stringify(args));\n        }\n        return node;\n    }\n    /**\n     * Disconnect a node that has been connected to execute a command on click.\n     *\n     * @param node - The node being disconnected.\n     *\n     * @returns The same node that was passed in, after it has been disconnected.\n     *\n     * #### Notes\n     * This method is safe to call multiple times and is safe to call on nodes\n     * that were never connected.\n     *\n     * This method can be called on rendered virtual DOM nodes that were populated\n     * using the `populateVNodeDataset` method in order to disconnect them from\n     * executing their command/argument pair.\n     */\n    disconnectNode(node) {\n        node.removeAttribute(`data-${COMMAND_ATTR}`);\n        node.removeAttribute(`data-${ARGS_ATTR}`);\n        return node;\n    }\n    /**\n     * Handle the DOM events for the command linker helper class.\n     *\n     * @param event - The DOM event sent to the class.\n     *\n     * #### Notes\n     * This method implements the DOM `EventListener` interface and is\n     * called in response to events on the panel's DOM node. It should\n     * not be called directly by user code.\n     */\n    handleEvent(event) {\n        switch (event.type) {\n            case 'click':\n                this._evtClick(event);\n                break;\n            default:\n                return;\n        }\n    }\n    /**\n     * Populate the `dataset` attribute within the collection of attributes used\n     * to instantiate a virtual DOM node with the values necessary for its\n     * rendered DOM node to respond to clicks by executing a command/argument\n     * pair.\n     *\n     * @param command - The command ID to execute upon click.\n     *\n     * @param args - The arguments with which to invoke the command.\n     *\n     * @returns A `dataset` collection for use within virtual node attributes.\n     *\n     * #### Notes\n     * The return value can be used on its own as the value for the `dataset`\n     * attribute of a virtual element, or it can be added to an existing `dataset`\n     * as in the example below.\n     *\n     * #### Example\n     * ```typescript\n     * let command = 'some:command-id';\n     * let args = { alpha: 'beta' };\n     * let anchor = h.a({\n     *   className: 'some-class',\n     *   dataset: {\n     *     foo: '1',\n     *     bar: '2',\n     *     ../...linker.populateVNodeDataset(command, args)\n     *   }\n     * }, 'some text');\n     * ```\n     */\n    populateVNodeDataset(command, args) {\n        let dataset;\n        if (args !== void 0) {\n            dataset = { [ARGS_ATTR]: JSON.stringify(args), [COMMAND_ATTR]: command };\n        }\n        else {\n            dataset = { [COMMAND_ATTR]: command };\n        }\n        return dataset;\n    }\n    /**\n     * The global click handler that deploys commands/argument pairs that are\n     * attached to the node being clicked.\n     */\n    _evtClick(event) {\n        let target = event.target;\n        while (target && target.parentElement) {\n            if (target.hasAttribute(`data-${COMMAND_ATTR}`)) {\n                event.preventDefault();\n                const command = target.getAttribute(`data-${COMMAND_ATTR}`);\n                if (!command) {\n                    return;\n                }\n                const argsValue = target.getAttribute(`data-${ARGS_ATTR}`);\n                let args = JSONExt.emptyObject;\n                if (argsValue) {\n                    args = JSON.parse(argsValue);\n                }\n                void this._commands.execute(command, args);\n                return;\n            }\n            target = target.parentElement;\n        }\n    }\n}\n//# sourceMappingURL=commandlinker.js.map","/* -----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\nimport { Token } from '@lumino/coreutils';\nimport { Widget, Panel } from '@lumino/widgets';\n/* tslint:disable */\n/**\n * The command palette token.\n */\nexport const ICommandPalette = new Token('@jupyterlab/apputils:ICommandPalette');\n/**\n * Wrap the command palette in a modal to make it more usable.\n */\nexport class ModalCommandPalette extends Panel {\n    constructor(options) {\n        super();\n        this.addClass('jp-ModalCommandPalette');\n        this.id = 'modal-command-palette';\n        this._commandPalette = options.commandPalette;\n        this.addWidget(this._commandPalette);\n        this._commandPalette.commands.commandExecuted.connect(() => {\n            if (this.isAttached && this.isVisible) {\n                this.hideAndReset();\n            }\n        });\n        this.hideAndReset();\n    }\n    get palette() {\n        return this._commandPalette;\n    }\n    set palette(value) {\n        this._commandPalette = value;\n        this.addWidget(value);\n        this.hideAndReset();\n    }\n    attach() {\n        Widget.attach(this, document.body);\n    }\n    detach() {\n        Widget.detach(this);\n    }\n    /**\n     * Hide the modal command palette and reset its search.\n     */\n    hideAndReset() {\n        this.hide();\n        this._commandPalette.inputNode.value = '';\n        this._commandPalette.refresh();\n    }\n    /**\n     * Handle incoming events.\n     */\n    handleEvent(event) {\n        switch (event.type) {\n            case 'keydown':\n                this._evtKeydown(event);\n                break;\n            case 'focus':\n                // if the focus shifted outside of this DOM element, hide and reset.\n                const target = event.target;\n                if (!this.node.contains(target)) {\n                    event.stopPropagation();\n                    this.hideAndReset();\n                }\n                break;\n            case 'contextmenu':\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n            default:\n                break;\n        }\n    }\n    /**\n     *  A message handler invoked on an `'after-attach'` message.\n     */\n    onAfterAttach(msg) {\n        this.node.addEventListener('keydown', this, true);\n        this.node.addEventListener('contextmenu', this, true);\n    }\n    /**\n     *  A message handler invoked on an `'after-detach'` message.\n     */\n    onAfterDetach(msg) {\n        this.node.removeEventListener('keydown', this, true);\n        this.node.removeEventListener('contextmenu', this, true);\n    }\n    onBeforeHide(msg) {\n        document.removeEventListener('focus', this, true);\n    }\n    onAfterShow(msg) {\n        document.addEventListener('focus', this, true);\n    }\n    /**\n     * A message handler invoked on an `'activate-request'` message.\n     */\n    onActivateRequest(msg) {\n        if (this.isAttached) {\n            this.show();\n            this._commandPalette.activate();\n        }\n    }\n    /**\n     * Handle the `'keydown'` event for the widget.\n     */\n    _evtKeydown(event) {\n        // Check for escape key\n        switch (event.keyCode) {\n            case 27: // Escape.\n                event.stopPropagation();\n                event.preventDefault();\n                this.hideAndReset();\n                break;\n            default:\n                break;\n        }\n    }\n}\n//# sourceMappingURL=commandpalette.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { caretDownEmptyIcon } from '@jupyterlab/ui-components';\n/**\n * A namespace for node styling.\n */\nexport var Styling;\n(function (Styling) {\n    /**\n     * Style a node and its child elements with the default tag names.\n     *\n     * @param node - The base node.\n     *\n     * @param className - The optional CSS class to add to styled nodes.\n     */\n    function styleNode(node, className = '') {\n        styleNodeByTag(node, 'select', className);\n        styleNodeByTag(node, 'textarea', className);\n        styleNodeByTag(node, 'input', className);\n        styleNodeByTag(node, 'button', className);\n    }\n    Styling.styleNode = styleNode;\n    /**\n     * Style a node and its elements that have a given tag name.\n     *\n     * @param node - The base node.\n     *\n     * @param tagName - The html tag name to style.\n     *\n     * @param className - The optional CSS class to add to styled nodes.\n     */\n    function styleNodeByTag(node, tagName, className = '') {\n        if (node.localName === tagName) {\n            node.classList.add('jp-mod-styled');\n        }\n        if (node.localName === 'select') {\n            wrapSelect(node);\n        }\n        const nodes = node.getElementsByTagName(tagName);\n        for (let i = 0; i < nodes.length; i++) {\n            const child = nodes[i];\n            child.classList.add('jp-mod-styled');\n            if (className) {\n                child.classList.add(className);\n            }\n            if (tagName === 'select') {\n                wrapSelect(child);\n            }\n        }\n    }\n    Styling.styleNodeByTag = styleNodeByTag;\n    /**\n     * Wrap a select node.\n     */\n    function wrapSelect(node) {\n        const wrapper = document.createElement('div');\n        wrapper.classList.add('jp-select-wrapper');\n        node.addEventListener('focus', Private.onFocus);\n        node.addEventListener('blur', Private.onFocus);\n        node.classList.add('jp-mod-styled');\n        if (node.parentElement) {\n            node.parentElement.replaceChild(wrapper, node);\n        }\n        wrapper.appendChild(node);\n        // add the icon node\n        wrapper.appendChild(caretDownEmptyIcon.element({\n            tag: 'span',\n            stylesheet: 'select',\n            right: '8px',\n            top: '5px',\n            width: '18px'\n        }));\n        return wrapper;\n    }\n    Styling.wrapSelect = wrapSelect;\n})(Styling || (Styling = {}));\n/**\n * The namespace for module private data.\n */\nvar Private;\n(function (Private) {\n    /**\n     * Handle a focus event on a styled select.\n     */\n    function onFocus(event) {\n        const target = event.target;\n        const parent = target.parentElement;\n        if (!parent) {\n            return;\n        }\n        if (event.type === 'focus') {\n            parent.classList.add('jp-mod-focused');\n        }\n        else {\n            parent.classList.remove('jp-mod-focused');\n        }\n    }\n    Private.onFocus = onFocus;\n})(Private || (Private = {}));\n//# sourceMappingURL=styling.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { MessageLoop } from '@lumino/messaging';\nimport { Signal } from '@lumino/signaling';\nimport { Widget } from '@lumino/widgets';\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\n/**\n * An abstract class for a Phosphor widget which renders a React component.\n */\nexport class ReactWidget extends Widget {\n    /**\n     * Creates a new `ReactWidget` that renders a constant element.\n     * @param element React element to render.\n     */\n    static create(element) {\n        return new (class extends ReactWidget {\n            render() {\n                return element;\n            }\n        })();\n    }\n    /**\n     * Called to update the state of the widget.\n     *\n     * The default implementation of this method triggers\n     * VDOM based rendering by calling the `renderDOM` method.\n     */\n    onUpdateRequest(msg) {\n        this.renderPromise = this.renderDOM();\n    }\n    /**\n     * Called after the widget is attached to the DOM\n     */\n    onAfterAttach(msg) {\n        // Make *sure* the widget is rendered.\n        MessageLoop.sendMessage(this, Widget.Msg.UpdateRequest);\n    }\n    /**\n     * Called before the widget is detached from the DOM.\n     */\n    onBeforeDetach(msg) {\n        // Unmount the component so it can tear down.\n        ReactDOM.unmountComponentAtNode(this.node);\n    }\n    /**\n     * Render the React nodes to the DOM.\n     *\n     * @returns a promise that resolves when the rendering is done.\n     */\n    renderDOM() {\n        return new Promise(resolve => {\n            const vnode = this.render();\n            // Split up the array/element cases so type inference chooses the right\n            // signature.\n            if (Array.isArray(vnode)) {\n                ReactDOM.render(vnode, this.node, resolve);\n            }\n            else if (vnode) {\n                ReactDOM.render(vnode, this.node, resolve);\n            }\n        });\n    }\n}\n/**\n * An abstract ReactWidget with a model.\n */\nexport class VDomRenderer extends ReactWidget {\n    /**\n     * Create a new VDomRenderer\n     */\n    constructor(model) {\n        super();\n        this._modelChanged = new Signal(this);\n        this.model = (model !== null && model !== void 0 ? model : null);\n    }\n    /**\n     * A signal emitted when the model changes.\n     */\n    get modelChanged() {\n        return this._modelChanged;\n    }\n    /**\n     * Set the model and fire changed signals.\n     */\n    set model(newValue) {\n        if (this._model === newValue) {\n            return;\n        }\n        if (this._model) {\n            this._model.stateChanged.disconnect(this.update, this);\n        }\n        this._model = newValue;\n        if (newValue) {\n            newValue.stateChanged.connect(this.update, this);\n        }\n        this.update();\n        this._modelChanged.emit(void 0);\n    }\n    /**\n     * Get the current model.\n     */\n    get model() {\n        return this._model;\n    }\n    /**\n     * Dispose this widget.\n     */\n    dispose() {\n        if (this.isDisposed) {\n            return;\n        }\n        this._model = null;\n        super.dispose();\n    }\n}\n/**\n * UseSignal provides a way to hook up a Phosphor signal to a React element,\n * so that the element is re-rendered every time the signal fires.\n *\n * It is implemented through the \"render props\" technique, using the `children`\n * prop as a function to render, so that it can be used either as a prop or as a child\n * of this element\n * https://reactjs.org/docs/render-props.html\n *\n *\n * Example as child:\n *\n * ```\n * function LiveButton(isActiveSignal: ISignal<any, boolean>) {\n *  return (\n *    <UseSignal signal={isActiveSignal} initialArgs={True}>\n *     {(_, isActive) => <Button isActive={isActive}>}\n *    </UseSignal>\n *  )\n * }\n * ```\n *\n * Example as prop:\n *\n * ```\n * function LiveButton(isActiveSignal: ISignal<any, boolean>) {\n *  return (\n *    <UseSignal\n *      signal={isActiveSignal}\n *      initialArgs={True}\n *      children={(_, isActive) => <Button isActive={isActive}>}\n *    />\n *  )\n * }\n * ```\n */\nexport class UseSignal extends React.Component {\n    constructor(props) {\n        super(props);\n        this.slot = (sender, args) => {\n            // skip setting new state if we have a shouldUpdate function and it returns false\n            if (this.props.shouldUpdate && !this.props.shouldUpdate(sender, args)) {\n                return;\n            }\n            this.setState({ value: [sender, args] });\n        };\n        this.state = { value: [this.props.initialSender, this.props.initialArgs] };\n    }\n    componentDidMount() {\n        this.props.signal.connect(this.slot);\n    }\n    componentWillUnmount() {\n        this.props.signal.disconnect(this.slot);\n    }\n    render() {\n        return this.props.children(...this.state.value);\n    }\n}\n/**\n * Concrete implementation of VDomRenderer model.\n */\nexport class VDomModel {\n    constructor() {\n        /**\n         * A signal emitted when any model state changes.\n         */\n        this.stateChanged = new Signal(this);\n        this._isDisposed = false;\n    }\n    /**\n     * Test whether the model is disposed.\n     */\n    get isDisposed() {\n        return this._isDisposed;\n    }\n    /**\n     * Dispose the model.\n     */\n    dispose() {\n        if (this.isDisposed) {\n            return;\n        }\n        this._isDisposed = true;\n        Signal.clearData(this);\n    }\n}\n//# sourceMappingURL=vdom.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { ArrayExt, each, map, toArray } from '@lumino/algorithm';\nimport { PromiseDelegate } from '@lumino/coreutils';\nimport { MessageLoop } from '@lumino/messaging';\nimport { PanelLayout, Panel, Widget } from '@lumino/widgets';\nimport { closeIcon, Button, LabIcon } from '@jupyterlab/ui-components';\nimport * as React from 'react';\nimport { Styling } from './styling';\nimport { ReactWidget } from './vdom';\nimport { WidgetTracker } from './widgettracker';\n/**\n * Create and show a dialog.\n *\n * @param options - The dialog setup options.\n *\n * @returns A promise that resolves with whether the dialog was accepted.\n */\nexport function showDialog(options = {}) {\n    const dialog = new Dialog(options);\n    return dialog.launch();\n}\n/**\n * Show an error message dialog.\n *\n * @param title - The title of the dialog box.\n *\n * @param error - the error to show in the dialog body (either a string\n *   or an object with a string `message` property).\n */\nexport function showErrorMessage(title, error, buttons = [\n    Dialog.okButton({ label: 'Dismiss' })\n]) {\n    console.warn('Showing error:', error);\n    // Cache promises to prevent multiple copies of identical dialogs showing\n    // to the user.\n    const body = typeof error === 'string' ? error : error.message;\n    const key = title + '----' + body;\n    const promise = Private.errorMessagePromiseCache.get(key);\n    if (promise) {\n        return promise;\n    }\n    else {\n        const dialogPromise = showDialog({\n            title: title,\n            body: body,\n            buttons: buttons\n        }).then(() => {\n            Private.errorMessagePromiseCache.delete(key);\n        }, error => {\n            // TODO: Use .finally() above when supported\n            Private.errorMessagePromiseCache.delete(key);\n            throw error;\n        });\n        Private.errorMessagePromiseCache.set(key, dialogPromise);\n        return dialogPromise;\n    }\n}\n/**\n * A modal dialog widget.\n */\nexport class Dialog extends Widget {\n    /**\n     * Create a dialog panel instance.\n     *\n     * @param options - The dialog setup options.\n     */\n    constructor(options = {}) {\n        super();\n        this._focusNodeSelector = '';\n        this.addClass('jp-Dialog');\n        const normalized = Private.handleOptions(options);\n        const renderer = normalized.renderer;\n        this._host = normalized.host;\n        this._defaultButton = normalized.defaultButton;\n        this._buttons = normalized.buttons;\n        this._hasClose = normalized.hasClose;\n        this._buttonNodes = toArray(map(this._buttons, button => {\n            return renderer.createButtonNode(button);\n        }));\n        const layout = (this.layout = new PanelLayout());\n        const content = new Panel();\n        content.addClass('jp-Dialog-content');\n        layout.addWidget(content);\n        this._body = normalized.body;\n        const header = renderer.createHeader(normalized.title, () => this.reject(), options);\n        const body = renderer.createBody(normalized.body);\n        const footer = renderer.createFooter(this._buttonNodes);\n        content.addWidget(header);\n        content.addWidget(body);\n        content.addWidget(footer);\n        this._primary = this._buttonNodes[this._defaultButton];\n        this._focusNodeSelector = options.focusNodeSelector;\n        // Add new dialogs to the tracker.\n        void Dialog.tracker.add(this);\n    }\n    /**\n     * Dispose of the resources used by the dialog.\n     */\n    dispose() {\n        const promise = this._promise;\n        if (promise) {\n            this._promise = null;\n            promise.reject(void 0);\n            ArrayExt.removeFirstOf(Private.launchQueue, promise.promise);\n        }\n        super.dispose();\n    }\n    /**\n     * Launch the dialog as a modal window.\n     *\n     * @returns a promise that resolves with the result of the dialog.\n     */\n    launch() {\n        // Return the existing dialog if already open.\n        if (this._promise) {\n            return this._promise.promise;\n        }\n        const promise = (this._promise = new PromiseDelegate());\n        const promises = Promise.all(Private.launchQueue);\n        Private.launchQueue.push(this._promise.promise);\n        return promises.then(() => {\n            // Do not show Dialog if it was disposed of before it was at the front of the launch queue\n            if (!this._promise) {\n                return Promise.resolve({ button: Dialog.cancelButton(), value: null });\n            }\n            Widget.attach(this, this._host);\n            return promise.promise;\n        });\n    }\n    /**\n     * Resolve the current dialog.\n     *\n     * @param index - An optional index to the button to resolve.\n     *\n     * #### Notes\n     * Will default to the defaultIndex.\n     * Will resolve the current `show()` with the button value.\n     * Will be a no-op if the dialog is not shown.\n     */\n    resolve(index) {\n        if (!this._promise) {\n            return;\n        }\n        if (index === undefined) {\n            index = this._defaultButton;\n        }\n        this._resolve(this._buttons[index]);\n    }\n    /**\n     * Reject the current dialog with a default reject value.\n     *\n     * #### Notes\n     * Will be a no-op if the dialog is not shown.\n     */\n    reject() {\n        if (!this._promise) {\n            return;\n        }\n        this._resolve(Dialog.cancelButton());\n    }\n    /**\n     * Handle the DOM events for the directory listing.\n     *\n     * @param event - The DOM event sent to the widget.\n     *\n     * #### Notes\n     * This method implements the DOM `EventListener` interface and is\n     * called in response to events on the panel's DOM node. It should\n     * not be called directly by user code.\n     */\n    handleEvent(event) {\n        switch (event.type) {\n            case 'keydown':\n                this._evtKeydown(event);\n                break;\n            case 'click':\n                this._evtClick(event);\n                break;\n            case 'focus':\n                this._evtFocus(event);\n                break;\n            case 'contextmenu':\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n            default:\n                break;\n        }\n    }\n    /**\n     *  A message handler invoked on an `'after-attach'` message.\n     */\n    onAfterAttach(msg) {\n        const node = this.node;\n        node.addEventListener('keydown', this, true);\n        node.addEventListener('contextmenu', this, true);\n        node.addEventListener('click', this, true);\n        document.addEventListener('focus', this, true);\n        this._first = Private.findFirstFocusable(this.node);\n        this._original = document.activeElement;\n        if (this._focusNodeSelector) {\n            const body = this.node.querySelector('.jp-Dialog-body');\n            const el = body === null || body === void 0 ? void 0 : body.querySelector(this._focusNodeSelector);\n            if (el) {\n                this._primary = el;\n            }\n        }\n        this._primary.focus();\n    }\n    /**\n     *  A message handler invoked on an `'after-detach'` message.\n     */\n    onAfterDetach(msg) {\n        const node = this.node;\n        node.removeEventListener('keydown', this, true);\n        node.removeEventListener('contextmenu', this, true);\n        node.removeEventListener('click', this, true);\n        document.removeEventListener('focus', this, true);\n        this._original.focus();\n    }\n    /**\n     * A message handler invoked on a `'close-request'` message.\n     */\n    onCloseRequest(msg) {\n        if (this._promise) {\n            this.reject();\n        }\n        super.onCloseRequest(msg);\n    }\n    /**\n     * Handle the `'click'` event for a dialog button.\n     *\n     * @param event - The DOM event sent to the widget\n     */\n    _evtClick(event) {\n        const content = this.node.getElementsByClassName('jp-Dialog-content')[0];\n        if (!content.contains(event.target)) {\n            event.stopPropagation();\n            event.preventDefault();\n            if (this._hasClose) {\n                this.reject();\n            }\n            return;\n        }\n        for (const buttonNode of this._buttonNodes) {\n            if (buttonNode.contains(event.target)) {\n                const index = this._buttonNodes.indexOf(buttonNode);\n                this.resolve(index);\n            }\n        }\n    }\n    /**\n     * Handle the `'keydown'` event for the widget.\n     *\n     * @param event - The DOM event sent to the widget\n     */\n    _evtKeydown(event) {\n        // Check for escape key\n        switch (event.keyCode) {\n            case 27: // Escape.\n                event.stopPropagation();\n                event.preventDefault();\n                if (this._hasClose) {\n                    this.reject();\n                }\n                break;\n            case 9: {\n                // Tab.\n                // Handle a tab on the last button.\n                const node = this._buttonNodes[this._buttons.length - 1];\n                if (document.activeElement === node && !event.shiftKey) {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    this._first.focus();\n                }\n                break;\n            }\n            case 13: // Enter.\n                event.stopPropagation();\n                event.preventDefault();\n                this.resolve();\n                break;\n            default:\n                break;\n        }\n    }\n    /**\n     * Handle the `'focus'` event for the widget.\n     *\n     * @param event - The DOM event sent to the widget\n     */\n    _evtFocus(event) {\n        const target = event.target;\n        if (!this.node.contains(target)) {\n            event.stopPropagation();\n            this._buttonNodes[this._defaultButton].focus();\n        }\n    }\n    /**\n     * Resolve a button item.\n     */\n    _resolve(button) {\n        // Prevent loopback.\n        const promise = this._promise;\n        if (!promise) {\n            this.dispose();\n            return;\n        }\n        this._promise = null;\n        ArrayExt.removeFirstOf(Private.launchQueue, promise.promise);\n        const body = this._body;\n        let value = null;\n        if (button.accept &&\n            body instanceof Widget &&\n            typeof body.getValue === 'function') {\n            value = body.getValue();\n        }\n        this.dispose();\n        promise.resolve({ button, value });\n    }\n}\n/**\n * The namespace for Dialog class statics.\n */\n(function (Dialog) {\n    /**\n     * Create a button item.\n     */\n    function createButton(value) {\n        value.accept = value.accept !== false;\n        const defaultLabel = value.accept ? 'OK' : 'Cancel';\n        return {\n            label: value.label || defaultLabel,\n            iconClass: value.iconClass || '',\n            iconLabel: value.iconLabel || '',\n            caption: value.caption || '',\n            className: value.className || '',\n            accept: value.accept,\n            actions: value.actions || [],\n            displayType: value.displayType || 'default'\n        };\n    }\n    Dialog.createButton = createButton;\n    /**\n     * Create a reject button.\n     */\n    function cancelButton(options = {}) {\n        options.accept = false;\n        return createButton(options);\n    }\n    Dialog.cancelButton = cancelButton;\n    /**\n     * Create an accept button.\n     */\n    function okButton(options = {}) {\n        options.accept = true;\n        return createButton(options);\n    }\n    Dialog.okButton = okButton;\n    /**\n     * Create a warn button.\n     */\n    function warnButton(options = {}) {\n        options.displayType = 'warn';\n        return createButton(options);\n    }\n    Dialog.warnButton = warnButton;\n    /**\n     * Disposes all dialog instances.\n     *\n     * #### Notes\n     * This function should only be used in tests or cases where application state\n     * may be discarded.\n     */\n    function flush() {\n        Dialog.tracker.forEach(dialog => {\n            dialog.dispose();\n        });\n    }\n    Dialog.flush = flush;\n    /**\n     * The default implementation of a dialog renderer.\n     */\n    class Renderer {\n        /**\n         * Create the header of the dialog.\n         *\n         * @param title - The title of the dialog.\n         *\n         * @returns A widget for the dialog header.\n         */\n        createHeader(title, reject = () => {\n            /* empty */\n        }, options = {}) {\n            let header;\n            const handleMouseDown = (event) => {\n                // Fire action only when left button is pressed.\n                if (event.button === 0) {\n                    event.preventDefault();\n                    reject();\n                }\n            };\n            const handleKeyDown = (event) => {\n                const { key } = event;\n                if (key === 'Enter' || key === ' ') {\n                    reject();\n                }\n            };\n            if (typeof title === 'string') {\n                header = ReactWidget.create(React.createElement(React.Fragment, null,\n                    title,\n                    options.hasClose && (React.createElement(Button, { className: \"jp-Dialog-close-button\", onMouseDown: handleMouseDown, onKeyDown: handleKeyDown, title: \"Cancel\", minimal: true },\n                        React.createElement(LabIcon.resolveReact, { icon: closeIcon, iconClass: \"jp-Icon\", className: \"jp-ToolbarButtonComponent-icon\", tag: \"span\" })))));\n            }\n            else {\n                header = ReactWidget.create(title);\n            }\n            header.addClass('jp-Dialog-header');\n            Styling.styleNode(header.node);\n            return header;\n        }\n        /**\n         * Create the body of the dialog.\n         *\n         * @param value - The input value for the body.\n         *\n         * @returns A widget for the body.\n         */\n        createBody(value) {\n            let body;\n            if (typeof value === 'string') {\n                body = new Widget({ node: document.createElement('span') });\n                body.node.textContent = value;\n            }\n            else if (value instanceof Widget) {\n                body = value;\n            }\n            else {\n                body = ReactWidget.create(value);\n                // Immediately update the body even though it has not yet attached in\n                // order to trigger a render of the DOM nodes from the React element.\n                MessageLoop.sendMessage(body, Widget.Msg.UpdateRequest);\n            }\n            body.addClass('jp-Dialog-body');\n            Styling.styleNode(body.node);\n            return body;\n        }\n        /**\n         * Create the footer of the dialog.\n         *\n         * @param buttonNodes - The buttons nodes to add to the footer.\n         *\n         * @returns A widget for the footer.\n         */\n        createFooter(buttons) {\n            const footer = new Widget();\n            footer.addClass('jp-Dialog-footer');\n            each(buttons, button => {\n                footer.node.appendChild(button);\n            });\n            Styling.styleNode(footer.node);\n            return footer;\n        }\n        /**\n         * Create a button node for the dialog.\n         *\n         * @param button - The button data.\n         *\n         * @returns A node for the button.\n         */\n        createButtonNode(button) {\n            const e = document.createElement('button');\n            e.className = this.createItemClass(button);\n            e.appendChild(this.renderIcon(button));\n            e.appendChild(this.renderLabel(button));\n            return e;\n        }\n        /**\n         * Create the class name for the button.\n         *\n         * @param data - The data to use for the class name.\n         *\n         * @returns The full class name for the button.\n         */\n        createItemClass(data) {\n            // Setup the initial class name.\n            let name = 'jp-Dialog-button';\n            // Add the other state classes.\n            if (data.accept) {\n                name += ' jp-mod-accept';\n            }\n            else {\n                name += ' jp-mod-reject';\n            }\n            if (data.displayType === 'warn') {\n                name += ' jp-mod-warn';\n            }\n            // Add the extra class.\n            const extra = data.className;\n            if (extra) {\n                name += ` ${extra}`;\n            }\n            // Return the complete class name.\n            return name;\n        }\n        /**\n         * Render an icon element for a dialog item.\n         *\n         * @param data - The data to use for rendering the icon.\n         *\n         * @returns An HTML element representing the icon.\n         */\n        renderIcon(data) {\n            const e = document.createElement('div');\n            e.className = this.createIconClass(data);\n            e.appendChild(document.createTextNode(data.iconLabel));\n            return e;\n        }\n        /**\n         * Create the class name for the button icon.\n         *\n         * @param data - The data to use for the class name.\n         *\n         * @returns The full class name for the item icon.\n         */\n        createIconClass(data) {\n            const name = 'jp-Dialog-buttonIcon';\n            const extra = data.iconClass;\n            return extra ? `${name} ${extra}` : name;\n        }\n        /**\n         * Render the label element for a button.\n         *\n         * @param data - The data to use for rendering the label.\n         *\n         * @returns An HTML element representing the item label.\n         */\n        renderLabel(data) {\n            const e = document.createElement('div');\n            e.className = 'jp-Dialog-buttonLabel';\n            e.title = data.caption;\n            e.appendChild(document.createTextNode(data.label));\n            return e;\n        }\n    }\n    Dialog.Renderer = Renderer;\n    /**\n     * The default renderer instance.\n     */\n    Dialog.defaultRenderer = new Renderer();\n    /**\n     * The dialog widget tracker.\n     */\n    Dialog.tracker = new WidgetTracker({\n        namespace: '@jupyterlab/apputils:Dialog'\n    });\n})(Dialog || (Dialog = {}));\n/**\n * The namespace for module private data.\n */\nvar Private;\n(function (Private) {\n    /**\n     * The queue for launching dialogs.\n     */\n    Private.launchQueue = [];\n    Private.errorMessagePromiseCache = new Map();\n    /**\n     * Handle the input options for a dialog.\n     *\n     * @param options - The input options.\n     *\n     * @returns A new options object with defaults applied.\n     */\n    function handleOptions(options = {}) {\n        const buttons = options.buttons || [\n            Dialog.cancelButton(),\n            Dialog.okButton()\n        ];\n        let defaultButton = buttons.length - 1;\n        if (options.defaultButton !== undefined) {\n            defaultButton = options.defaultButton;\n        }\n        return {\n            title: options.title || '',\n            body: options.body || '',\n            host: options.host || document.body,\n            buttons,\n            defaultButton,\n            renderer: options.renderer || Dialog.defaultRenderer,\n            focusNodeSelector: options.focusNodeSelector || '',\n            hasClose: options.hasClose || true\n        };\n    }\n    Private.handleOptions = handleOptions;\n    /**\n     *  Find the first focusable item in the dialog.\n     */\n    function findFirstFocusable(node) {\n        const candidateSelectors = [\n            'input',\n            'select',\n            'a[href]',\n            'textarea',\n            'button',\n            '[tabindex]'\n        ].join(',');\n        return node.querySelectorAll(candidateSelectors)[0];\n    }\n    Private.findFirstFocusable = findFirstFocusable;\n})(Private || (Private = {}));\n//# sourceMappingURL=dialog.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { RestorablePool } from '@jupyterlab/statedb';\nimport { Signal } from '@lumino/signaling';\nimport { FocusTracker } from '@lumino/widgets';\n/**\n * A class that keeps track of widget instances on an Application shell.\n *\n * @typeparam T - The type of widget being tracked. Defaults to `Widget`.\n *\n * #### Notes\n * The API surface area of this concrete implementation is substantially larger\n * than the widget tracker interface it implements. The interface is intended\n * for export by JupyterLab plugins that create widgets and have clients who may\n * wish to keep track of newly created widgets. This class, however, can be used\n * internally by plugins to restore state as well.\n */\nexport class WidgetTracker {\n    /**\n     * Create a new widget tracker.\n     *\n     * @param options - The instantiation options for a widget tracker.\n     */\n    constructor(options) {\n        this._currentChanged = new Signal(this);\n        this._isDisposed = false;\n        this._widgetAdded = new Signal(this);\n        this._widgetUpdated = new Signal(this);\n        const focus = (this._focusTracker = new FocusTracker());\n        const pool = (this._pool = new RestorablePool(options));\n        this.namespace = options.namespace;\n        focus.currentChanged.connect((_, current) => {\n            if (current.newValue !== this.currentWidget) {\n                pool.current = current.newValue;\n            }\n        }, this);\n        pool.added.connect((_, widget) => {\n            this._widgetAdded.emit(widget);\n        }, this);\n        pool.currentChanged.connect((_, widget) => {\n            // If the pool's current reference is `null` but the focus tracker has a\n            // current widget, update the pool to match the focus tracker.\n            if (widget === null && focus.currentWidget) {\n                pool.current = focus.currentWidget;\n                return;\n            }\n            this.onCurrentChanged(widget);\n            this._currentChanged.emit(widget);\n        }, this);\n        pool.updated.connect((_, widget) => {\n            this._widgetUpdated.emit(widget);\n        }, this);\n    }\n    /**\n     * A signal emitted when the current widget changes.\n     */\n    get currentChanged() {\n        return this._currentChanged;\n    }\n    /**\n     * The current widget is the most recently focused or added widget.\n     *\n     * #### Notes\n     * It is the most recently focused widget, or the most recently added\n     * widget if no widget has taken focus.\n     */\n    get currentWidget() {\n        return this._pool.current || null;\n    }\n    /**\n     * A promise resolved when the tracker has been restored.\n     */\n    get restored() {\n        return this._pool.restored;\n    }\n    /**\n     * The number of widgets held by the tracker.\n     */\n    get size() {\n        return this._pool.size;\n    }\n    /**\n     * A signal emitted when a widget is added.\n     *\n     * #### Notes\n     * This signal will only fire when a widget is added to the tracker. It will\n     * not fire if a widget is injected into the tracker.\n     */\n    get widgetAdded() {\n        return this._widgetAdded;\n    }\n    /**\n     * A signal emitted when a widget is updated.\n     */\n    get widgetUpdated() {\n        return this._widgetUpdated;\n    }\n    /**\n     * Add a new widget to the tracker.\n     *\n     * @param widget - The widget being added.\n     *\n     * #### Notes\n     * The widget passed into the tracker is added synchronously; its existence in\n     * the tracker can be checked with the `has()` method. The promise this method\n     * returns resolves after the widget has been added and saved to an underlying\n     * restoration connector, if one is available.\n     *\n     * The newly added widget becomes the current widget unless the focus tracker\n     * already had a focused widget.\n     */\n    async add(widget) {\n        this._focusTracker.add(widget);\n        await this._pool.add(widget);\n        if (!this._focusTracker.activeWidget) {\n            this._pool.current = widget;\n        }\n    }\n    /**\n     * Test whether the tracker is disposed.\n     */\n    get isDisposed() {\n        return this._isDisposed;\n    }\n    /**\n     * Dispose of the resources held by the tracker.\n     */\n    dispose() {\n        if (this.isDisposed) {\n            return;\n        }\n        this._isDisposed = true;\n        this._pool.dispose();\n        this._focusTracker.dispose();\n        Signal.clearData(this);\n    }\n    /**\n     * Find the first widget in the tracker that satisfies a filter function.\n     *\n     * @param - fn The filter function to call on each widget.\n     *\n     * #### Notes\n     * If no widget is found, the value returned is `undefined`.\n     */\n    find(fn) {\n        return this._pool.find(fn);\n    }\n    /**\n     * Iterate through each widget in the tracker.\n     *\n     * @param fn - The function to call on each widget.\n     */\n    forEach(fn) {\n        return this._pool.forEach(fn);\n    }\n    /**\n     * Filter the widgets in the tracker based on a predicate.\n     *\n     * @param fn - The function by which to filter.\n     */\n    filter(fn) {\n        return this._pool.filter(fn);\n    }\n    /**\n     * Inject a foreign widget into the widget tracker.\n     *\n     * @param widget - The widget to inject into the tracker.\n     *\n     * #### Notes\n     * Injected widgets will not have their state saved by the tracker.\n     *\n     * The primary use case for widget injection is for a plugin that offers a\n     * sub-class of an extant plugin to have its instances share the same commands\n     * as the parent plugin (since most relevant commands will use the\n     * `currentWidget` of the parent plugin's widget tracker). In this situation,\n     * the sub-class plugin may well have its own widget tracker for layout and\n     * state restoration in addition to injecting its widgets into the parent\n     * plugin's widget tracker.\n     */\n    inject(widget) {\n        return this._pool.inject(widget);\n    }\n    /**\n     * Check if this tracker has the specified widget.\n     *\n     * @param widget - The widget whose existence is being checked.\n     */\n    has(widget) {\n        return this._pool.has(widget);\n    }\n    /**\n     * Restore the widgets in this tracker's namespace.\n     *\n     * @param options - The configuration options that describe restoration.\n     *\n     * @returns A promise that resolves when restoration has completed.\n     *\n     * #### Notes\n     * This function should not typically be invoked by client code.\n     * Its primary use case is to be invoked by a restorer.\n     */\n    async restore(options) {\n        return this._pool.restore(options);\n    }\n    /**\n     * Save the restore data for a given widget.\n     *\n     * @param widget - The widget being saved.\n     */\n    async save(widget) {\n        return this._pool.save(widget);\n    }\n    /**\n     * Handle the current change event.\n     *\n     * #### Notes\n     * The default implementation is a no-op.\n     */\n    onCurrentChanged(value) {\n        /* no-op */\n    }\n}\n//# sourceMappingURL=widgettracker.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { ArrayExt } from '@lumino/algorithm';\nimport { ElementExt } from '@lumino/domutils';\nimport { UUID } from '@lumino/coreutils';\n/**\n * The namespace for DOM utilities.\n */\nexport var DOMUtils;\n(function (DOMUtils) {\n    /**\n     * Get the index of the node at a client position, or `-1`.\n     */\n    function hitTestNodes(nodes, x, y) {\n        return ArrayExt.findFirstIndex(nodes, node => {\n            return ElementExt.hitTest(node, x, y);\n        });\n    }\n    DOMUtils.hitTestNodes = hitTestNodes;\n    /**\n     * Find the first element matching a class name.\n     */\n    function findElement(parent, className) {\n        return parent.querySelector(`.${className}`);\n    }\n    DOMUtils.findElement = findElement;\n    /**\n     * Find the first element matching a class name.\n     */\n    function findElements(parent, className) {\n        return parent.getElementsByClassName(className);\n    }\n    DOMUtils.findElements = findElements;\n    /**\n     * Create a DOM id with prefix \"id-\" to solve bug for UUIDs beginning with numbers.\n     */\n    function createDomID() {\n        return `id-${UUID.uuid4()}`;\n    }\n    DOMUtils.createDomID = createDomID;\n})(DOMUtils || (DOMUtils = {}));\n//# sourceMappingURL=domutils.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n/**\n * The class name added to all hover boxes.\n */\nconst HOVERBOX_CLASS = 'jp-HoverBox';\n/**\n * The class name added to a hovering node that is scrolled out of view.\n */\nconst OUTOFVIEW_CLASS = 'jp-mod-outofview';\n/**\n * A namespace for `HoverBox` members.\n */\nexport var HoverBox;\n(function (HoverBox) {\n    /**\n     * Set the visible dimensions of a hovering box anchored to an editor cursor.\n     *\n     * @param options - The hover box geometry calculation options.\n     */\n    function setGeometry(options) {\n        const { anchor, host, node, privilege } = options;\n        // Add hover box class if it does not exist.\n        node.classList.add(HOVERBOX_CLASS);\n        // Hide the hover box before querying the DOM for the anchor coordinates.\n        node.classList.add(OUTOFVIEW_CLASS);\n        // If the current coordinates are not visible, bail.\n        if (!host.contains(document.elementFromPoint(anchor.left, anchor.top))) {\n            return;\n        }\n        // Clear any previously set max-height.\n        node.style.maxHeight = '';\n        // Clear any programmatically set margin-top.\n        node.style.marginTop = '';\n        // Make sure the node is visible so that its dimensions can be queried.\n        node.classList.remove(OUTOFVIEW_CLASS);\n        const style = options.style || window.getComputedStyle(node);\n        const innerHeight = window.innerHeight;\n        const spaceAbove = anchor.top;\n        const spaceBelow = innerHeight - anchor.bottom;\n        const marginTop = parseInt(style.marginTop, 10) || 0;\n        const minHeight = parseInt(style.minHeight, 10) || options.minHeight;\n        let maxHeight = parseInt(style.maxHeight, 10) || options.maxHeight;\n        // Determine whether to render above or below; check privilege.\n        const renderBelow = privilege === 'forceAbove'\n            ? false\n            : privilege === 'forceBelow'\n                ? true\n                : privilege === 'above'\n                    ? spaceAbove < maxHeight && spaceAbove < spaceBelow\n                    : spaceBelow >= maxHeight || spaceBelow >= spaceAbove;\n        if (renderBelow) {\n            maxHeight = Math.min(spaceBelow - marginTop, maxHeight);\n        }\n        else {\n            maxHeight = Math.min(spaceAbove, maxHeight);\n            // If the box renders above the text, its top margin is irrelevant.\n            node.style.marginTop = '0px';\n        }\n        node.style.maxHeight = `${maxHeight}px`;\n        // Make sure the box ought to be visible.\n        const withinBounds = maxHeight > minHeight &&\n            (spaceBelow >= minHeight || spaceAbove >= minHeight);\n        if (!withinBounds) {\n            node.classList.add(OUTOFVIEW_CLASS);\n            return;\n        }\n        // Position the box vertically.\n        const offsetAbove = (options.offset &&\n            options.offset.vertical &&\n            options.offset.vertical.above) ||\n            0;\n        const offsetBelow = (options.offset &&\n            options.offset.vertical &&\n            options.offset.vertical.below) ||\n            0;\n        const top = renderBelow\n            ? innerHeight - spaceBelow + offsetBelow\n            : spaceAbove - node.getBoundingClientRect().height + offsetAbove;\n        node.style.top = `${Math.floor(top)}px`;\n        // Position the box horizontally.\n        const offsetHorizontal = (options.offset && options.offset.horizontal) || 0;\n        let left = anchor.left + offsetHorizontal;\n        node.style.left = `${Math.ceil(left)}px`;\n        node.style.width = 'auto';\n        // Expand the menu width by the scrollbar size, if present.\n        if (node.scrollHeight >= maxHeight) {\n            node.style.width = `${2 * node.offsetWidth - node.clientWidth}`;\n            node.scrollTop = 0;\n        }\n        // Move left to fit in the window.\n        const right = node.getBoundingClientRect().right;\n        if (right > window.innerWidth) {\n            left -= right - window.innerWidth;\n            node.style.left = `${Math.ceil(left)}px`;\n        }\n    }\n    HoverBox.setGeometry = setGeometry;\n})(HoverBox || (HoverBox = {}));\n//# sourceMappingURL=hoverbox.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { Widget } from '@lumino/widgets';\n/**\n * A phosphor widget which wraps an IFrame.\n */\nexport class IFrame extends Widget {\n    /**\n     * Create a new IFrame widget.\n     */\n    constructor(options = {}) {\n        super({ node: Private.createNode() });\n        this._sandbox = [];\n        this.addClass('jp-IFrame');\n        this.sandbox = options.sandbox || [];\n        this.referrerPolicy = options.referrerPolicy || 'no-referrer';\n    }\n    /**\n     * Referrer policy for the iframe.\n     *\n     * #### Notes\n     * By default, `no-referrer` is chosen.\n     *\n     * For more information, see\n     * https://developer.mozilla.org/en-US/docs/Web/API/HTMLIFrameElement/referrerPolicy\n     */\n    get referrerPolicy() {\n        return this._referrerPolicy;\n    }\n    set referrerPolicy(value) {\n        if (this._referrerPolicy === value) {\n            return;\n        }\n        this._referrerPolicy = value;\n        const iframe = this.node.querySelector('iframe');\n        iframe.setAttribute('referrerpolicy', value);\n    }\n    /**\n     * Exceptions to the sandboxing.\n     *\n     * #### Notes\n     * By default, all sandboxing security policies are enabled.\n     * This setting allows the user to selectively disable these\n     * policies. This should be done with care, as it can\n     * introduce security risks, and possibly allow malicious\n     * sites to execute code in a JupyterLab session.\n     *\n     * For more information, see\n     * https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe\n     */\n    get sandbox() {\n        return this._sandbox.slice();\n    }\n    set sandbox(values) {\n        this._sandbox = values.slice();\n        const iframe = this.node.querySelector('iframe');\n        const exceptions = values.length ? values.join(' ') : '';\n        iframe.setAttribute('sandbox', exceptions);\n    }\n    /**\n     * The url of the IFrame.\n     */\n    get url() {\n        return this.node.querySelector('iframe').getAttribute('src') || '';\n    }\n    set url(url) {\n        this.node.querySelector('iframe').setAttribute('src', url);\n    }\n}\n/**\n * A namespace for private data.\n */\nvar Private;\n(function (Private) {\n    /**\n     * Create the main content node of an iframe widget.\n     */\n    function createNode() {\n        const node = document.createElement('div');\n        const iframe = document.createElement('iframe');\n        iframe.setAttribute('sandbox', '');\n        iframe.style.height = '100%';\n        iframe.style.width = '100%';\n        node.appendChild(iframe);\n        return node;\n    }\n    Private.createNode = createNode;\n})(Private || (Private = {}));\n//# sourceMappingURL=iframe.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { Widget } from '@lumino/widgets';\nimport { Dialog, showDialog } from './dialog';\nimport { Styling } from './styling';\nconst INPUT_DIALOG_CLASS = 'jp-Input-Dialog';\n/**\n * Namespace for input dialogs\n */\nexport var InputDialog;\n(function (InputDialog) {\n    /**\n     * Create and show a input dialog for a boolean.\n     *\n     * @param options - The dialog setup options.\n     *\n     * @returns A promise that resolves with whether the dialog was accepted\n     */\n    function getBoolean(options) {\n        return showDialog(Object.assign(Object.assign({}, options), { body: new InputBooleanDialog(options), buttons: [\n                Dialog.cancelButton({ label: options.cancelLabel }),\n                Dialog.okButton({ label: options.okLabel })\n            ], focusNodeSelector: 'input' }));\n    }\n    InputDialog.getBoolean = getBoolean;\n    /**\n     * Create and show a input dialog for a number.\n     *\n     * @param options - The dialog setup options.\n     *\n     * @returns A promise that resolves with whether the dialog was accepted\n     */\n    function getNumber(options) {\n        return showDialog(Object.assign(Object.assign({}, options), { body: new InputNumberDialog(options), buttons: [\n                Dialog.cancelButton({ label: options.cancelLabel }),\n                Dialog.okButton({ label: options.okLabel })\n            ], focusNodeSelector: 'input' }));\n    }\n    InputDialog.getNumber = getNumber;\n    /**\n     * Create and show a input dialog for a choice.\n     *\n     * @param options - The dialog setup options.\n     *\n     * @returns A promise that resolves with whether the dialog was accepted\n     */\n    function getItem(options) {\n        return showDialog(Object.assign(Object.assign({}, options), { body: new InputItemsDialog(options), buttons: [\n                Dialog.cancelButton({ label: options.cancelLabel }),\n                Dialog.okButton({ label: options.okLabel })\n            ], focusNodeSelector: options.editable ? 'input' : 'select' }));\n    }\n    InputDialog.getItem = getItem;\n    /**\n     * Create and show a input dialog for a text.\n     *\n     * @param options - The dialog setup options.\n     *\n     * @returns A promise that resolves with whether the dialog was accepted\n     */\n    function getText(options) {\n        return showDialog(Object.assign(Object.assign({}, options), { body: new InputTextDialog(options), buttons: [\n                Dialog.cancelButton({ label: options.cancelLabel }),\n                Dialog.okButton({ label: options.okLabel })\n            ], focusNodeSelector: 'input' }));\n    }\n    InputDialog.getText = getText;\n    /**\n     * Create and show a input dialog for a password.\n     *\n     * @param options - The dialog setup options.\n     *\n     * @returns A promise that resolves with whether the dialog was accepted\n     */\n    function getPassword(options) {\n        return showDialog(Object.assign(Object.assign({}, options), { body: new InputPasswordDialog(options), buttons: [\n                Dialog.cancelButton({ label: options.cancelLabel }),\n                Dialog.okButton({ label: options.okLabel })\n            ], focusNodeSelector: 'input' }));\n    }\n    InputDialog.getPassword = getPassword;\n})(InputDialog || (InputDialog = {}));\n/**\n * Base widget for input dialog body\n */\nclass InputDialogBase extends Widget {\n    /**\n     * InputDialog constructor\n     *\n     * @param label Input field label\n     */\n    constructor(label) {\n        super();\n        this.addClass(INPUT_DIALOG_CLASS);\n        if (label !== undefined) {\n            const labelElement = document.createElement('label');\n            labelElement.textContent = label;\n            // Initialize the node\n            this.node.appendChild(labelElement);\n        }\n    }\n}\n/**\n * Widget body for input boolean dialog\n */\nclass InputBooleanDialog extends InputDialogBase {\n    /**\n     * InputBooleanDialog constructor\n     *\n     * @param options Constructor options\n     */\n    constructor(options) {\n        super(options.label);\n        this._input = document.createElement('input');\n        this._input.classList.add('jp-mod-styled');\n        this._input.type = 'checkbox';\n        this._input.checked = options.value ? true : false;\n        // Initialize the node\n        this.node.appendChild(this._input);\n    }\n    /**\n     * Get the text specified by the user\n     */\n    getValue() {\n        return this._input.checked;\n    }\n}\n/**\n * Widget body for input number dialog\n */\nclass InputNumberDialog extends InputDialogBase {\n    /**\n     * InputNumberDialog constructor\n     *\n     * @param options Constructor options\n     */\n    constructor(options) {\n        super(options.label);\n        this._input = document.createElement('input', {});\n        this._input.classList.add('jp-mod-styled');\n        this._input.type = 'number';\n        this._input.value = options.value ? options.value.toString() : '0';\n        // Initialize the node\n        this.node.appendChild(this._input);\n    }\n    /**\n     * Get the number specified by the user.\n     */\n    getValue() {\n        if (this._input.value) {\n            return Number(this._input.value);\n        }\n        else {\n            return Number.NaN;\n        }\n    }\n}\n/**\n * Widget body for input text dialog\n */\nclass InputTextDialog extends InputDialogBase {\n    /**\n     * InputTextDialog constructor\n     *\n     * @param options Constructor options\n     */\n    constructor(options) {\n        super(options.label);\n        this._input = document.createElement('input', {});\n        this._input.classList.add('jp-mod-styled');\n        this._input.type = 'text';\n        this._input.value = options.text ? options.text : '';\n        if (options.placeholder) {\n            this._input.placeholder = options.placeholder;\n        }\n        // Initialize the node\n        this.node.appendChild(this._input);\n    }\n    /**\n     * Get the text specified by the user\n     */\n    getValue() {\n        return this._input.value;\n    }\n}\n/**\n * Widget body for input password dialog\n */\nclass InputPasswordDialog extends InputDialogBase {\n    /**\n     * InputPasswordDialog constructor\n     *\n     * @param options Constructor options\n     */\n    constructor(options) {\n        super(options.label);\n        this._input = document.createElement('input', {});\n        this._input.classList.add('jp-mod-styled');\n        this._input.type = 'password';\n        this._input.value = options.text ? options.text : '';\n        if (options.placeholder) {\n            this._input.placeholder = options.placeholder;\n        }\n        // Initialize the node\n        this.node.appendChild(this._input);\n    }\n    /**\n     * Get the text specified by the user\n     */\n    getValue() {\n        return this._input.value;\n    }\n}\n/**\n * Widget body for input list dialog\n */\nclass InputItemsDialog extends InputDialogBase {\n    /**\n     * InputItemsDialog constructor\n     *\n     * @param options Constructor options\n     */\n    constructor(options) {\n        super(options.label);\n        this._editable = options.editable || false;\n        let current = options.current || 0;\n        let defaultIndex;\n        if (typeof current === 'number') {\n            defaultIndex = Math.max(0, Math.min(current, options.items.length - 1));\n            current = '';\n        }\n        this._list = document.createElement('select');\n        options.items.forEach((item, index) => {\n            const option = document.createElement('option');\n            if (index === defaultIndex) {\n                option.selected = true;\n                current = item;\n            }\n            option.value = item;\n            option.textContent = item;\n            this._list.appendChild(option);\n        });\n        if (options.editable) {\n            /* Use of list and datalist */\n            const data = document.createElement('datalist');\n            data.id = 'input-dialog-items';\n            data.appendChild(this._list);\n            this._input = document.createElement('input', {});\n            this._input.classList.add('jp-mod-styled');\n            this._input.type = 'list';\n            this._input.value = current;\n            this._input.setAttribute('list', data.id);\n            if (options.placeholder) {\n                this._input.placeholder = options.placeholder;\n            }\n            this.node.appendChild(this._input);\n            this.node.appendChild(data);\n        }\n        else {\n            /* Use select directly */\n            this.node.appendChild(Styling.wrapSelect(this._list));\n        }\n    }\n    /**\n     * Get the user choice\n     */\n    getValue() {\n        if (this._editable) {\n            return this._input.value;\n        }\n        else {\n            return this._list.value;\n        }\n    }\n}\n//# sourceMappingURL=inputdialog.js.map","/* -----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\nimport { Widget } from '@lumino/widgets';\n/**\n * The spinner class.\n */\nexport class Spinner extends Widget {\n    /**\n     * Construct a spinner widget.\n     */\n    constructor() {\n        super();\n        this.addClass('jp-Spinner');\n        this.node.tabIndex = -1;\n        const content = document.createElement('div');\n        content.className = 'jp-SpinnerContent';\n        this.node.appendChild(content);\n    }\n    /**\n     * Handle `'activate-request'` messages.\n     */\n    onActivateRequest(msg) {\n        this.node.focus();\n    }\n}\n//# sourceMappingURL=spinner.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { PathExt } from '@jupyterlab/coreutils';\nimport { UUID } from '@lumino/coreutils';\nimport { each, find } from '@lumino/algorithm';\nimport { PromiseDelegate } from '@lumino/coreutils';\nimport { Signal } from '@lumino/signaling';\nimport { Widget } from '@lumino/widgets';\nimport * as React from 'react';\nimport { showDialog, Dialog } from './dialog';\nimport { nullTranslator } from '@jupyterlab/translation';\n/**\n * The default implementation for a session context object.\n */\nexport class SessionContext {\n    /**\n     * Construct a new session context.\n     */\n    constructor(options) {\n        var _a, _b, _c, _d;\n        this._path = '';\n        this._name = '';\n        this._type = '';\n        this._prevKernelName = '';\n        this._isDisposed = false;\n        this._disposed = new Signal(this);\n        this._session = null;\n        this._ready = new PromiseDelegate();\n        this._initializing = false;\n        this._initStarted = new PromiseDelegate();\n        this._initPromise = new PromiseDelegate();\n        this._isReady = false;\n        this._isTerminating = false;\n        this._isRestarting = false;\n        this._kernelChanged = new Signal(this);\n        this._sessionChanged = new Signal(this);\n        this._statusChanged = new Signal(this);\n        this._connectionStatusChanged = new Signal(this);\n        this._iopubMessage = new Signal(this);\n        this._unhandledMessage = new Signal(this);\n        this._propertyChanged = new Signal(this);\n        this._dialog = null;\n        this._busyDisposable = null;\n        this._pendingKernelName = '';\n        this._pendingSessionRequest = '';\n        this.sessionManager = options.sessionManager;\n        this.specsManager = options.specsManager;\n        this.translator = options.translator || nullTranslator;\n        this._trans = this.translator.load('jupyterlab');\n        this._path = (_a = options.path) !== null && _a !== void 0 ? _a : UUID.uuid4();\n        this._type = (_b = options.type) !== null && _b !== void 0 ? _b : '';\n        this._name = (_c = options.name) !== null && _c !== void 0 ? _c : '';\n        this._setBusy = options.setBusy;\n        this._kernelPreference = (_d = options.kernelPreference) !== null && _d !== void 0 ? _d : {};\n    }\n    /**\n     * The current session connection.\n     */\n    get session() {\n        var _a;\n        return (_a = this._session) !== null && _a !== void 0 ? _a : null;\n    }\n    /**\n     * The session path.\n     *\n     * #### Notes\n     * Typically `.session.path` should be used. This attribute is useful if\n     * there is no current session.\n     */\n    get path() {\n        return this._path;\n    }\n    /**\n     * The session type.\n     *\n     * #### Notes\n     * Typically `.session.type` should be used. This attribute is useful if\n     * there is no current session.\n     */\n    get type() {\n        return this._type;\n    }\n    /**\n     * The session name.\n     *\n     * #### Notes\n     * Typically `.session.name` should be used. This attribute is useful if\n     * there is no current session.\n     */\n    get name() {\n        return this._name;\n    }\n    /**\n     * A signal emitted when the kernel connection changes, proxied from the session connection.\n     */\n    get kernelChanged() {\n        return this._kernelChanged;\n    }\n    /**\n     * A signal emitted when the session connection changes.\n     */\n    get sessionChanged() {\n        return this._sessionChanged;\n    }\n    /**\n     * A signal emitted when the kernel status changes, proxied from the kernel.\n     */\n    get statusChanged() {\n        return this._statusChanged;\n    }\n    /**\n     * A signal emitted when the kernel status changes, proxied from the kernel.\n     */\n    get connectionStatusChanged() {\n        return this._connectionStatusChanged;\n    }\n    /**\n     * A signal emitted for iopub kernel messages, proxied from the kernel.\n     */\n    get iopubMessage() {\n        return this._iopubMessage;\n    }\n    /**\n     * A signal emitted for an unhandled kernel message, proxied from the kernel.\n     */\n    get unhandledMessage() {\n        return this._unhandledMessage;\n    }\n    /**\n     * A signal emitted when a session property changes, proxied from the current session.\n     */\n    get propertyChanged() {\n        return this._propertyChanged;\n    }\n    /**\n     * The kernel preference of this client session.\n     *\n     * This is used when selecting a new kernel, and should reflect the sort of\n     * kernel the activity prefers.\n     */\n    get kernelPreference() {\n        return this._kernelPreference;\n    }\n    set kernelPreference(value) {\n        this._kernelPreference = value;\n    }\n    /**\n     * Whether the context is ready.\n     */\n    get isReady() {\n        return this._isReady;\n    }\n    /**\n     * A promise that is fulfilled when the context is ready.\n     */\n    get ready() {\n        return this._ready.promise;\n    }\n    /**\n     * Whether the context is terminating.\n     */\n    get isTerminating() {\n        return this._isTerminating;\n    }\n    /**\n     * Whether the context is restarting.\n     */\n    get isRestarting() {\n        return this._isRestarting;\n    }\n    /**\n     * The display name of the current kernel, or a sensible alternative.\n     *\n     * #### Notes\n     * This is a convenience function to have a consistent sensible name for the\n     * kernel.\n     */\n    get kernelDisplayName() {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n        const kernel = (_a = this.session) === null || _a === void 0 ? void 0 : _a.kernel;\n        if (this._pendingKernelName === this._trans.__('No Kernel')) {\n            return this._trans.__('No Kernel');\n        }\n        if (!kernel &&\n            !this.isReady &&\n            this.kernelPreference.canStart !== false &&\n            this.kernelPreference.shouldStart !== false) {\n            let name = this._pendingKernelName ||\n                SessionContext.getDefaultKernel({\n                    specs: this.specsManager.specs,\n                    sessions: this.sessionManager.running(),\n                    preference: this.kernelPreference\n                }) ||\n                '';\n            if (name) {\n                name = (_d = (_c = (_b = this.specsManager.specs) === null || _b === void 0 ? void 0 : _b.kernelspecs[name]) === null || _c === void 0 ? void 0 : _c.display_name) !== null && _d !== void 0 ? _d : name;\n                return name;\n            }\n            return this._trans.__('No Kernel');\n        }\n        if (this._pendingKernelName) {\n            return ((_g = (_f = (_e = this.specsManager.specs) === null || _e === void 0 ? void 0 : _e.kernelspecs[this._pendingKernelName]) === null || _f === void 0 ? void 0 : _f.display_name) !== null && _g !== void 0 ? _g : this._pendingKernelName);\n        }\n        if (!kernel) {\n            return this._trans.__('No Kernel');\n        }\n        return ((_k = (_j = (_h = this.specsManager.specs) === null || _h === void 0 ? void 0 : _h.kernelspecs[kernel.name]) === null || _j === void 0 ? void 0 : _j.display_name) !== null && _k !== void 0 ? _k : kernel.name);\n    }\n    /**\n     * A sensible status to display\n     *\n     * #### Notes\n     * This combines the status and connection status into a single status for\n     * the user.\n     */\n    get kernelDisplayStatus() {\n        var _a, _b;\n        const kernel = (_a = this.session) === null || _a === void 0 ? void 0 : _a.kernel;\n        if (this._isTerminating) {\n            return 'terminating';\n        }\n        if (this._isRestarting) {\n            return 'restarting';\n        }\n        if (this._pendingKernelName === this._trans.__('No Kernel')) {\n            return 'idle';\n        }\n        if (!kernel && this._pendingKernelName) {\n            return 'initializing';\n        }\n        if (!kernel &&\n            !this.isReady &&\n            this.kernelPreference.canStart !== false &&\n            this.kernelPreference.shouldStart !== false) {\n            return 'initializing';\n        }\n        return ((_b = ((kernel === null || kernel === void 0 ? void 0 : kernel.connectionStatus) === 'connected'\n            ? kernel === null || kernel === void 0 ? void 0 : kernel.status : kernel === null || kernel === void 0 ? void 0 : kernel.connectionStatus)) !== null && _b !== void 0 ? _b : 'unknown');\n    }\n    /**\n     * The name of the previously started kernel.\n     */\n    get prevKernelName() {\n        return this._prevKernelName;\n    }\n    /**\n     * Test whether the context is disposed.\n     */\n    get isDisposed() {\n        return this._isDisposed;\n    }\n    /**\n     * A signal emitted when the poll is disposed.\n     */\n    get disposed() {\n        return this._disposed;\n    }\n    /**\n     * Dispose of the resources held by the context.\n     */\n    dispose() {\n        if (this._isDisposed) {\n            return;\n        }\n        this._isDisposed = true;\n        this._disposed.emit();\n        if (this._session) {\n            if (this.kernelPreference.shutdownOnDispose) {\n                // Fire and forget the session shutdown request\n                this.sessionManager.shutdown(this._session.id).catch(reason => {\n                    console.error(`Kernel not shut down ${reason}`);\n                });\n            }\n            // Dispose the session connection\n            this._session.dispose();\n            this._session = null;\n        }\n        if (this._dialog) {\n            this._dialog.dispose();\n        }\n        if (this._busyDisposable) {\n            this._busyDisposable.dispose();\n            this._busyDisposable = null;\n        }\n        Signal.clearData(this);\n    }\n    /**\n     * Restart the current Kernel.\n     *\n     * @returns A promise that resolves when the kernel is restarted.\n     */\n    async restartKernel() {\n        var _a, _b, _c, _d, _e, _f;\n        const kernel = ((_a = this.session) === null || _a === void 0 ? void 0 : _a.kernel) || null;\n        this._isRestarting = true;\n        this._isReady = false;\n        this._statusChanged.emit('restarting');\n        await ((_c = (_b = this.session) === null || _b === void 0 ? void 0 : _b.kernel) === null || _c === void 0 ? void 0 : _c.restart());\n        this._isRestarting = false;\n        this._isReady = true;\n        this._statusChanged.emit(((_e = (_d = this.session) === null || _d === void 0 ? void 0 : _d.kernel) === null || _e === void 0 ? void 0 : _e.status) || 'unknown');\n        this._kernelChanged.emit({\n            name: 'kernel',\n            oldValue: kernel,\n            newValue: ((_f = this.session) === null || _f === void 0 ? void 0 : _f.kernel) || null\n        });\n    }\n    /**\n     * Change the current kernel associated with the session.\n     */\n    async changeKernel(options = {}) {\n        if (this.isDisposed) {\n            throw new Error('Disposed');\n        }\n        // Wait for the initialization method to try\n        // and start its kernel first to ensure consistent\n        // ordering.\n        await this._initStarted.promise;\n        return this._changeKernel(options);\n    }\n    /**\n     * Kill the kernel and shutdown the session.\n     *\n     * @returns A promise that resolves when the session is shut down.\n     */\n    async shutdown() {\n        if (this.isDisposed || !this._initializing) {\n            return;\n        }\n        await this._initStarted.promise;\n        this._pendingSessionRequest = '';\n        this._pendingKernelName = this._trans.__('No Kernel');\n        return this._shutdownSession();\n    }\n    /**\n     * Initialize the session context\n     *\n     * @returns A promise that resolves with whether to ask the user to select a kernel.\n     *\n     * #### Notes\n     * If a server session exists on the current path, we will connect to it.\n     * If preferences include disabling `canStart` or `shouldStart`, no\n     * server session will be started.\n     * If a kernel id is given, we attempt to start a session with that id.\n     * If a default kernel is available, we connect to it.\n     * Otherwise we ask the user to select a kernel.\n     */\n    async initialize() {\n        if (this._initializing) {\n            return this._initPromise.promise;\n        }\n        this._initializing = true;\n        const needsSelection = await this._initialize();\n        if (!needsSelection) {\n            this._isReady = true;\n            this._ready.resolve(undefined);\n        }\n        if (!this._pendingSessionRequest) {\n            this._initStarted.resolve(void 0);\n        }\n        this._initPromise.resolve(needsSelection);\n        return needsSelection;\n    }\n    /**\n     * Inner initialize function that doesn't handle promises.\n     * This makes it easier to consolidate promise handling logic.\n     */\n    async _initialize() {\n        const manager = this.sessionManager;\n        await manager.ready;\n        await manager.refreshRunning();\n        const model = find(manager.running(), item => {\n            return item.path === this._path;\n        });\n        if (model) {\n            try {\n                const session = manager.connectTo({ model });\n                this._handleNewSession(session);\n            }\n            catch (err) {\n                void this._handleSessionError(err);\n                return Promise.reject(err);\n            }\n        }\n        return await this._startIfNecessary();\n    }\n    /**\n     * Shut down the current session.\n     */\n    async _shutdownSession() {\n        const session = this._session;\n        this._isTerminating = true;\n        this._isReady = false;\n        this._statusChanged.emit('terminating');\n        await (session === null || session === void 0 ? void 0 : session.shutdown());\n        this._isTerminating = false;\n        session === null || session === void 0 ? void 0 : session.dispose();\n        this._session = null;\n        const kernel = (session === null || session === void 0 ? void 0 : session.kernel) || null;\n        this._statusChanged.emit('unknown');\n        this._kernelChanged.emit({\n            name: 'kernel',\n            oldValue: kernel,\n            newValue: null\n        });\n        this._sessionChanged.emit({\n            name: 'session',\n            oldValue: session,\n            newValue: null\n        });\n    }\n    /**\n     * Start the session if necessary.\n     *\n     * @returns Whether to ask the user to pick a kernel.\n     */\n    async _startIfNecessary() {\n        var _a;\n        const preference = this.kernelPreference;\n        if (this.isDisposed || ((_a = this.session) === null || _a === void 0 ? void 0 : _a.kernel) ||\n            preference.shouldStart === false ||\n            preference.canStart === false) {\n            // Not necessary to start a kernel\n            return false;\n        }\n        let options;\n        if (preference.id) {\n            options = { id: preference.id };\n        }\n        else {\n            const name = SessionContext.getDefaultKernel({\n                specs: this.specsManager.specs,\n                sessions: this.sessionManager.running(),\n                preference\n            });\n            if (name) {\n                options = { name };\n            }\n        }\n        if (options) {\n            try {\n                await this._changeKernel(options);\n                return false;\n            }\n            catch (err) {\n                /* no-op */\n            }\n        }\n        // Always fall back to selecting a kernel\n        return true;\n    }\n    /**\n     * Change the kernel.\n     */\n    async _changeKernel(model = {}, isInit = false) {\n        if (model.name) {\n            this._pendingKernelName = model.name;\n        }\n        if (this._session && !this._isTerminating) {\n            await this._shutdownSession();\n        }\n        else if (!this._session) {\n            this._kernelChanged.emit({\n                name: 'kernel',\n                oldValue: null,\n                newValue: null\n            });\n        }\n        // Guarantee that the initialized kernel\n        // will be started first.\n        if (!this._pendingSessionRequest) {\n            this._initStarted.resolve(void 0);\n        }\n        // Use a UUID for the path to overcome a race condition on the server\n        // where it will re-use a session for a given path but only after\n        // the kernel finishes starting.\n        // We later switch to the real path below.\n        // Use the correct directory so the kernel will be started in that directory.\n        const dirName = PathExt.dirname(this._path);\n        const requestId = (this._pendingSessionRequest = PathExt.join(dirName, UUID.uuid4()));\n        try {\n            this._statusChanged.emit('starting');\n            const session = await this.sessionManager.startNew({\n                path: requestId,\n                type: this._type,\n                name: this._name,\n                kernel: model\n            });\n            // Handle a preempt.\n            if (this._pendingSessionRequest !== session.path) {\n                await session.shutdown();\n                session.dispose();\n                return null;\n            }\n            // Change to the real path.\n            await session.setPath(this._path);\n            // Update the name in case it has changed since we launched the session.\n            await session.setName(this._name);\n            if (this._session && !this._isTerminating) {\n                await this._shutdownSession();\n            }\n            return this._handleNewSession(session);\n        }\n        catch (err) {\n            void this._handleSessionError(err);\n            throw err;\n        }\n    }\n    /**\n     * Handle a new session object.\n     */\n    _handleNewSession(session) {\n        var _a, _b, _c;\n        if (this.isDisposed) {\n            throw Error('Disposed');\n        }\n        if (!this._isReady) {\n            this._isReady = true;\n            this._ready.resolve(undefined);\n        }\n        if (this._session) {\n            this._session.dispose();\n        }\n        this._session = session;\n        this._pendingKernelName = '';\n        if (session) {\n            this._prevKernelName = (_b = (_a = session.kernel) === null || _a === void 0 ? void 0 : _a.name) !== null && _b !== void 0 ? _b : '';\n            session.disposed.connect(this._onSessionDisposed, this);\n            session.propertyChanged.connect(this._onPropertyChanged, this);\n            session.kernelChanged.connect(this._onKernelChanged, this);\n            session.statusChanged.connect(this._onStatusChanged, this);\n            session.connectionStatusChanged.connect(this._onConnectionStatusChanged, this);\n            session.iopubMessage.connect(this._onIopubMessage, this);\n            session.unhandledMessage.connect(this._onUnhandledMessage, this);\n            if (session.path !== this._path) {\n                this._onPropertyChanged(session, 'path');\n            }\n            if (session.name !== this._name) {\n                this._onPropertyChanged(session, 'name');\n            }\n            if (session.type !== this._type) {\n                this._onPropertyChanged(session, 'type');\n            }\n        }\n        // Any existing session/kernel connection was disposed above when the session was\n        // disposed, so the oldValue should be null.\n        this._sessionChanged.emit({\n            name: 'session',\n            oldValue: null,\n            newValue: session\n        });\n        this._kernelChanged.emit({\n            oldValue: null,\n            newValue: (session === null || session === void 0 ? void 0 : session.kernel) || null,\n            name: 'kernel'\n        });\n        this._statusChanged.emit(((_c = session === null || session === void 0 ? void 0 : session.kernel) === null || _c === void 0 ? void 0 : _c.status) || 'unknown');\n        return (session === null || session === void 0 ? void 0 : session.kernel) || null;\n    }\n    /**\n     * Handle an error in session startup.\n     */\n    async _handleSessionError(err) {\n        this._handleNewSession(null);\n        let traceback = '';\n        let message = '';\n        try {\n            traceback = err.traceback;\n            message = err.message;\n        }\n        catch (err) {\n            // no-op\n        }\n        const body = (React.createElement(\"div\", null,\n            React.createElement(\"pre\", null, err.message),\n            message && React.createElement(\"pre\", null, message),\n            traceback && (React.createElement(\"details\", { className: \"jp-mod-wide\" },\n                React.createElement(\"pre\", null, traceback)))));\n        const dialog = (this._dialog = new Dialog({\n            title: this._trans.__('Error Starting Kernel'),\n            body,\n            buttons: [Dialog.okButton()]\n        }));\n        await dialog.launch();\n        this._dialog = null;\n    }\n    /**\n     * Handle a session termination.\n     */\n    _onSessionDisposed() {\n        if (this._session) {\n            const oldValue = this._session;\n            this._session = null;\n            const newValue = this._session;\n            this._sessionChanged.emit({ name: 'session', oldValue, newValue });\n        }\n    }\n    /**\n     * Handle a change to a session property.\n     */\n    _onPropertyChanged(sender, property) {\n        switch (property) {\n            case 'path':\n                this._path = sender.path;\n                break;\n            case 'name':\n                this._name = sender.name;\n                break;\n            case 'type':\n                this._type = sender.type;\n                break;\n            default:\n                throw new Error(`unrecognized property ${property}`);\n        }\n        this._propertyChanged.emit(property);\n    }\n    /**\n     * Handle a change to the kernel.\n     */\n    _onKernelChanged(sender, args) {\n        this._kernelChanged.emit(args);\n    }\n    /**\n     * Handle a change to the session status.\n     */\n    _onStatusChanged(sender, status) {\n        // Set that this kernel is busy, if we haven't already\n        // If we have already, and now we aren't busy, dispose\n        // of the busy disposable.\n        if (this._setBusy) {\n            if (status === 'busy') {\n                if (!this._busyDisposable) {\n                    this._busyDisposable = this._setBusy();\n                }\n            }\n            else {\n                if (this._busyDisposable) {\n                    this._busyDisposable.dispose();\n                    this._busyDisposable = null;\n                }\n            }\n        }\n        // Proxy the signal\n        this._statusChanged.emit(status);\n    }\n    /**\n     * Handle a change to the session status.\n     */\n    _onConnectionStatusChanged(sender, status) {\n        // Proxy the signal\n        this._connectionStatusChanged.emit(status);\n    }\n    /**\n     * Handle an iopub message.\n     */\n    _onIopubMessage(sender, message) {\n        this._iopubMessage.emit(message);\n    }\n    /**\n     * Handle an unhandled message.\n     */\n    _onUnhandledMessage(sender, message) {\n        this._unhandledMessage.emit(message);\n    }\n}\n/**\n * A namespace for `SessionContext` statics.\n */\n(function (SessionContext) {\n    /**\n     * Get the default kernel name given select options.\n     */\n    function getDefaultKernel(options) {\n        return Private.getDefaultKernel(options);\n    }\n    SessionContext.getDefaultKernel = getDefaultKernel;\n})(SessionContext || (SessionContext = {}));\n/**\n * The default implementation of the client sesison dialog provider.\n */\nexport const sessionContextDialogs = {\n    /**\n     * Select a kernel for the session.\n     */\n    async selectKernel(sessionContext, translator) {\n        if (sessionContext.isDisposed) {\n            return Promise.resolve();\n        }\n        translator = translator || nullTranslator;\n        const trans = translator.load('jupyterlab');\n        // If there is no existing kernel, offer the option\n        // to keep no kernel.\n        let label = trans.__('Cancel');\n        if (sessionContext.kernelDisplayName === trans.__('No Kernel')) {\n            label = trans.__('No Kernel');\n        }\n        const buttons = [\n            Dialog.cancelButton({ label }),\n            Dialog.okButton({ label: trans.__('Select') })\n        ];\n        const dialog = new Dialog({\n            title: trans.__('Select Kernel'),\n            body: new Private.KernelSelector(sessionContext),\n            buttons\n        });\n        const result = await dialog.launch();\n        if (sessionContext.isDisposed || !result.button.accept) {\n            return;\n        }\n        const model = result.value;\n        if (model === null &&\n            sessionContext.kernelDisplayName !== trans.__('No Kernel')) {\n            return sessionContext.shutdown();\n        }\n        if (model) {\n            await sessionContext.changeKernel(model);\n        }\n    },\n    /**\n     * Restart the session.\n     *\n     * @returns A promise that resolves with whether the kernel has restarted.\n     *\n     * #### Notes\n     * If there is a running kernel, present a dialog.\n     * If there is no kernel, we start a kernel with the last run\n     * kernel name and resolves with `true`.\n     */\n    async restart(sessionContext, translator) {\n        var _a;\n        translator = translator || nullTranslator;\n        const trans = translator.load('jupyterlab');\n        await sessionContext.initialize();\n        if (sessionContext.isDisposed) {\n            throw new Error('session already disposed');\n        }\n        const kernel = (_a = sessionContext.session) === null || _a === void 0 ? void 0 : _a.kernel;\n        if (!kernel && sessionContext.prevKernelName) {\n            await sessionContext.changeKernel({\n                name: sessionContext.prevKernelName\n            });\n            return true;\n        }\n        // Bail if there is no previous kernel to start.\n        if (!kernel) {\n            throw new Error('No kernel to restart');\n        }\n        const restartBtn = Dialog.warnButton({ label: 'Restart' });\n        const result = await showDialog({\n            title: trans.__('Restart Kernel?'),\n            body: trans.__('Do you want to restart the current kernel? All variables will be lost.'),\n            buttons: [Dialog.cancelButton(), restartBtn]\n        });\n        if (kernel.isDisposed) {\n            return false;\n        }\n        if (result.button.accept) {\n            await sessionContext.restartKernel();\n            return true;\n        }\n        return false;\n    }\n};\n/**\n * The namespace for module private data.\n */\nvar Private;\n(function (Private) {\n    /**\n     * A widget that provides a kernel selection.\n     */\n    class KernelSelector extends Widget {\n        /**\n         * Create a new kernel selector widget.\n         */\n        constructor(sessionContext) {\n            super({ node: createSelectorNode(sessionContext) });\n        }\n        /**\n         * Get the value of the kernel selector widget.\n         */\n        getValue() {\n            const selector = this.node.querySelector('select');\n            return JSON.parse(selector.value);\n        }\n    }\n    Private.KernelSelector = KernelSelector;\n    /**\n     * Create a node for a kernel selector widget.\n     */\n    function createSelectorNode(sessionContext, translator) {\n        // Create the dialog body.\n        translator = translator || nullTranslator;\n        const trans = translator.load('jupyterlab');\n        const body = document.createElement('div');\n        const text = document.createElement('label');\n        text.textContent = `${trans.__('Select kernel for:')} \"${sessionContext.name}\"`;\n        body.appendChild(text);\n        const options = getKernelSearch(sessionContext);\n        const selector = document.createElement('select');\n        populateKernelSelect(selector, options, translator);\n        body.appendChild(selector);\n        return body;\n    }\n    /**\n     * Get the default kernel name given select options.\n     */\n    function getDefaultKernel(options) {\n        var _a;\n        const { specs, preference } = options;\n        const { name, language, shouldStart, canStart, autoStartDefault } = preference;\n        if (!specs || shouldStart === false || canStart === false) {\n            return null;\n        }\n        const defaultName = autoStartDefault ? specs.default : null;\n        if (!name && !language) {\n            return defaultName;\n        }\n        // Look for an exact match of a spec name.\n        for (const specName in specs.kernelspecs) {\n            if (specName === name) {\n                return name;\n            }\n        }\n        // Bail if there is no language.\n        if (!language) {\n            return defaultName;\n        }\n        // Check for a single kernel matching the language.\n        const matches = [];\n        for (const specName in specs.kernelspecs) {\n            const kernelLanguage = (_a = specs.kernelspecs[specName]) === null || _a === void 0 ? void 0 : _a.language;\n            if (language === kernelLanguage) {\n                matches.push(specName);\n            }\n        }\n        if (matches.length === 1) {\n            const specName = matches[0];\n            console.warn('No exact match found for ' +\n                specName +\n                ', using kernel ' +\n                specName +\n                ' that matches ' +\n                'language=' +\n                language);\n            return specName;\n        }\n        // No matches found.\n        return defaultName;\n    }\n    Private.getDefaultKernel = getDefaultKernel;\n    /**\n     * Populate a kernel select node for the session.\n     */\n    function populateKernelSelect(node, options, translator) {\n        while (node.firstChild) {\n            node.removeChild(node.firstChild);\n        }\n        const { preference, sessions, specs } = options;\n        const { name, id, language, canStart, shouldStart } = preference;\n        translator = translator || nullTranslator;\n        const trans = translator.load('jupyterlab');\n        if (!specs || canStart === false) {\n            node.appendChild(optionForNone(translator));\n            node.value = 'null';\n            node.disabled = true;\n            return;\n        }\n        node.disabled = false;\n        // Create mappings of display names and languages for kernel name.\n        const displayNames = Object.create(null);\n        const languages = Object.create(null);\n        for (const name in specs.kernelspecs) {\n            const spec = specs.kernelspecs[name];\n            displayNames[name] = spec.display_name;\n            languages[name] = spec.language;\n        }\n        // Handle a kernel by name.\n        const names = [];\n        if (name && name in specs.kernelspecs) {\n            names.push(name);\n        }\n        // Then look by language.\n        if (language) {\n            for (const specName in specs.kernelspecs) {\n                if (name !== specName && languages[specName] === language) {\n                    names.push(specName);\n                }\n            }\n        }\n        // Use the default kernel if no kernels were found.\n        if (!names.length) {\n            names.push(specs.default);\n        }\n        // Handle a preferred kernels in order of display name.\n        const preferred = document.createElement('optgroup');\n        preferred.label = trans.__('Start Preferred Kernel');\n        names.sort((a, b) => displayNames[a].localeCompare(displayNames[b]));\n        for (const name of names) {\n            preferred.appendChild(optionForName(name, displayNames[name]));\n        }\n        if (preferred.firstChild) {\n            node.appendChild(preferred);\n        }\n        // Add an option for no kernel\n        node.appendChild(optionForNone());\n        const other = document.createElement('optgroup');\n        other.label = trans.__('Start Other Kernel');\n        // Add the rest of the kernel names in alphabetical order.\n        const otherNames = [];\n        for (const specName in specs.kernelspecs) {\n            if (names.indexOf(specName) !== -1) {\n                continue;\n            }\n            otherNames.push(specName);\n        }\n        otherNames.sort((a, b) => displayNames[a].localeCompare(displayNames[b]));\n        for (const otherName of otherNames) {\n            other.appendChild(optionForName(otherName, displayNames[otherName]));\n        }\n        // Add a separator option if there were any other names.\n        if (otherNames.length) {\n            node.appendChild(other);\n        }\n        // Handle the default value.\n        if (shouldStart === false) {\n            node.value = 'null';\n        }\n        else {\n            node.selectedIndex = 0;\n        }\n        // Bail if there are no sessions.\n        if (!sessions) {\n            return;\n        }\n        // Add the sessions using the preferred language first.\n        const matchingSessions = [];\n        const otherSessions = [];\n        each(sessions, session => {\n            var _a;\n            if (language &&\n                session.kernel &&\n                languages[session.kernel.name] === language &&\n                session.kernel.id !== id) {\n                matchingSessions.push(session);\n            }\n            else if (((_a = session.kernel) === null || _a === void 0 ? void 0 : _a.id) !== id) {\n                otherSessions.push(session);\n            }\n        });\n        const matching = document.createElement('optgroup');\n        matching.label = trans.__('Use Kernel from Preferred Session');\n        node.appendChild(matching);\n        if (matchingSessions.length) {\n            matchingSessions.sort((a, b) => {\n                return a.path.localeCompare(b.path);\n            });\n            each(matchingSessions, session => {\n                const name = session.kernel ? displayNames[session.kernel.name] : '';\n                matching.appendChild(optionForSession(session, name, translator));\n            });\n        }\n        const otherSessionsNode = document.createElement('optgroup');\n        otherSessionsNode.label = trans.__('Use Kernel from Other Session');\n        node.appendChild(otherSessionsNode);\n        if (otherSessions.length) {\n            otherSessions.sort((a, b) => {\n                return a.path.localeCompare(b.path);\n            });\n            each(otherSessions, session => {\n                const name = session.kernel\n                    ? displayNames[session.kernel.name] || session.kernel.name\n                    : '';\n                otherSessionsNode.appendChild(optionForSession(session, name, translator));\n            });\n        }\n    }\n    Private.populateKernelSelect = populateKernelSelect;\n    /**\n     * Get the kernel search options given a session context and session manager.\n     */\n    function getKernelSearch(sessionContext) {\n        return {\n            specs: sessionContext.specsManager.specs,\n            sessions: sessionContext.sessionManager.running(),\n            preference: sessionContext.kernelPreference\n        };\n    }\n    /**\n     * Create an option element for a kernel name.\n     */\n    function optionForName(name, displayName) {\n        const option = document.createElement('option');\n        option.text = displayName;\n        option.value = JSON.stringify({ name });\n        return option;\n    }\n    /**\n     * Create an option for no kernel.\n     */\n    function optionForNone(translator) {\n        translator = translator || nullTranslator;\n        const trans = translator.load('jupyterlab');\n        const group = document.createElement('optgroup');\n        group.label = 'Use No Kernel';\n        const option = document.createElement('option');\n        option.text = trans.__('No Kernel');\n        option.value = 'null';\n        group.appendChild(option);\n        return group;\n    }\n    /**\n     * Create an option element for a session.\n     */\n    function optionForSession(session, displayName, translator) {\n        var _a, _b;\n        translator = translator || nullTranslator;\n        const trans = translator.load('jupyterlab');\n        const option = document.createElement('option');\n        const sessionName = session.name || PathExt.basename(session.path);\n        option.text = sessionName;\n        option.value = JSON.stringify({ id: (_a = session.kernel) === null || _a === void 0 ? void 0 : _a.id });\n        option.title =\n            `${trans.__('Path:')} ${session.path}\\n` +\n                `${trans.__('Name:')} ${sessionName}\\n` +\n                `${trans.__('Kernel Name:')} ${displayName}\\n` +\n                `${trans.__('Kernel Id:')} ${(_b = session.kernel) === null || _b === void 0 ? void 0 : _b.id}`;\n        return option;\n    }\n})(Private || (Private = {}));\n//# sourceMappingURL=sessioncontext.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { Text } from '@jupyterlab/coreutils';\nimport { Button, circleEmptyIcon, circleIcon, classes, LabIcon, offlineBoltIcon, refreshIcon, stopIcon } from '@jupyterlab/ui-components';\nimport { find, map, some } from '@lumino/algorithm';\nimport { MessageLoop } from '@lumino/messaging';\nimport { AttachedProperty } from '@lumino/properties';\nimport { PanelLayout, Widget } from '@lumino/widgets';\nimport * as React from 'react';\nimport { sessionContextDialogs } from './sessioncontext';\nimport { UseSignal, ReactWidget } from './vdom';\nimport { nullTranslator } from '@jupyterlab/translation';\n/**\n * The class name added to toolbars.\n */\nconst TOOLBAR_CLASS = 'jp-Toolbar';\n/**\n * The class name added to toolbar items.\n */\nconst TOOLBAR_ITEM_CLASS = 'jp-Toolbar-item';\n/**\n * The class name added to toolbar kernel name text.\n */\nconst TOOLBAR_KERNEL_NAME_CLASS = 'jp-Toolbar-kernelName';\n/**\n * The class name added to toolbar spacer.\n */\nconst TOOLBAR_SPACER_CLASS = 'jp-Toolbar-spacer';\n/**\n * The class name added to toolbar kernel status icon.\n */\nconst TOOLBAR_KERNEL_STATUS_CLASS = 'jp-Toolbar-kernelStatus';\n/**\n * A layout for toolbars.\n *\n * #### Notes\n * This layout automatically collapses its height if there are no visible\n * toolbar widgets, and expands to the standard toolbar height if there are\n * visible toolbar widgets.\n */\nclass ToolbarLayout extends PanelLayout {\n    constructor() {\n        super(...arguments);\n        this._dirty = false;\n    }\n    /**\n     * A message handler invoked on a `'fit-request'` message.\n     *\n     * If any child widget is visible, expand the toolbar height to the normal\n     * toolbar height.\n     */\n    onFitRequest(msg) {\n        super.onFitRequest(msg);\n        if (this.parent.isAttached) {\n            // If there are any widgets not explicitly hidden, expand the toolbar to\n            // accommodate them.\n            if (some(this.widgets, w => !w.isHidden)) {\n                this.parent.node.style.minHeight = 'var(--jp-private-toolbar-height)';\n                this.parent.removeClass('jp-Toolbar-micro');\n            }\n            else {\n                this.parent.node.style.minHeight = '';\n                this.parent.addClass('jp-Toolbar-micro');\n            }\n        }\n        // Set the dirty flag to ensure only a single update occurs.\n        this._dirty = true;\n        // Notify the ancestor that it should fit immediately. This may\n        // cause a resize of the parent, fulfilling the required update.\n        if (this.parent.parent) {\n            MessageLoop.sendMessage(this.parent.parent, Widget.Msg.FitRequest);\n        }\n        // If the dirty flag is still set, the parent was not resized.\n        // Trigger the required update on the parent widget immediately.\n        if (this._dirty) {\n            MessageLoop.sendMessage(this.parent, Widget.Msg.UpdateRequest);\n        }\n    }\n    /**\n     * A message handler invoked on an `'update-request'` message.\n     */\n    onUpdateRequest(msg) {\n        super.onUpdateRequest(msg);\n        if (this.parent.isVisible) {\n            this._dirty = false;\n        }\n    }\n    /**\n     * A message handler invoked on a `'child-shown'` message.\n     */\n    onChildShown(msg) {\n        super.onChildShown(msg);\n        // Post a fit request for the parent widget.\n        this.parent.fit();\n    }\n    /**\n     * A message handler invoked on a `'child-hidden'` message.\n     */\n    onChildHidden(msg) {\n        super.onChildHidden(msg);\n        // Post a fit request for the parent widget.\n        this.parent.fit();\n    }\n    /**\n     * A message handler invoked on a `'before-attach'` message.\n     */\n    onBeforeAttach(msg) {\n        super.onBeforeAttach(msg);\n        // Post a fit request for the parent widget.\n        this.parent.fit();\n    }\n    /**\n     * Attach a widget to the parent's DOM node.\n     *\n     * @param index - The current index of the widget in the layout.\n     *\n     * @param widget - The widget to attach to the parent.\n     *\n     * #### Notes\n     * This is a reimplementation of the superclass method.\n     */\n    attachWidget(index, widget) {\n        super.attachWidget(index, widget);\n        // Post a fit request for the parent widget.\n        this.parent.fit();\n    }\n    /**\n     * Detach a widget from the parent's DOM node.\n     *\n     * @param index - The previous index of the widget in the layout.\n     *\n     * @param widget - The widget to detach from the parent.\n     *\n     * #### Notes\n     * This is a reimplementation of the superclass method.\n     */\n    detachWidget(index, widget) {\n        super.detachWidget(index, widget);\n        // Post a fit request for the parent widget.\n        this.parent.fit();\n    }\n}\n/**\n * A class which provides a toolbar widget.\n */\nexport class Toolbar extends Widget {\n    /**\n     * Construct a new toolbar widget.\n     */\n    constructor() {\n        super();\n        this.addClass(TOOLBAR_CLASS);\n        this.addClass('jp-scrollbar-tiny');\n        this.layout = new ToolbarLayout();\n    }\n    /**\n     * Get an iterator over the ordered toolbar item names.\n     *\n     * @returns An iterator over the toolbar item names.\n     */\n    names() {\n        const layout = this.layout;\n        return map(layout.widgets, widget => {\n            return Private.nameProperty.get(widget);\n        });\n    }\n    /**\n     * Add an item to the end of the toolbar.\n     *\n     * @param name - The name of the widget to add to the toolbar.\n     *\n     * @param widget - The widget to add to the toolbar.\n     *\n     * @param index - The optional name of the item to insert after.\n     *\n     * @returns Whether the item was added to toolbar.  Returns false if\n     *   an item of the same name is already in the toolbar.\n     *\n     * #### Notes\n     * The item can be removed from the toolbar by setting its parent to `null`.\n     */\n    addItem(name, widget) {\n        const layout = this.layout;\n        return this.insertItem(layout.widgets.length, name, widget);\n    }\n    /**\n     * Insert an item into the toolbar at the specified index.\n     *\n     * @param index - The index at which to insert the item.\n     *\n     * @param name - The name of the item.\n     *\n     * @param widget - The widget to add.\n     *\n     * @returns Whether the item was added to the toolbar. Returns false if\n     *   an item of the same name is already in the toolbar.\n     *\n     * #### Notes\n     * The index will be clamped to the bounds of the items.\n     * The item can be removed from the toolbar by setting its parent to `null`.\n     */\n    insertItem(index, name, widget) {\n        const existing = find(this.names(), value => value === name);\n        if (existing) {\n            return false;\n        }\n        widget.addClass(TOOLBAR_ITEM_CLASS);\n        const layout = this.layout;\n        layout.insertWidget(index, widget);\n        Private.nameProperty.set(widget, name);\n        return true;\n    }\n    /**\n     * Insert an item into the toolbar at the after a target item.\n     *\n     * @param at - The target item to insert after.\n     *\n     * @param name - The name of the item.\n     *\n     * @param widget - The widget to add.\n     *\n     * @returns Whether the item was added to the toolbar. Returns false if\n     *   an item of the same name is already in the toolbar.\n     *\n     * #### Notes\n     * The index will be clamped to the bounds of the items.\n     * The item can be removed from the toolbar by setting its parent to `null`.\n     */\n    insertAfter(at, name, widget) {\n        return this._insertRelative(at, 1, name, widget);\n    }\n    /**\n     * Insert an item into the toolbar at the before a target item.\n     *\n     * @param at - The target item to insert before.\n     *\n     * @param name - The name of the item.\n     *\n     * @param widget - The widget to add.\n     *\n     * @returns Whether the item was added to the toolbar. Returns false if\n     *   an item of the same name is already in the toolbar.\n     *\n     * #### Notes\n     * The index will be clamped to the bounds of the items.\n     * The item can be removed from the toolbar by setting its parent to `null`.\n     */\n    insertBefore(at, name, widget) {\n        return this._insertRelative(at, 0, name, widget);\n    }\n    _insertRelative(at, offset, name, widget) {\n        const nameWithIndex = map(this.names(), (name, i) => {\n            return { name: name, index: i };\n        });\n        const target = find(nameWithIndex, x => x.name === at);\n        if (target) {\n            return this.insertItem(target.index + offset, name, widget);\n        }\n        return false;\n    }\n    /**\n     * Handle the DOM events for the widget.\n     *\n     * @param event - The DOM event sent to the widget.\n     *\n     * #### Notes\n     * This method implements the DOM `EventListener` interface and is\n     * called in response to events on the dock panel's node. It should\n     * not be called directly by user code.\n     */\n    handleEvent(event) {\n        switch (event.type) {\n            case 'click':\n                this.handleClick(event);\n                break;\n            default:\n                break;\n        }\n    }\n    /**\n     * Handle a DOM click event.\n     */\n    handleClick(event) {\n        // Clicking a label focuses the corresponding control\n        // that is linked with `for` attribute, so let it be.\n        if (event.target instanceof HTMLLabelElement) {\n            const forId = event.target.getAttribute('for');\n            if (forId && this.node.querySelector(`#${forId}`)) {\n                return;\n            }\n        }\n        // If this click already focused a control, let it be.\n        if (this.node.contains(document.activeElement)) {\n            return;\n        }\n        // Otherwise, activate the parent widget, which may take focus if desired.\n        if (this.parent) {\n            this.parent.activate();\n        }\n    }\n    /**\n     * Handle `after-attach` messages for the widget.\n     */\n    onAfterAttach(msg) {\n        this.node.addEventListener('click', this);\n    }\n    /**\n     * Handle `before-detach` messages for the widget.\n     */\n    onBeforeDetach(msg) {\n        this.node.removeEventListener('click', this);\n    }\n}\n/**\n * The namespace for Toolbar class statics.\n */\n(function (Toolbar) {\n    /**\n     * Create an interrupt toolbar item.\n     */\n    function createInterruptButton(sessionContext, translator) {\n        translator = translator || nullTranslator;\n        const trans = translator.load('jupyterlab');\n        return new ToolbarButton({\n            icon: stopIcon,\n            onClick: () => {\n                var _a, _b;\n                void ((_b = (_a = sessionContext.session) === null || _a === void 0 ? void 0 : _a.kernel) === null || _b === void 0 ? void 0 : _b.interrupt());\n            },\n            tooltip: trans.__('Interrupt the kernel')\n        });\n    }\n    Toolbar.createInterruptButton = createInterruptButton;\n    /**\n     * Create a restart toolbar item.\n     */\n    function createRestartButton(sessionContext, dialogs, translator) {\n        translator = translator || nullTranslator;\n        const trans = translator.load('jupyterlab');\n        return new ToolbarButton({\n            icon: refreshIcon,\n            onClick: () => {\n                void (dialogs !== null && dialogs !== void 0 ? dialogs : sessionContextDialogs).restart(sessionContext, translator);\n            },\n            tooltip: trans.__('Restart the kernel')\n        });\n    }\n    Toolbar.createRestartButton = createRestartButton;\n    /**\n     * Create a toolbar spacer item.\n     *\n     * #### Notes\n     * It is a flex spacer that separates the left toolbar items\n     * from the right toolbar items.\n     */\n    function createSpacerItem() {\n        return new Private.Spacer();\n    }\n    Toolbar.createSpacerItem = createSpacerItem;\n    /**\n     * Create a kernel name indicator item.\n     *\n     * #### Notes\n     * It will display the `'display_name`' of the session context. It can\n     * handle a change in context or kernel.\n     */\n    function createKernelNameItem(sessionContext, dialogs, translator) {\n        const el = ReactWidget.create(React.createElement(Private.KernelNameComponent, { sessionContext: sessionContext, dialogs: dialogs !== null && dialogs !== void 0 ? dialogs : sessionContextDialogs, translator: translator }));\n        el.addClass('jp-KernelName');\n        return el;\n    }\n    Toolbar.createKernelNameItem = createKernelNameItem;\n    /**\n     * Create a kernel status indicator item.\n     *\n     * #### Notes\n     * It will show a busy status if the kernel status is busy.\n     * It will show the current status in the node title.\n     * It can handle a change to the context or the kernel.\n     */\n    function createKernelStatusItem(sessionContext, translator) {\n        return new Private.KernelStatus(sessionContext, translator);\n    }\n    Toolbar.createKernelStatusItem = createKernelStatusItem;\n})(Toolbar || (Toolbar = {}));\n/**\n * React component for a toolbar button.\n *\n * @param props - The props for ToolbarButtonComponent.\n */\nexport function ToolbarButtonComponent(props) {\n    var _a, _b;\n    // In some browsers, a button click event moves the focus from the main\n    // content to the button (see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/button#Clicking_and_focus).\n    // We avoid a click event by calling preventDefault in mousedown, and\n    // we bind the button action to `mousedown`.\n    const handleMouseDown = (event) => {\n        var _a;\n        // Fire action only when left button is pressed.\n        if (event.button === 0) {\n            event.preventDefault();\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n    };\n    const handleKeyDown = (event) => {\n        var _a;\n        const { key } = event;\n        if (key === 'Enter' || key === ' ') {\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n    };\n    const handleClick = (event) => {\n        var _a;\n        if (event.button === 0) {\n            (_a = props.onClick) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n    };\n    return (React.createElement(Button, { className: props.className\n            ? props.className + ' jp-ToolbarButtonComponent'\n            : 'jp-ToolbarButtonComponent', disabled: props.enabled === false, onClick: ((_a = props.actualOnClick) !== null && _a !== void 0 ? _a : false) ? handleClick : undefined, onMouseDown: !((_b = props.actualOnClick) !== null && _b !== void 0 ? _b : false) ? handleMouseDown : undefined, onKeyDown: handleKeyDown, title: props.tooltip || props.iconLabel, minimal: true },\n        (props.icon || props.iconClass) && (React.createElement(LabIcon.resolveReact, { icon: props.icon, iconClass: \n            // add some extra classes for proper support of icons-as-css-backgorund\n            classes(props.iconClass, 'jp-Icon'), className: \"jp-ToolbarButtonComponent-icon\", tag: \"span\", stylesheet: \"toolbarButton\" })),\n        props.label && (React.createElement(\"span\", { className: \"jp-ToolbarButtonComponent-label\" }, props.label))));\n}\n/**\n * Adds the toolbar button class to the toolbar widget.\n * @param w Toolbar button widget.\n */\nexport function addToolbarButtonClass(w) {\n    w.addClass('jp-ToolbarButton');\n    return w;\n}\n/**\n * Phosphor Widget version of static ToolbarButtonComponent.\n */\nexport class ToolbarButton extends ReactWidget {\n    /**\n     * Creates a toolbar button\n     * @param props props for underlying `ToolbarButton` componenent\n     */\n    constructor(props = {}) {\n        super();\n        this.props = props;\n        addToolbarButtonClass(this);\n    }\n    render() {\n        return React.createElement(ToolbarButtonComponent, Object.assign({}, this.props));\n    }\n}\n/**\n * React component for a toolbar button that wraps a command.\n *\n * This wraps the ToolbarButtonComponent and watches the command registry\n * for changes to the command.\n */\nexport function CommandToolbarButtonComponent(props) {\n    return (React.createElement(UseSignal, { signal: props.commands.commandChanged, shouldUpdate: (sender, args) => (args.id === props.id && args.type === 'changed') ||\n            args.type === 'many-changed' }, () => React.createElement(ToolbarButtonComponent, Object.assign({}, Private.propsFromCommand(props)))));\n}\n/*\n * Adds the command toolbar button class to the command toolbar widget.\n * @param w Command toolbar button widget.\n */\nexport function addCommandToolbarButtonClass(w) {\n    w.addClass('jp-CommandToolbarButton');\n    return w;\n}\n/**\n * Phosphor Widget version of CommandToolbarButtonComponent.\n */\nexport class CommandToolbarButton extends ReactWidget {\n    /**\n     * Creates a command toolbar button\n     * @param props props for underlying `CommandToolbarButtonComponent` componenent\n     */\n    constructor(props) {\n        super();\n        this.props = props;\n        addCommandToolbarButtonClass(this);\n    }\n    render() {\n        return React.createElement(CommandToolbarButtonComponent, Object.assign({}, this.props));\n    }\n}\n/**\n * A namespace for private data.\n */\nvar Private;\n(function (Private) {\n    function propsFromCommand(options) {\n        const { commands, id, args } = options;\n        const iconClass = commands.iconClass(id, args);\n        const iconLabel = commands.iconLabel(id, args);\n        // DEPRECATED: remove _icon when lumino 2.0 is adopted\n        // if icon is aliasing iconClass, don't use it\n        const _icon = commands.icon(id, args);\n        const icon = _icon === iconClass ? undefined : _icon;\n        const label = commands.label(id, args);\n        let className = commands.className(id, args);\n        // Add the boolean state classes.\n        if (commands.isToggled(id, args)) {\n            className += ' lm-mod-toggled';\n        }\n        if (!commands.isVisible(id, args)) {\n            className += ' lm-mod-hidden';\n        }\n        const tooltip = commands.caption(id, args) || label || iconLabel;\n        const onClick = () => {\n            void commands.execute(id, args);\n        };\n        const enabled = commands.isEnabled(id, args);\n        return { className, icon, iconClass, tooltip, onClick, enabled, label };\n    }\n    Private.propsFromCommand = propsFromCommand;\n    /**\n     * An attached property for the name of a toolbar item.\n     */\n    Private.nameProperty = new AttachedProperty({\n        name: 'name',\n        create: () => ''\n    });\n    /**\n     * A no-op function.\n     */\n    function noOp() {\n        /* no-op */\n    }\n    Private.noOp = noOp;\n    /**\n     * A spacer widget.\n     */\n    class Spacer extends Widget {\n        /**\n         * Construct a new spacer widget.\n         */\n        constructor() {\n            super();\n            this.addClass(TOOLBAR_SPACER_CLASS);\n        }\n    }\n    Private.Spacer = Spacer;\n    /**\n     * React component for a kernel name button.\n     *\n     * This wraps the ToolbarButtonComponent and watches the kernel\n     * session for changes.\n     */\n    function KernelNameComponent(props) {\n        const translator = props.translator || nullTranslator;\n        const trans = translator.load('jupyterlab');\n        const callback = () => {\n            void props.dialogs.selectKernel(props.sessionContext, translator);\n        };\n        return (React.createElement(UseSignal, { signal: props.sessionContext.kernelChanged, initialSender: props.sessionContext }, sessionContext => (React.createElement(ToolbarButtonComponent, { className: TOOLBAR_KERNEL_NAME_CLASS, onClick: callback, tooltip: trans.__('Switch kernel'), label: sessionContext === null || sessionContext === void 0 ? void 0 : sessionContext.kernelDisplayName }))));\n    }\n    Private.KernelNameComponent = KernelNameComponent;\n    /**\n     * A toolbar item that displays kernel status.\n     */\n    class KernelStatus extends Widget {\n        /**\n         * Construct a new kernel status widget.\n         */\n        constructor(sessionContext, translator) {\n            super();\n            this.translator = translator || nullTranslator;\n            this._trans = this.translator.load('jupyterlab');\n            this.addClass(TOOLBAR_KERNEL_STATUS_CLASS);\n            this._onStatusChanged(sessionContext);\n            sessionContext.statusChanged.connect(this._onStatusChanged, this);\n            sessionContext.connectionStatusChanged.connect(this._onStatusChanged, this);\n        }\n        /**\n         * Handle a status on a kernel.\n         */\n        _onStatusChanged(sessionContext) {\n            if (this.isDisposed) {\n                return;\n            }\n            const status = sessionContext.kernelDisplayStatus;\n            const circleIconProps = {\n                container: this.node,\n                title: this._trans.__('Kernel %1', Text.titleCase(status)),\n                stylesheet: 'toolbarButton',\n                alignSelf: 'normal',\n                height: '24px'\n            };\n            // set the icon\n            LabIcon.remove(this.node);\n            if (status === 'busy' ||\n                status === 'starting' ||\n                status === 'terminating' ||\n                status === 'restarting' ||\n                status === 'initializing') {\n                circleIcon.element(circleIconProps);\n            }\n            else if (status === 'connecting' ||\n                status === 'disconnected' ||\n                status === 'unknown') {\n                offlineBoltIcon.element(circleIconProps);\n            }\n            else {\n                circleEmptyIcon.element(circleIconProps);\n            }\n        }\n    }\n    Private.KernelStatus = KernelStatus;\n})(Private || (Private = {}));\n//# sourceMappingURL=toolbar.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { ServerConnection } from '@jupyterlab/services';\n/**\n * Any object is \"printable\" if it implements the `IPrintable` interface.\n *\n * To do this it, it must have a method called `Printing.symbol` which returns either a function\n * to print the object or null if it cannot be printed.\n *\n * One way of printing is to use the `printWidget` function, which creates a hidden iframe\n * and copies the DOM nodes from your widget to that iframe and printing just that iframe.\n *\n * Another way to print is to use the `printURL` function, which takes a URL and prints that page.\n */\nexport var Printing;\n(function (Printing) {\n    /**\n     * Symbol to use for a method that returns a function to print an object.\n     */\n    Printing.symbol = Symbol('printable');\n    /**\n     * Returns whether an object implements a print method.\n     */\n    function isPrintable(a) {\n        if (typeof a !== 'object' || !a) {\n            return false;\n        }\n        return Printing.symbol in a;\n    }\n    Printing.isPrintable = isPrintable;\n    /**\n     * Returns the print function for an object, or null if it does not provide a handler.\n     */\n    function getPrintFunction(val) {\n        if (isPrintable(val)) {\n            return val[Printing.symbol]();\n        }\n        return null;\n    }\n    Printing.getPrintFunction = getPrintFunction;\n    /**\n     * Prints a widget by copying it's DOM node\n     * to a hidden iframe and printing that iframe.\n     */\n    function printWidget(widget) {\n        return printContent(widget.node);\n    }\n    Printing.printWidget = printWidget;\n    const settings = ServerConnection.makeSettings();\n    /**\n     * Prints a URL by loading it into an iframe.\n     *\n     * @param url URL to load into an iframe.\n     */\n    async function printURL(url) {\n        const text = await (await ServerConnection.makeRequest(url, {}, settings)).text();\n        return printContent(text);\n    }\n    Printing.printURL = printURL;\n    /**\n     * Prints a URL or an element in an iframe and then removes the iframe after printing.\n     */\n    async function printContent(textOrEl) {\n        const isText = typeof textOrEl === 'string';\n        const iframe = createIFrame();\n        const parent = window.document.body;\n        parent.appendChild(iframe);\n        if (isText) {\n            iframe.srcdoc = textOrEl;\n            await resolveWhenLoaded(iframe);\n        }\n        else {\n            iframe.src = 'about:blank';\n            await resolveWhenLoaded(iframe);\n            setIFrameNode(iframe, textOrEl);\n        }\n        const printed = resolveAfterEvent();\n        launchPrint(iframe.contentWindow);\n        // Once the print dialog has been dismissed, we regain event handling,\n        // and it should be safe to discard the hidden iframe.\n        await printed;\n        parent.removeChild(iframe);\n    }\n    /**\n     * Creates a new hidden iframe and appends it to the document\n     *\n     * Modified from\n     * https://github.com/joseluisq/printd/blob/eb7948d602583c055ab6dee3ee294b6a421da4b6/src/index.ts#L24\n     */\n    function createIFrame() {\n        const el = window.document.createElement('iframe');\n        // We need both allow-modals and allow-same-origin to be able to\n        // call print in the iframe.\n        // We intentionally do not allow scripts:\n        // https://github.com/jupyterlab/jupyterlab/pull/5850#pullrequestreview-230899790\n        el.setAttribute('sandbox', 'allow-modals allow-same-origin');\n        const css = 'visibility:hidden;width:0;height:0;position:absolute;z-index:-9999;bottom:0;';\n        el.setAttribute('style', css);\n        el.setAttribute('width', '0');\n        el.setAttribute('height', '0');\n        return el;\n    }\n    /**\n     * Copies a node from the base document to the iframe.\n     */\n    function setIFrameNode(iframe, node) {\n        iframe.contentDocument.body.appendChild(node.cloneNode(true));\n        iframe.contentDocument.close();\n    }\n    /**\n     * Promise that resolves when all resources are loaded in the window.\n     */\n    function resolveWhenLoaded(iframe) {\n        return new Promise(resolve => {\n            iframe.onload = () => resolve();\n        });\n    }\n    /**\n     * A promise that resolves after the next mousedown, mousemove, or\n     * keydown event. We use this as a proxy for determining when the\n     * main window has regained control after the print dialog is removed.\n     *\n     * We can't use the usual window.onafterprint handler because we\n     * disallow Javascript execution in the print iframe.\n     */\n    function resolveAfterEvent() {\n        return new Promise(resolve => {\n            const onEvent = () => {\n                document.removeEventListener('mousemove', onEvent, true);\n                document.removeEventListener('mousedown', onEvent, true);\n                document.removeEventListener('keydown', onEvent, true);\n                resolve();\n            };\n            document.addEventListener('mousemove', onEvent, true);\n            document.addEventListener('mousedown', onEvent, true);\n            document.addEventListener('keydown', onEvent, true);\n        });\n    }\n    /**\n     * Prints a content window.\n     */\n    function launchPrint(contentWindow) {\n        const result = contentWindow.document.execCommand('print', false);\n        // execCommand won't work in firefox so we call the `print` method instead if it fails\n        // https://github.com/joseluisq/printd/blob/eb7948d602583c055ab6dee3ee294b6a421da4b6/src/index.ts#L148\n        if (!result) {\n            contentWindow.print();\n        }\n    }\n})(Printing || (Printing = {}));\n//# sourceMappingURL=printing.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { nullTranslator } from '@jupyterlab/translation';\nimport { MessageLoop } from '@lumino/messaging';\nimport { BoxLayout, BoxPanel, Widget } from '@lumino/widgets';\nimport { Spinner } from './spinner';\nimport { Toolbar } from './toolbar';\nimport { DOMUtils } from './domutils';\nimport { Printing } from './printing';\n/**\n * A widget meant to be contained in the JupyterLab main area.\n *\n * #### Notes\n * Mirrors all of the `title` attributes of the content.\n * This widget is `closable` by default.\n * This widget is automatically disposed when closed.\n * This widget ensures its own focus when activated.\n */\nexport class MainAreaWidget extends Widget {\n    /**\n     * Construct a new main area widget.\n     *\n     * @param options - The options for initializing the widget.\n     */\n    constructor(options) {\n        super(options);\n        this._changeGuard = false;\n        this._spinner = new Spinner();\n        this._isRevealed = false;\n        this.addClass('jp-MainAreaWidget');\n        this.id = DOMUtils.createDomID();\n        const trans = (options.translator || nullTranslator).load('jupyterlab');\n        const content = (this._content = options.content);\n        content.node.setAttribute('role', 'region');\n        content.node.setAttribute('aria-label', trans.__('notebook content'));\n        const toolbar = (this._toolbar = options.toolbar || new Toolbar());\n        toolbar.node.setAttribute('role', 'navigation');\n        toolbar.node.setAttribute('aria-label', trans.__('notebook actions'));\n        const spinner = this._spinner;\n        const contentHeader = (this._contentHeader =\n            options.contentHeader ||\n                new BoxPanel({\n                    direction: 'top-to-bottom',\n                    spacing: 0\n                }));\n        const layout = (this.layout = new BoxLayout({ spacing: 0 }));\n        layout.direction = 'top-to-bottom';\n        BoxLayout.setStretch(toolbar, 0);\n        BoxLayout.setStretch(contentHeader, 0);\n        BoxLayout.setStretch(content, 1);\n        layout.addWidget(toolbar);\n        layout.addWidget(contentHeader);\n        layout.addWidget(content);\n        if (!content.id) {\n            content.id = DOMUtils.createDomID();\n        }\n        content.node.tabIndex = -1;\n        this._updateTitle();\n        content.title.changed.connect(this._updateTitle, this);\n        this.title.closable = true;\n        this.title.changed.connect(this._updateContentTitle, this);\n        if (options.reveal) {\n            this.node.appendChild(spinner.node);\n            this._revealed = options.reveal\n                .then(() => {\n                if (content.isDisposed) {\n                    this.dispose();\n                    return;\n                }\n                content.disposed.connect(() => this.dispose());\n                const active = document.activeElement === spinner.node;\n                this.node.removeChild(spinner.node);\n                spinner.dispose();\n                this._isRevealed = true;\n                if (active) {\n                    this._focusContent();\n                }\n            })\n                .catch(e => {\n                // Show a revealed promise error.\n                const error = new Widget();\n                // Show the error to the user.\n                const pre = document.createElement('pre');\n                pre.textContent = String(e);\n                error.node.appendChild(pre);\n                BoxLayout.setStretch(error, 1);\n                this.node.removeChild(spinner.node);\n                spinner.dispose();\n                content.dispose();\n                this._content = null;\n                toolbar.dispose();\n                this._toolbar = null;\n                layout.addWidget(error);\n                this._isRevealed = true;\n                throw error;\n            });\n        }\n        else {\n            // Handle no reveal promise.\n            spinner.dispose();\n            content.disposed.connect(() => this.dispose());\n            this._isRevealed = true;\n            this._revealed = Promise.resolve(undefined);\n        }\n    }\n    /**\n     * Print method. Defered to content.\n     */\n    [Printing.symbol]() {\n        if (!this._content) {\n            return null;\n        }\n        return Printing.getPrintFunction(this._content);\n    }\n    /**\n     * The content hosted by the widget.\n     */\n    get content() {\n        return this._content;\n    }\n    /**\n     * The toolbar hosted by the widget.\n     */\n    get toolbar() {\n        return this._toolbar;\n    }\n    /**\n     * A panel for widgets that sit between the toolbar and the content.\n     * Imagine a formatting toolbar, notification headers, etc.\n     */\n    get contentHeader() {\n        return this._contentHeader;\n    }\n    /**\n     * Whether the content widget or an error is revealed.\n     */\n    get isRevealed() {\n        return this._isRevealed;\n    }\n    /**\n     * A promise that resolves when the widget is revealed.\n     */\n    get revealed() {\n        return this._revealed;\n    }\n    /**\n     * Handle `'activate-request'` messages.\n     */\n    onActivateRequest(msg) {\n        if (this._isRevealed) {\n            if (this._content) {\n                this._focusContent();\n            }\n        }\n        else {\n            this._spinner.node.focus();\n        }\n    }\n    /**\n     * Handle `'close-request'` messages.\n     */\n    onCloseRequest(msg) {\n        this.dispose();\n    }\n    /**\n     * Handle `'update-request'` messages by forwarding them to the content.\n     */\n    onUpdateRequest(msg) {\n        if (this._content) {\n            MessageLoop.sendMessage(this._content, msg);\n        }\n    }\n    /**\n     * Update the title based on the attributes of the child widget.\n     */\n    _updateTitle() {\n        if (this._changeGuard || !this.content) {\n            return;\n        }\n        this._changeGuard = true;\n        const content = this.content;\n        this.title.label = content.title.label;\n        this.title.mnemonic = content.title.mnemonic;\n        this.title.icon = content.title.icon;\n        this.title.iconClass = content.title.iconClass;\n        this.title.iconLabel = content.title.iconLabel;\n        this.title.caption = content.title.caption;\n        this.title.className = content.title.className;\n        this.title.dataset = content.title.dataset;\n        this._changeGuard = false;\n    }\n    /**\n     * Update the content title based on attributes of the main widget.\n     */\n    _updateContentTitle() {\n        if (this._changeGuard || !this.content) {\n            return;\n        }\n        this._changeGuard = true;\n        const content = this.content;\n        content.title.label = this.title.label;\n        content.title.mnemonic = this.title.mnemonic;\n        content.title.icon = this.title.icon;\n        content.title.iconClass = this.title.iconClass;\n        content.title.iconLabel = this.title.iconLabel;\n        content.title.caption = this.title.caption;\n        content.title.className = this.title.className;\n        content.title.dataset = this.title.dataset;\n        this._changeGuard = false;\n    }\n    /**\n     * Give focus to the content.\n     */\n    _focusContent() {\n        if (!this.content) {\n            return;\n        }\n        // Focus the content node if we aren't already focused on it or a\n        // descendent.\n        if (!this.content.node.contains(document.activeElement)) {\n            this.content.node.focus();\n        }\n        // Activate the content asynchronously (which may change the focus).\n        this.content.activate();\n    }\n}\n//# sourceMappingURL=mainareawidget.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\n// sanitize-html uses the url package, so we depend on a standalone version of\n// it which acts as a polyfill for browsers.\nimport sanitize from 'sanitize-html';\n/**\n * Helper class that contains regular expressions for inline CSS style validation.\n *\n * Which properties (and values) to allow is largly based on the Google Caja project:\n *   https://github.com/google/caja\n *\n * The regular expressions are largly based on the syntax definition found at\n * https://developer.mozilla.org/en-US/docs/Web/CSS.\n */\nclass CssProp {\n    static reg(r) {\n        return new RegExp('^' + r + '$', 'i');\n    }\n}\n/*\n * Numeric base expressions used to help build more complex regular expressions\n */\nCssProp.N = {\n    integer: `[+-]?[0-9]+`,\n    integer_pos: `[+]?[0-9]+`,\n    integer_zero_ff: `([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])`,\n    number: `[+-]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?`,\n    number_pos: `[+]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?`,\n    number_zero_hundred: `[+]?(([0-9]|[1-9][0-9])([.][0-9]+)?|100)`,\n    number_zero_one: `[+]?(1([.][0]+)?|0([.][0-9]+)?)`\n};\n/*\n * Base expressions of common CSS syntax elements\n */\nCssProp.B = {\n    angle: `(${CssProp.N.number}(deg|rad|grad|turn)|0)`,\n    frequency: `${CssProp.N.number}(Hz|kHz)`,\n    ident: String.raw `-?([_a-z]|[\\xA0-\\xFF]|\\\\[0-9a-f]{1,6}(\\r\\n|[ \\t\\r\\n\\f])?|\\\\[^\\r\\n\\f0-9a-f])([_a-z0-9-]|[\\xA0-\\xFF]|\\\\[0-9a-f]{1,6}(\\r\\n|[ \\t\\r\\n\\f])?|\\\\[^\\r\\n\\f0-9a-f])*`,\n    len_or_perc: `(0|${CssProp.N.number}(px|em|rem|ex|in|cm|mm|pt|pc|%))`,\n    length: `(${CssProp.N.number}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,\n    length_pos: `(${CssProp.N.number_pos}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,\n    percentage: `${CssProp.N.number}%`,\n    percentage_pos: `${CssProp.N.number_pos}%`,\n    percentage_zero_hundred: `${CssProp.N.number_zero_hundred}%`,\n    string: String.raw `(\\\"([^\\n\\r\\f\\\\\"]|\\\\\\n|\\r\\n|\\r|\\f|\\\\[0-9a-f]{1,6}(\\r\\n|[ \\t\\r\\n\\f])?|\\\\[^\\r\\n\\f0-9a-f])*\\\")|(\\'([^\\n\\r\\f\\\\']|\\\\\\n|\\r\\n|\\r|\\f|\\\\[0-9a-f]{1,6}(\\r\\n|[ \\t\\r\\n\\f])?|\\\\[^\\r\\n\\f0-9a-f])*\\')`,\n    time: `${CssProp.N.number}(s|ms)`,\n    url: `url\\\\(.*?\\\\)`,\n    z_index: `[+-]?[0-9]{1,7}`\n};\n/*\n * Atomic (i.e. not dependant on other regular expresions) sub RegEx segments\n */\nCssProp.A = {\n    absolute_size: `xx-small|x-small|small|medium|large|x-large|xx-large`,\n    attachment: `scroll|fixed|local`,\n    bg_origin: `border-box|padding-box|content-box`,\n    border_style: `none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset`,\n    box: `border-box|padding-box|content-box`,\n    display_inside: `auto|block|table|flex|grid`,\n    display_outside: `block-level|inline-level|none|table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption`,\n    ending_shape: `circle|ellipse`,\n    generic_family: `serif|sans-serif|cursive|fantasy|monospace`,\n    generic_voice: `male|female|child`,\n    relative_size: `smaller|larger`,\n    repeat_style: `repeat-x|repeat-y|((?:repeat|space|round|no-repeat)(?:\\\\s*(?:repeat|space|round|no-repeat))?)`,\n    side_or_corner: `(left|right)?\\\\s*(top|bottom)?`,\n    single_animation_direction: `normal|reverse|alternate|alternate-reverse`,\n    single_animation_fill_mode: `none|forwards|backwards|both`,\n    single_animation_play_state: `running|paused`\n};\n/*\n * Color definition sub expressions\n */\nCssProp._COLOR = {\n    hex: `\\\\#(0x)?[0-9a-f]+`,\n    name: `aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|transparent|violet|wheat|white|whitesmoke|yellow|yellowgreen`,\n    rgb: String.raw `rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)`,\n    rgba: String.raw `rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(${CssProp.N.integer_zero_ff}|${CssProp.N.number_zero_one}|${CssProp.B.percentage_zero_hundred})\\s*\\)`\n};\n/*\n * Compound (i.e. dependant on other (sub) regular expresions) sub RegEx segments\n */\nCssProp._C = {\n    alpha: `${CssProp.N.integer_zero_ff}|${CssProp.N.number_zero_one}|${CssProp.B.percentage_zero_hundred}`,\n    alphavalue: CssProp.N.number_zero_one,\n    bg_position: `((${CssProp.B.len_or_perc}|left|center|right|top|bottom)\\\\s*){1,4}`,\n    bg_size: `(${CssProp.B.length_pos}|${CssProp.B.percentage}|auto){1,2}|cover|contain`,\n    border_width: `thin|medium|thick|${CssProp.B.length}`,\n    bottom: `${CssProp.B.length}|auto`,\n    color: `${CssProp._COLOR.hex}|${CssProp._COLOR.rgb}|${CssProp._COLOR.rgba}|${CssProp._COLOR.name}`,\n    family_name: `${CssProp.B.string}|(${CssProp.B.ident}\\\\s*)+`,\n    image_decl: CssProp.B.url,\n    left: `${CssProp.B.length}|auto`,\n    loose_quotable_words: `(${CssProp.B.ident})+`,\n    margin_width: `${CssProp.B.len_or_perc}|auto`,\n    padding_width: `${CssProp.B.length_pos}|${CssProp.B.percentage_pos}`,\n    page_url: CssProp.B.url,\n    position: `((${CssProp.B.len_or_perc}|left|center|right|top|bottom)\\\\s*){1,4}`,\n    right: `${CssProp.B.length}|auto`,\n    shadow: '',\n    size: `closest-side|farthest-side|closest-corner|farthest-corner|${CssProp.B.length}|(${CssProp.B.len_or_perc})\\\\s+(${CssProp.B.len_or_perc})`,\n    top: `${CssProp.B.length}|auto`\n};\nCssProp._C1 = {\n    image_list: `image\\\\(\\\\s*(${CssProp.B.url})*\\\\s*(${CssProp.B.url}|${CssProp._C.color})\\\\s*\\\\)`,\n    shadow: `((${CssProp._C.color})\\\\s+((${CssProp.B.length})\\\\s*){2,4}(\\s+inset)?)|((inset\\\\s+)?((${CssProp.B.length})\\\\s*){2,4}\\\\s*(${CssProp._C.color})?)`\n};\nCssProp._C2 = {\n    bg_image: `(${CssProp.B.url}|${CssProp._C1.image_list})|none`,\n    image: `${CssProp.B.url}|${CssProp._C1.image_list}`,\n    shape: `rect\\\\(\\\\s*(${CssProp._C.top})\\\\s*,\\\\s*(${CssProp._C.right})\\\\s*,\\\\s*(${CssProp._C.bottom})\\\\s*,\\\\s*(${CssProp._C.left})\\\\s*\\\\)`\n};\nCssProp.C = Object.assign(Object.assign(Object.assign({}, CssProp._C), CssProp._C1), CssProp._C2);\n/*\n * Property value regular expressions not dependant on other sub expressions\n */\nCssProp.AP = {\n    border_collapse: `collapse|separate`,\n    box: `normal|none|contents`,\n    box_sizing: `content-box|padding-box|border-box`,\n    caption_side: `top|bottom`,\n    clear: `none|left|right|both`,\n    direction: `ltr|rtl`,\n    empty_cells: `show|hide`,\n    float: `left|right|none`,\n    font_stretch: `normal|wider|narrower|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded`,\n    font_style: `normal|italic|oblique`,\n    font_variant: `normal|small-caps`,\n    font_weight: `normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900`,\n    list_style_position: `inside|outside`,\n    list_style_type: `disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none`,\n    overflow: `visible|hidden|scroll|auto`,\n    overflow_wrap: `normal|break-word`,\n    overflow_x: `visible|hidden|scroll|auto|no-display|no-content`,\n    page_break_after: `auto|always|avoid|left|right`,\n    page_break_before: `auto|always|avoid|left|right`,\n    page_break_inside: `avoid|auto`,\n    position: `static|relative|absolute`,\n    resize: `none|both|horizontal|vertical`,\n    speak: `normal|none|spell-out`,\n    speak_header: `once|always`,\n    speak_numeral: `digits|continuous`,\n    speak_punctuation: `code|none`,\n    table_layout: `auto|fixed`,\n    text_align: `left|right|center|justify`,\n    text_decoration: `none|((underline|overline|line-through|blink)\\\\s*)+`,\n    text_transform: `capitalize|uppercase|lowercase|none`,\n    text_wrap: `normal|unrestricted|none|suppress`,\n    unicode_bidi: `normal|embed|bidi-override`,\n    visibility: `visible|hidden|collapse`,\n    white_space: `normal|pre|nowrap|pre-wrap|pre-line`,\n    word_break: `normal|keep-all|break-all`\n};\n/*\n * Compound propertiy value regular expressions (i.e. dependant on other sub expressions)\n */\nCssProp._CP = {\n    background_attachment: `${CssProp.A.attachment}(,\\\\s*${CssProp.A.attachment})*`,\n    background_color: CssProp.C.color,\n    background_origin: `${CssProp.A.box}(,\\\\s*${CssProp.A.box})*`,\n    background_repeat: `${CssProp.A.repeat_style}(,\\\\s*${CssProp.A.repeat_style})*`,\n    border: `((${CssProp.C.border_width}|${CssProp.A.border_style}|${CssProp.C.color})\\\\s*){1,3}`,\n    border_radius: `((${CssProp.B.len_or_perc})\\\\s*){1,4}(\\\\/\\\\s*((${CssProp.B.len_or_perc})\\\\s*){1,4})?`,\n    border_spacing: `${CssProp.B.length}\\\\s*(${CssProp.B.length})?`,\n    border_top_color: CssProp.C.color,\n    border_top_style: CssProp.A.border_style,\n    border_width: `((${CssProp.C.border_width})\\\\s*){1,4}`,\n    color: CssProp.C.color,\n    cursor: `(${CssProp.B.url}(\\\\s*,\\\\s*)?)*(auto|crosshair|default|pointer|move|e-resize|ne-resize|nw-resize|n-resize|se-resize|sw-resize|s-resize|w-resize|text|wait|help|progress|all-scroll|col-resize|hand|no-drop|not-allowed|row-resize|vertical-text)`,\n    display: `inline|block|list-item|run-in|inline-list-item|inline-block|table|inline-table|table-cell|table-caption|flex|inline-flex|grid|inline-grid|${CssProp.A.display_inside}|${CssProp.A.display_outside}|inherit|inline-box|inline-stack`,\n    display_outside: CssProp.A.display_outside,\n    elevation: `${CssProp.B.angle}|below|level|above|higher|lower`,\n    font_family: `(${CssProp.C.family_name}|${CssProp.A.generic_family})(,\\\\s*(${CssProp.C.family_name}|${CssProp.A.generic_family}))*`,\n    height: `${CssProp.B.length}|${CssProp.B.percentage}|auto`,\n    letter_spacing: `normal|${CssProp.B.length}`,\n    list_style_image: `${CssProp.C.image}|none`,\n    margin_right: CssProp.C.margin_width,\n    max_height: `${CssProp.B.length_pos}|${CssProp.B.percentage_pos}|none|auto`,\n    min_height: `${CssProp.B.length_pos}|${CssProp.B.percentage_pos}|auto`,\n    opacity: CssProp.C.alphavalue,\n    outline_color: `${CssProp.C.color}|invert`,\n    outline_width: CssProp.C.border_width,\n    padding: `((${CssProp.C.padding_width})\\\\s*){1,4}`,\n    padding_top: CssProp.C.padding_width,\n    pitch_range: CssProp.N.number,\n    right: `${CssProp.B.length}|${CssProp.B.percentage}|auto`,\n    stress: CssProp.N.number,\n    text_indent: `${CssProp.B.length}|${CssProp.B.percentage}`,\n    text_shadow: `none|${CssProp.C.shadow}(,\\\\s*(${CssProp.C.shadow}))*`,\n    volume: `${CssProp.N.number_pos}|${CssProp.B.percentage_pos}|silent|x-soft|soft|medium|loud|x-loud`,\n    word_wrap: CssProp.AP.overflow_wrap,\n    zoom: `normal|${CssProp.N.number_pos}|${CssProp.B.percentage_pos}`,\n    backface_visibility: CssProp.AP.visibility,\n    background_clip: `${CssProp.A.box}(,\\\\s*(${CssProp.A.box}))*`,\n    background_position: `${CssProp.C.bg_position}(,\\\\s*(${CssProp.C.bg_position}))*`,\n    border_bottom_color: CssProp.C.color,\n    border_bottom_style: CssProp.A.border_style,\n    border_color: `((${CssProp.C.color})\\\\s*){1,4}`,\n    border_left_color: CssProp.C.color,\n    border_right_color: CssProp.C.color,\n    border_style: `((${CssProp.A.border_style})\\\\s*){1,4}`,\n    border_top_left_radius: `(${CssProp.B.length}|${CssProp.B.percentage})(\\\\s*(${CssProp.B.length}|${CssProp.B.percentage}))?`,\n    border_top_width: CssProp.C.border_width,\n    box_shadow: `none|${CssProp.C.shadow}(,\\\\s*(${CssProp.C.shadow}))*`,\n    clip: `${CssProp.C.shape}|auto`,\n    display_inside: CssProp.A.display_inside,\n    font_size: `${CssProp.A.absolute_size}|${CssProp.A.relative_size}|${CssProp.B.length_pos}|${CssProp.B.percentage_pos}`,\n    line_height: `normal|${CssProp.N.number_pos}|${CssProp.B.length_pos}|${CssProp.B.percentage_pos}`,\n    margin_left: CssProp.C.margin_width,\n    max_width: `${CssProp.B.length_pos}|${CssProp.B.percentage_pos}|none|auto`,\n    outline_style: CssProp.A.border_style,\n    padding_bottom: CssProp.C.padding_width,\n    padding_right: CssProp.C.padding_width,\n    perspective: `none|${CssProp.B.length}`,\n    richness: CssProp.N.number,\n    text_overflow: `((clip|ellipsis|${CssProp.B.string})\\\\s*){1,2}`,\n    top: `${CssProp.B.length}|${CssProp.B.percentage}|auto`,\n    width: `${CssProp.B.length_pos}|${CssProp.B.percentage_pos}|auto`,\n    z_index: `auto|${CssProp.B.z_index}`,\n    // Simplified background\n    background: `(((${CssProp.C.bg_position}\\\\s*(\\\\/\\\\s*${CssProp.C.bg_size})?)|(${CssProp.A.repeat_style})|(${CssProp.A.attachment})|(${CssProp.A.bg_origin})|(${CssProp.C.bg_image})|(${CssProp.C.color}))\\\\s*)+`,\n    background_size: `${CssProp.C.bg_size}(,\\\\s*${CssProp.C.bg_size})*`,\n    border_bottom_left_radius: `(${CssProp.B.length}|${CssProp.B.percentage})(\\\\s*(${CssProp.B.length}|${CssProp.B.percentage}))?`,\n    border_bottom_width: CssProp.C.border_width,\n    border_left_style: CssProp.A.border_style,\n    border_right_style: CssProp.A.border_style,\n    border_top: `((${CssProp.C.border_width}|${CssProp.A.border_style}|${CssProp.C.color})\\\\s*){1,3}`,\n    bottom: `${CssProp.B.len_or_perc}|auto`,\n    list_style: `((${CssProp.AP.list_style_type}|${CssProp.AP.list_style_position}|${CssProp.C.image}|none})\\\\s*){1,3}`,\n    margin_top: CssProp.C.margin_width,\n    outline: `((${CssProp.C.color}|invert|${CssProp.A.border_style}|${CssProp.C.border_width})\\\\s*){1,3}`,\n    overflow_y: CssProp.AP.overflow_x,\n    pitch: `${CssProp.B.frequency}|x-low|low|medium|high|x-high`,\n    vertical_align: `baseline|sub|super|top|text-top|middle|bottom|text-bottom|${CssProp.B.len_or_perc}`,\n    word_spacing: `normal|${CssProp.B.length}`,\n    background_image: `${CssProp.C.bg_image}(,\\\\s*${CssProp.C.bg_image})*`,\n    border_bottom_right_radius: `(${CssProp.B.length}|${CssProp.B.percentage})(\\\\s*(${CssProp.B.length}|${CssProp.B.percentage}))?`,\n    border_left_width: CssProp.C.border_width,\n    border_right_width: CssProp.C.border_width,\n    left: `${CssProp.B.len_or_perc}|auto`,\n    margin_bottom: CssProp.C.margin_width,\n    pause_after: `${CssProp.B.time}|${CssProp.B.percentage}`,\n    speech_rate: `${CssProp.N.number}|x-slow|slow|medium|fast|x-fast|faster|slower`,\n    transition_duration: `${CssProp.B.time}(,\\\\s*${CssProp.B.time})*`,\n    border_bottom: `((${CssProp.C.border_width}|${CssProp.A.border_style}|${CssProp.C.color})\\\\s*){1,3}`,\n    border_right: `((${CssProp.C.border_width}|${CssProp.A.border_style}|${CssProp.C.color})\\\\s*){1,3}`,\n    margin: `((${CssProp.C.margin_width})\\\\s*){1,4}`,\n    padding_left: CssProp.C.padding_width,\n    border_left: `((${CssProp.C.border_width}|${CssProp.A.border_style}|${CssProp.C.color})\\\\s*){1,3}`,\n    quotes: `(${CssProp.B.string}\\\\s*${CssProp.B.string})+|none`,\n    border_top_right_radius: `(${CssProp.B.length}|${CssProp.B.percentage})(\\\\s*(${CssProp.B.length}|${CssProp.B.percentage}))?`,\n    min_width: `${CssProp.B.length_pos}|${CssProp.B.percentage_pos}|auto`\n};\nCssProp._CP1 = {\n    font: `(((((${CssProp.AP.font_style}|${CssProp.AP.font_variant}|${CssProp.AP.font_weight})\\\\s*){1,3})?\\\\s*(${CssProp._CP.font_size})\\\\s*(\\\\/\\\\s*(${CssProp._CP.line_height}))?\\\\s+(${CssProp._CP.font_family}))|caption|icon|menu|message-box|small-caption|status-bar)`\n};\nCssProp.CP = Object.assign(Object.assign({}, CssProp._CP), CssProp._CP1);\n// CSS Property value validation regular expressions for use with sanitize-html\nCssProp.BORDER_COLLAPSE = CssProp.reg(CssProp.AP.border_collapse);\nCssProp.BOX = CssProp.reg(CssProp.AP.box);\nCssProp.BOX_SIZING = CssProp.reg(CssProp.AP.box_sizing);\nCssProp.CAPTION_SIDE = CssProp.reg(CssProp.AP.caption_side);\nCssProp.CLEAR = CssProp.reg(CssProp.AP.clear);\nCssProp.DIRECTION = CssProp.reg(CssProp.AP.direction);\nCssProp.EMPTY_CELLS = CssProp.reg(CssProp.AP.empty_cells);\nCssProp.FLOAT = CssProp.reg(CssProp.AP.float);\nCssProp.FONT_STRETCH = CssProp.reg(CssProp.AP.font_stretch);\nCssProp.FONT_STYLE = CssProp.reg(CssProp.AP.font_style);\nCssProp.FONT_VARIANT = CssProp.reg(CssProp.AP.font_variant);\nCssProp.FONT_WEIGHT = CssProp.reg(CssProp.AP.font_weight);\nCssProp.LIST_STYLE_POSITION = CssProp.reg(CssProp.AP.list_style_position);\nCssProp.LIST_STYLE_TYPE = CssProp.reg(CssProp.AP.list_style_type);\nCssProp.OVERFLOW = CssProp.reg(CssProp.AP.overflow);\nCssProp.OVERFLOW_WRAP = CssProp.reg(CssProp.AP.overflow_wrap);\nCssProp.OVERFLOW_X = CssProp.reg(CssProp.AP.overflow_x);\nCssProp.PAGE_BREAK_AFTER = CssProp.reg(CssProp.AP.page_break_after);\nCssProp.PAGE_BREAK_BEFORE = CssProp.reg(CssProp.AP.page_break_before);\nCssProp.PAGE_BREAK_INSIDE = CssProp.reg(CssProp.AP.page_break_inside);\nCssProp.POSITION = CssProp.reg(CssProp.AP.position);\nCssProp.RESIZE = CssProp.reg(CssProp.AP.resize);\nCssProp.SPEAK = CssProp.reg(CssProp.AP.speak);\nCssProp.SPEAK_HEADER = CssProp.reg(CssProp.AP.speak_header);\nCssProp.SPEAK_NUMERAL = CssProp.reg(CssProp.AP.speak_numeral);\nCssProp.SPEAK_PUNCTUATION = CssProp.reg(CssProp.AP.speak_punctuation);\nCssProp.TABLE_LAYOUT = CssProp.reg(CssProp.AP.table_layout);\nCssProp.TEXT_ALIGN = CssProp.reg(CssProp.AP.text_align);\nCssProp.TEXT_DECORATION = CssProp.reg(CssProp.AP.text_decoration);\nCssProp.TEXT_TRANSFORM = CssProp.reg(CssProp.AP.text_transform);\nCssProp.TEXT_WRAP = CssProp.reg(CssProp.AP.text_wrap);\nCssProp.UNICODE_BIDI = CssProp.reg(CssProp.AP.unicode_bidi);\nCssProp.VISIBILITY = CssProp.reg(CssProp.AP.visibility);\nCssProp.WHITE_SPACE = CssProp.reg(CssProp.AP.white_space);\nCssProp.WORD_BREAK = CssProp.reg(CssProp.AP.word_break);\nCssProp.BACKGROUND_ATTACHMENT = CssProp.reg(CssProp.CP.background_attachment);\nCssProp.BACKGROUND_COLOR = CssProp.reg(CssProp.CP.background_color);\nCssProp.BACKGROUND_ORIGIN = CssProp.reg(CssProp.CP.background_origin);\nCssProp.BACKGROUND_REPEAT = CssProp.reg(CssProp.CP.background_repeat);\nCssProp.BORDER = CssProp.reg(CssProp.CP.border);\nCssProp.BORDER_RADIUS = CssProp.reg(CssProp.CP.border_radius);\nCssProp.BORDER_SPACING = CssProp.reg(CssProp.CP.border_spacing);\nCssProp.BORDER_TOP_COLOR = CssProp.reg(CssProp.CP.border_top_color);\nCssProp.BORDER_TOP_STYLE = CssProp.reg(CssProp.CP.border_top_style);\nCssProp.BORDER_WIDTH = CssProp.reg(CssProp.CP.border_width);\nCssProp.COLOR = CssProp.reg(CssProp.CP.color);\nCssProp.CURSOR = CssProp.reg(CssProp.CP.cursor);\nCssProp.DISPLAY = CssProp.reg(CssProp.CP.display);\nCssProp.DISPLAY_OUTSIDE = CssProp.reg(CssProp.CP.display_outside);\nCssProp.ELEVATION = CssProp.reg(CssProp.CP.elevation);\nCssProp.FONT_FAMILY = CssProp.reg(CssProp.CP.font_family);\nCssProp.HEIGHT = CssProp.reg(CssProp.CP.height);\nCssProp.LETTER_SPACING = CssProp.reg(CssProp.CP.letter_spacing);\nCssProp.LIST_STYLE_IMAGE = CssProp.reg(CssProp.CP.list_style_image);\nCssProp.MARGIN_RIGHT = CssProp.reg(CssProp.CP.margin_right);\nCssProp.MAX_HEIGHT = CssProp.reg(CssProp.CP.max_height);\nCssProp.MIN_HEIGHT = CssProp.reg(CssProp.CP.min_height);\nCssProp.OPACITY = CssProp.reg(CssProp.CP.opacity);\nCssProp.OUTLINE_COLOR = CssProp.reg(CssProp.CP.outline_color);\nCssProp.OUTLINE_WIDTH = CssProp.reg(CssProp.CP.outline_width);\nCssProp.PADDING = CssProp.reg(CssProp.CP.padding);\nCssProp.PADDING_TOP = CssProp.reg(CssProp.CP.padding_top);\nCssProp.PITCH_RANGE = CssProp.reg(CssProp.CP.pitch_range);\nCssProp.RIGHT = CssProp.reg(CssProp.CP.right);\nCssProp.STRESS = CssProp.reg(CssProp.CP.stress);\nCssProp.TEXT_INDENT = CssProp.reg(CssProp.CP.text_indent);\nCssProp.TEXT_SHADOW = CssProp.reg(CssProp.CP.text_shadow);\nCssProp.VOLUME = CssProp.reg(CssProp.CP.volume);\nCssProp.WORD_WRAP = CssProp.reg(CssProp.CP.word_wrap);\nCssProp.ZOOM = CssProp.reg(CssProp.CP.zoom);\nCssProp.BACKFACE_VISIBILITY = CssProp.reg(CssProp.CP.backface_visibility);\nCssProp.BACKGROUND_CLIP = CssProp.reg(CssProp.CP.background_clip);\nCssProp.BACKGROUND_POSITION = CssProp.reg(CssProp.CP.background_position);\nCssProp.BORDER_BOTTOM_COLOR = CssProp.reg(CssProp.CP.border_bottom_color);\nCssProp.BORDER_BOTTOM_STYLE = CssProp.reg(CssProp.CP.border_bottom_style);\nCssProp.BORDER_COLOR = CssProp.reg(CssProp.CP.border_color);\nCssProp.BORDER_LEFT_COLOR = CssProp.reg(CssProp.CP.border_left_color);\nCssProp.BORDER_RIGHT_COLOR = CssProp.reg(CssProp.CP.border_right_color);\nCssProp.BORDER_STYLE = CssProp.reg(CssProp.CP.border_style);\nCssProp.BORDER_TOP_LEFT_RADIUS = CssProp.reg(CssProp.CP.border_top_left_radius);\nCssProp.BORDER_TOP_WIDTH = CssProp.reg(CssProp.CP.border_top_width);\nCssProp.BOX_SHADOW = CssProp.reg(CssProp.CP.box_shadow);\nCssProp.CLIP = CssProp.reg(CssProp.CP.clip);\nCssProp.DISPLAY_INSIDE = CssProp.reg(CssProp.CP.display_inside);\nCssProp.FONT_SIZE = CssProp.reg(CssProp.CP.font_size);\nCssProp.LINE_HEIGHT = CssProp.reg(CssProp.CP.line_height);\nCssProp.MARGIN_LEFT = CssProp.reg(CssProp.CP.margin_left);\nCssProp.MAX_WIDTH = CssProp.reg(CssProp.CP.max_width);\nCssProp.OUTLINE_STYLE = CssProp.reg(CssProp.CP.outline_style);\nCssProp.PADDING_BOTTOM = CssProp.reg(CssProp.CP.padding_bottom);\nCssProp.PADDING_RIGHT = CssProp.reg(CssProp.CP.padding_right);\nCssProp.PERSPECTIVE = CssProp.reg(CssProp.CP.perspective);\nCssProp.RICHNESS = CssProp.reg(CssProp.CP.richness);\nCssProp.TEXT_OVERFLOW = CssProp.reg(CssProp.CP.text_overflow);\nCssProp.TOP = CssProp.reg(CssProp.CP.top);\nCssProp.WIDTH = CssProp.reg(CssProp.CP.width);\nCssProp.Z_INDEX = CssProp.reg(CssProp.CP.z_index);\nCssProp.BACKGROUND = CssProp.reg(CssProp.CP.background);\nCssProp.BACKGROUND_SIZE = CssProp.reg(CssProp.CP.background_size);\nCssProp.BORDER_BOTTOM_LEFT_RADIUS = CssProp.reg(CssProp.CP.border_bottom_left_radius);\nCssProp.BORDER_BOTTOM_WIDTH = CssProp.reg(CssProp.CP.border_bottom_width);\nCssProp.BORDER_LEFT_STYLE = CssProp.reg(CssProp.CP.border_left_style);\nCssProp.BORDER_RIGHT_STYLE = CssProp.reg(CssProp.CP.border_right_style);\nCssProp.BORDER_TOP = CssProp.reg(CssProp.CP.border_top);\nCssProp.BOTTOM = CssProp.reg(CssProp.CP.bottom);\nCssProp.LIST_STYLE = CssProp.reg(CssProp.CP.list_style);\nCssProp.MARGIN_TOP = CssProp.reg(CssProp.CP.margin_top);\nCssProp.OUTLINE = CssProp.reg(CssProp.CP.outline);\nCssProp.OVERFLOW_Y = CssProp.reg(CssProp.CP.overflow_y);\nCssProp.PITCH = CssProp.reg(CssProp.CP.pitch);\nCssProp.VERTICAL_ALIGN = CssProp.reg(CssProp.CP.vertical_align);\nCssProp.WORD_SPACING = CssProp.reg(CssProp.CP.word_spacing);\nCssProp.BACKGROUND_IMAGE = CssProp.reg(CssProp.CP.background_image);\nCssProp.BORDER_BOTTOM_RIGHT_RADIUS = CssProp.reg(CssProp.CP.border_bottom_right_radius);\nCssProp.BORDER_LEFT_WIDTH = CssProp.reg(CssProp.CP.border_left_width);\nCssProp.BORDER_RIGHT_WIDTH = CssProp.reg(CssProp.CP.border_right_width);\nCssProp.LEFT = CssProp.reg(CssProp.CP.left);\nCssProp.MARGIN_BOTTOM = CssProp.reg(CssProp.CP.margin_bottom);\nCssProp.PAUSE_AFTER = CssProp.reg(CssProp.CP.pause_after);\nCssProp.SPEECH_RATE = CssProp.reg(CssProp.CP.speech_rate);\nCssProp.TRANSITION_DURATION = CssProp.reg(CssProp.CP.transition_duration);\nCssProp.BORDER_BOTTOM = CssProp.reg(CssProp.CP.border_bottom);\nCssProp.BORDER_RIGHT = CssProp.reg(CssProp.CP.border_right);\nCssProp.MARGIN = CssProp.reg(CssProp.CP.margin);\nCssProp.PADDING_LEFT = CssProp.reg(CssProp.CP.padding_left);\nCssProp.BORDER_LEFT = CssProp.reg(CssProp.CP.border_left);\nCssProp.FONT = CssProp.reg(CssProp.CP.font);\nCssProp.QUOTES = CssProp.reg(CssProp.CP.quotes);\nCssProp.BORDER_TOP_RIGHT_RADIUS = CssProp.reg(CssProp.CP.border_top_right_radius);\nCssProp.MIN_WIDTH = CssProp.reg(CssProp.CP.min_width);\n/**\n * A class to sanitize HTML strings.\n */\nexport class Sanitizer {\n    constructor() {\n        this._options = {\n            // HTML tags that are allowed to be used. Tags were extracted from Google Caja\n            allowedTags: [\n                'a',\n                'abbr',\n                'acronym',\n                'address',\n                'area',\n                'article',\n                'aside',\n                'audio',\n                'b',\n                'bdi',\n                'bdo',\n                'big',\n                'blockquote',\n                'br',\n                'button',\n                'canvas',\n                'caption',\n                'center',\n                'cite',\n                'code',\n                'col',\n                'colgroup',\n                'colspan',\n                'command',\n                'data',\n                'datalist',\n                'dd',\n                'del',\n                'details',\n                'dfn',\n                'dir',\n                'div',\n                'dl',\n                'dt',\n                'em',\n                'fieldset',\n                'figcaption',\n                'figure',\n                'font',\n                'footer',\n                'form',\n                'h1',\n                'h2',\n                'h3',\n                'h4',\n                'h5',\n                'h6',\n                'header',\n                'hgroup',\n                'hr',\n                'i',\n                // 'iframe' is allowed by Google Caja, but disallowed by default by sanitize-html\n                // , 'iframe'\n                'img',\n                'input',\n                'ins',\n                'kbd',\n                'label',\n                'legend',\n                'li',\n                'map',\n                'mark',\n                'menu',\n                'meter',\n                'nav',\n                'nobr',\n                'ol',\n                'optgroup',\n                'option',\n                'output',\n                'p',\n                'pre',\n                'progress',\n                'q',\n                'rowspan',\n                's',\n                'samp',\n                'section',\n                'select',\n                'small',\n                'source',\n                'span',\n                'strike',\n                'strong',\n                'sub',\n                'summary',\n                'sup',\n                'table',\n                'tbody',\n                'td',\n                'textarea',\n                'tfoot',\n                'th',\n                'thead',\n                'time',\n                'tr',\n                'track',\n                'tt',\n                'u',\n                'ul',\n                'var',\n                'video',\n                'wbr'\n            ],\n            // Attributes that HTML tags are allowed to have, extracted from Google Caja.\n            // See https://github.com/jupyterlab/jupyterlab/issues/1812#issuecomment-285848435\n            allowedAttributes: {\n                '*': [\n                    'class',\n                    'dir',\n                    'draggable',\n                    'hidden',\n                    'id',\n                    'inert',\n                    'itemprop',\n                    'itemref',\n                    'itemscope',\n                    'lang',\n                    'spellcheck',\n                    'style',\n                    'title',\n                    'translate'\n                ],\n                // 'rel' and 'target' were *not* allowed by Google Caja\n                a: [\n                    'accesskey',\n                    'coords',\n                    'href',\n                    'hreflang',\n                    'name',\n                    'rel',\n                    'shape',\n                    'tabindex',\n                    'target',\n                    'type'\n                ],\n                area: [\n                    'accesskey',\n                    'alt',\n                    'coords',\n                    'href',\n                    'nohref',\n                    'shape',\n                    'tabindex'\n                ],\n                // 'autoplay' was *not* allowed by Google Caja\n                audio: [\n                    'autoplay',\n                    'controls',\n                    'loop',\n                    'mediagroup',\n                    'muted',\n                    'preload',\n                    'src'\n                ],\n                bdo: ['dir'],\n                blockquote: ['cite'],\n                br: ['clear'],\n                button: [\n                    'accesskey',\n                    'data-commandlinker-args',\n                    'data-commandlinker-command',\n                    'disabled',\n                    'name',\n                    'tabindex',\n                    'type',\n                    'value'\n                ],\n                canvas: ['height', 'width'],\n                caption: ['align'],\n                col: ['align', 'char', 'charoff', 'span', 'valign', 'width'],\n                colgroup: ['align', 'char', 'charoff', 'span', 'valign', 'width'],\n                command: [\n                    'checked',\n                    'command',\n                    'disabled',\n                    'icon',\n                    'label',\n                    'radiogroup',\n                    'type'\n                ],\n                data: ['value'],\n                del: ['cite', 'datetime'],\n                details: ['open'],\n                dir: ['compact'],\n                div: ['align'],\n                dl: ['compact'],\n                fieldset: ['disabled'],\n                font: ['color', 'face', 'size'],\n                form: [\n                    'accept',\n                    'action',\n                    'autocomplete',\n                    'enctype',\n                    'method',\n                    'name',\n                    'novalidate'\n                ],\n                h1: ['align'],\n                h2: ['align'],\n                h3: ['align'],\n                h4: ['align'],\n                h5: ['align'],\n                h6: ['align'],\n                hr: ['align', 'noshade', 'size', 'width'],\n                iframe: [\n                    'align',\n                    'frameborder',\n                    'height',\n                    'marginheight',\n                    'marginwidth',\n                    'width'\n                ],\n                img: [\n                    'align',\n                    'alt',\n                    'border',\n                    'height',\n                    'hspace',\n                    'ismap',\n                    'name',\n                    'src',\n                    'usemap',\n                    'vspace',\n                    'width'\n                ],\n                input: [\n                    'accept',\n                    'accesskey',\n                    'align',\n                    'alt',\n                    'autocomplete',\n                    'checked',\n                    'disabled',\n                    'inputmode',\n                    'ismap',\n                    'list',\n                    'max',\n                    'maxlength',\n                    'min',\n                    'multiple',\n                    'name',\n                    'placeholder',\n                    'readonly',\n                    'required',\n                    'size',\n                    'src',\n                    'step',\n                    'tabindex',\n                    'type',\n                    'usemap',\n                    'value'\n                ],\n                ins: ['cite', 'datetime'],\n                label: ['accesskey', 'for'],\n                legend: ['accesskey', 'align'],\n                li: ['type', 'value'],\n                map: ['name'],\n                menu: ['compact', 'label', 'type'],\n                meter: ['high', 'low', 'max', 'min', 'value'],\n                ol: ['compact', 'reversed', 'start', 'type'],\n                optgroup: ['disabled', 'label'],\n                option: ['disabled', 'label', 'selected', 'value'],\n                output: ['for', 'name'],\n                p: ['align'],\n                pre: ['width'],\n                progress: ['max', 'min', 'value'],\n                q: ['cite'],\n                select: [\n                    'autocomplete',\n                    'disabled',\n                    'multiple',\n                    'name',\n                    'required',\n                    'size',\n                    'tabindex'\n                ],\n                source: ['type'],\n                table: [\n                    'align',\n                    'bgcolor',\n                    'border',\n                    'cellpadding',\n                    'cellspacing',\n                    'frame',\n                    'rules',\n                    'summary',\n                    'width'\n                ],\n                tbody: ['align', 'char', 'charoff', 'valign'],\n                td: [\n                    'abbr',\n                    'align',\n                    'axis',\n                    'bgcolor',\n                    'char',\n                    'charoff',\n                    'colspan',\n                    'headers',\n                    'height',\n                    'nowrap',\n                    'rowspan',\n                    'scope',\n                    'valign',\n                    'width'\n                ],\n                textarea: [\n                    'accesskey',\n                    'autocomplete',\n                    'cols',\n                    'disabled',\n                    'inputmode',\n                    'name',\n                    'placeholder',\n                    'readonly',\n                    'required',\n                    'rows',\n                    'tabindex',\n                    'wrap'\n                ],\n                tfoot: ['align', 'char', 'charoff', 'valign'],\n                th: [\n                    'abbr',\n                    'align',\n                    'axis',\n                    'bgcolor',\n                    'char',\n                    'charoff',\n                    'colspan',\n                    'headers',\n                    'height',\n                    'nowrap',\n                    'rowspan',\n                    'scope',\n                    'valign',\n                    'width'\n                ],\n                thead: ['align', 'char', 'charoff', 'valign'],\n                tr: ['align', 'bgcolor', 'char', 'charoff', 'valign'],\n                track: ['default', 'kind', 'label', 'srclang'],\n                ul: ['compact', 'type'],\n                video: [\n                    'autoplay',\n                    'controls',\n                    'height',\n                    'loop',\n                    'mediagroup',\n                    'muted',\n                    'poster',\n                    'preload',\n                    'src',\n                    'width'\n                ]\n            },\n            // Inline CSS styles that HTML tags may have (and their allowed values)\n            allowedStyles: {\n                // To simplify the data, all styles are allowed on all tags that allow the style attribute\n                '*': {\n                    'backface-visibility': [CssProp.BACKFACE_VISIBILITY],\n                    background: [CssProp.BACKGROUND],\n                    'background-attachment': [CssProp.BACKGROUND_ATTACHMENT],\n                    'background-clip': [CssProp.BACKGROUND_CLIP],\n                    'background-color': [CssProp.BACKGROUND_COLOR],\n                    'background-image': [CssProp.BACKGROUND_IMAGE],\n                    'background-origin': [CssProp.BACKGROUND_ORIGIN],\n                    'background-position': [CssProp.BACKGROUND_POSITION],\n                    'background-repeat': [CssProp.BACKGROUND_REPEAT],\n                    'background-size': [CssProp.BACKGROUND_SIZE],\n                    border: [CssProp.BORDER],\n                    'border-bottom': [CssProp.BORDER_BOTTOM],\n                    'border-bottom-color': [CssProp.BORDER_BOTTOM_COLOR],\n                    'border-bottom-left-radius': [CssProp.BORDER_BOTTOM_LEFT_RADIUS],\n                    'border-bottom-right-radius': [CssProp.BORDER_BOTTOM_RIGHT_RADIUS],\n                    'border-bottom-style': [CssProp.BORDER_BOTTOM_STYLE],\n                    'border-bottom-width': [CssProp.BORDER_BOTTOM_WIDTH],\n                    'border-collapse': [CssProp.BORDER_COLLAPSE],\n                    'border-color': [CssProp.BORDER_COLOR],\n                    'border-left': [CssProp.BORDER_LEFT],\n                    'border-left-color': [CssProp.BORDER_LEFT_COLOR],\n                    'border-left-style': [CssProp.BORDER_LEFT_STYLE],\n                    'border-left-width': [CssProp.BORDER_LEFT_WIDTH],\n                    'border-radius': [CssProp.BORDER_RADIUS],\n                    'border-right': [CssProp.BORDER_RIGHT],\n                    'border-right-color': [CssProp.BORDER_RIGHT_COLOR],\n                    'border-right-style': [CssProp.BORDER_RIGHT_STYLE],\n                    'border-right-width': [CssProp.BORDER_RIGHT_WIDTH],\n                    'border-spacing': [CssProp.BORDER_SPACING],\n                    'border-style': [CssProp.BORDER_STYLE],\n                    'border-top': [CssProp.BORDER_TOP],\n                    'border-top-color': [CssProp.BORDER_TOP_COLOR],\n                    'border-top-left-radius': [CssProp.BORDER_TOP_LEFT_RADIUS],\n                    'border-top-right-radius': [CssProp.BORDER_TOP_RIGHT_RADIUS],\n                    'border-top-style': [CssProp.BORDER_TOP_STYLE],\n                    'border-top-width': [CssProp.BORDER_TOP_WIDTH],\n                    'border-width': [CssProp.BORDER_WIDTH],\n                    bottom: [CssProp.BOTTOM],\n                    box: [CssProp.BOX],\n                    'box-shadow': [CssProp.BOX_SHADOW],\n                    'box-sizing': [CssProp.BOX_SIZING],\n                    'caption-side': [CssProp.CAPTION_SIDE],\n                    clear: [CssProp.CLEAR],\n                    clip: [CssProp.CLIP],\n                    color: [CssProp.COLOR],\n                    cursor: [CssProp.CURSOR],\n                    direction: [CssProp.DIRECTION],\n                    display: [CssProp.DISPLAY],\n                    'display-inside': [CssProp.DISPLAY_INSIDE],\n                    'display-outside': [CssProp.DISPLAY_OUTSIDE],\n                    elevation: [CssProp.ELEVATION],\n                    'empty-cells': [CssProp.EMPTY_CELLS],\n                    float: [CssProp.FLOAT],\n                    font: [CssProp.FONT],\n                    'font-family': [CssProp.FONT_FAMILY],\n                    'font-size': [CssProp.FONT_SIZE],\n                    'font-stretch': [CssProp.FONT_STRETCH],\n                    'font-style': [CssProp.FONT_STYLE],\n                    'font-variant': [CssProp.FONT_VARIANT],\n                    'font-weight': [CssProp.FONT_WEIGHT],\n                    height: [CssProp.HEIGHT],\n                    left: [CssProp.LEFT],\n                    'letter-spacing': [CssProp.LETTER_SPACING],\n                    'line-height': [CssProp.LINE_HEIGHT],\n                    'list-style': [CssProp.LIST_STYLE],\n                    'list-style-image': [CssProp.LIST_STYLE_IMAGE],\n                    'list-style-position': [CssProp.LIST_STYLE_POSITION],\n                    'list-style-type': [CssProp.LIST_STYLE_TYPE],\n                    margin: [CssProp.MARGIN],\n                    'margin-bottom': [CssProp.MARGIN_BOTTOM],\n                    'margin-left': [CssProp.MARGIN_LEFT],\n                    'margin-right': [CssProp.MARGIN_RIGHT],\n                    'margin-top': [CssProp.MARGIN_TOP],\n                    'max-height': [CssProp.MAX_HEIGHT],\n                    'max-width': [CssProp.MAX_WIDTH],\n                    'min-height': [CssProp.MIN_HEIGHT],\n                    'min-width': [CssProp.MIN_WIDTH],\n                    opacity: [CssProp.OPACITY],\n                    outline: [CssProp.OUTLINE],\n                    'outline-color': [CssProp.OUTLINE_COLOR],\n                    'outline-style': [CssProp.OUTLINE_STYLE],\n                    'outline-width': [CssProp.OUTLINE_WIDTH],\n                    overflow: [CssProp.OVERFLOW],\n                    'overflow-wrap': [CssProp.OVERFLOW_WRAP],\n                    'overflow-x': [CssProp.OVERFLOW_X],\n                    'overflow-y': [CssProp.OVERFLOW_Y],\n                    padding: [CssProp.PADDING],\n                    'padding-bottom': [CssProp.PADDING_BOTTOM],\n                    'padding-left': [CssProp.PADDING_LEFT],\n                    'padding-right': [CssProp.PADDING_RIGHT],\n                    'padding-top': [CssProp.PADDING_TOP],\n                    'page-break-after': [CssProp.PAGE_BREAK_AFTER],\n                    'page-break-before': [CssProp.PAGE_BREAK_BEFORE],\n                    'page-break-inside': [CssProp.PAGE_BREAK_INSIDE],\n                    'pause-after': [CssProp.PAUSE_AFTER],\n                    perspective: [CssProp.PERSPECTIVE],\n                    pitch: [CssProp.PITCH],\n                    'pitch-range': [CssProp.PITCH_RANGE],\n                    position: [CssProp.POSITION],\n                    quotes: [CssProp.QUOTES],\n                    resize: [CssProp.RESIZE],\n                    richness: [CssProp.RICHNESS],\n                    right: [CssProp.RIGHT],\n                    speak: [CssProp.SPEAK],\n                    'speak-header': [CssProp.SPEAK_HEADER],\n                    'speak-numeral': [CssProp.SPEAK_NUMERAL],\n                    'speak-punctuation': [CssProp.SPEAK_PUNCTUATION],\n                    'speech-rate': [CssProp.SPEECH_RATE],\n                    stress: [CssProp.STRESS],\n                    'table-layout': [CssProp.TABLE_LAYOUT],\n                    'text-align': [CssProp.TEXT_ALIGN],\n                    'text-decoration': [CssProp.TEXT_DECORATION],\n                    'text-indent': [CssProp.TEXT_INDENT],\n                    'text-overflow': [CssProp.TEXT_OVERFLOW],\n                    'text-shadow': [CssProp.TEXT_SHADOW],\n                    'text-transform': [CssProp.TEXT_TRANSFORM],\n                    'text-wrap': [CssProp.TEXT_WRAP],\n                    top: [CssProp.TOP],\n                    'unicode-bidi': [CssProp.UNICODE_BIDI],\n                    'vertical-align': [CssProp.VERTICAL_ALIGN],\n                    visibility: [CssProp.VISIBILITY],\n                    volume: [CssProp.VOLUME],\n                    'white-space': [CssProp.WHITE_SPACE],\n                    width: [CssProp.WIDTH],\n                    'word-break': [CssProp.WORD_BREAK],\n                    'word-spacing': [CssProp.WORD_SPACING],\n                    'word-wrap': [CssProp.WORD_WRAP],\n                    'z-index': [CssProp.Z_INDEX],\n                    zoom: [CssProp.ZOOM]\n                }\n            },\n            transformTags: {\n                // Set the \"rel\" attribute for <a> tags to \"nofollow\".\n                a: sanitize.simpleTransform('a', { rel: 'nofollow' }),\n                // Set the \"disabled\" attribute for <input> tags.\n                input: sanitize.simpleTransform('input', { disabled: 'disabled' })\n            },\n            allowedSchemesByTag: {\n                // Allow 'attachment:' img src (used for markdown cell attachments).\n                img: sanitize.defaults.allowedSchemes.concat(['attachment'])\n            },\n            // Override of the default option, so we can skip 'src' attribute validation.\n            // 'src' Attributes are validated to be URIs, which does not allow for embedded (image) data.\n            // Since embedded data is no longer deemed to be a threat, validation can be skipped.\n            // See https://github.com/jupyterlab/jupyterlab/issues/5183\n            allowedSchemesAppliedToAttributes: ['href', 'cite']\n        };\n    }\n    /**\n     * Sanitize an HTML string.\n     *\n     * @param dirty - The dirty text.\n     *\n     * @param options - The optional sanitization options.\n     *\n     * @returns The sanitized string.\n     */\n    sanitize(dirty, options) {\n        return sanitize(dirty, Object.assign(Object.assign({}, this._options), (options || {})));\n    }\n}\n/**\n * The default instance of an `ISanitizer` meant for use by user code.\n */\nexport const defaultSanitizer = new Sanitizer();\n//# sourceMappingURL=sanitizer.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { Token } from '@lumino/coreutils';\n/* tslint:disable */\n/**\n * The main menu token.\n */\nexport const ISplashScreen = new Token('@jupyterlab/apputils:ISplashScreen');\n//# sourceMappingURL=splash.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { URLExt } from '@jupyterlab/coreutils';\nimport { nullTranslator } from '@jupyterlab/translation';\nimport { each } from '@lumino/algorithm';\nimport { DisposableDelegate } from '@lumino/disposable';\nimport { Signal } from '@lumino/signaling';\nimport { Dialog, showDialog } from './dialog';\n/**\n * The number of milliseconds between theme loading attempts.\n */\nconst REQUEST_INTERVAL = 75;\n/**\n * The number of times to attempt to load a theme before giving up.\n */\nconst REQUEST_THRESHOLD = 20;\n/**\n * A class that provides theme management.\n */\nexport class ThemeManager {\n    /**\n     * Construct a new theme manager.\n     */\n    constructor(options) {\n        this._current = null;\n        this._links = [];\n        this._overrides = {};\n        this._overrideProps = {};\n        this._outstanding = null;\n        this._pending = 0;\n        this._requests = {};\n        this._themes = {};\n        this._themeChanged = new Signal(this);\n        const { host, key, splash, url } = options;\n        this.translator = options.translator || nullTranslator;\n        this._trans = this.translator.load('jupyterlab');\n        const registry = options.settings;\n        this._base = url;\n        this._host = host;\n        this._splash = splash || null;\n        void registry.load(key).then(settings => {\n            this._settings = settings;\n            // set up css overrides once we have a pointer to the settings schema\n            this._initOverrideProps();\n            this._settings.changed.connect(this._loadSettings, this);\n            this._loadSettings();\n        });\n    }\n    /**\n     * Get the name of the current theme.\n     */\n    get theme() {\n        return this._current;\n    }\n    /**\n     * The names of the registered themes.\n     */\n    get themes() {\n        return Object.keys(this._themes);\n    }\n    /**\n     * A signal fired when the application theme changes.\n     */\n    get themeChanged() {\n        return this._themeChanged;\n    }\n    /**\n     * Get the value of a CSS variable from its key.\n     *\n     * @param key - A Jupyterlab CSS variable, without the leading '--jp-'.\n     *\n     * @return value - The current value of the Jupyterlab CSS variable\n     */\n    getCSS(key) {\n        var _a;\n        return ((_a = this._overrides[key]) !== null && _a !== void 0 ? _a : getComputedStyle(document.documentElement).getPropertyValue(`--jp-${key}`));\n    }\n    /**\n     * Load a theme CSS file by path.\n     *\n     * @param path - The path of the file to load.\n     */\n    loadCSS(path) {\n        const base = this._base;\n        const href = URLExt.isLocal(path) ? URLExt.join(base, path) : path;\n        const links = this._links;\n        return new Promise((resolve, reject) => {\n            const link = document.createElement('link');\n            link.setAttribute('rel', 'stylesheet');\n            link.setAttribute('type', 'text/css');\n            link.setAttribute('href', href);\n            link.addEventListener('load', () => {\n                resolve(undefined);\n            });\n            link.addEventListener('error', () => {\n                reject(`Stylesheet failed to load: ${href}`);\n            });\n            document.body.appendChild(link);\n            links.push(link);\n            // add any css overrides to document\n            this.loadCSSOverrides();\n        });\n    }\n    /**\n     * Loads all current CSS overrides from settings. If an override has been\n     * removed or is invalid, this function unloads it instead.\n     */\n    loadCSSOverrides() {\n        var _a;\n        const newOverrides = (_a = this._settings.user['overrides']) !== null && _a !== void 0 ? _a : {};\n        // iterate over the union of current and new CSS override keys\n        Object.keys(Object.assign(Object.assign({}, this._overrides), newOverrides)).forEach(key => {\n            const val = newOverrides[key];\n            if (val && this.validateCSS(key, val)) {\n                // validation succeeded, set the override\n                document.documentElement.style.setProperty(`--jp-${key}`, val);\n            }\n            else {\n                // if key is not present or validation failed, the override will be removed\n                delete newOverrides[key];\n                document.documentElement.style.removeProperty(`--jp-${key}`);\n            }\n        });\n        // replace the current overrides with the new ones\n        this._overrides = newOverrides;\n    }\n    /**\n     * Validate a CSS value w.r.t. a key\n     *\n     * @param key - A Jupyterlab CSS variable, without the leading '--jp-'.\n     *\n     * @param val - A candidate CSS value\n     */\n    validateCSS(key, val) {\n        // determine the css property corresponding to the key\n        const prop = this._overrideProps[key];\n        if (!prop) {\n            console.warn('CSS validation failed: could not find property corresponding to key.\\n' +\n                `key: '${key}', val: '${val}'`);\n            return false;\n        }\n        // use built-in validation once we have the corresponding property\n        if (CSS.supports(prop, val)) {\n            return true;\n        }\n        else {\n            console.warn('CSS validation failed: invalid value.\\n' +\n                `key: '${key}', val: '${val}', prop: '${prop}'`);\n            return false;\n        }\n    }\n    /**\n     * Register a theme with the theme manager.\n     *\n     * @param theme - The theme to register.\n     *\n     * @returns A disposable that can be used to unregister the theme.\n     */\n    register(theme) {\n        const { name } = theme;\n        const themes = this._themes;\n        if (themes[name]) {\n            throw new Error(`Theme already registered for ${name}`);\n        }\n        themes[name] = theme;\n        return new DisposableDelegate(() => {\n            delete themes[name];\n        });\n    }\n    /**\n     * Add a CSS override to the settings.\n     */\n    setCSSOverride(key, value) {\n        return this._settings.set('overrides', Object.assign(Object.assign({}, this._overrides), { [key]: value }));\n    }\n    /**\n     * Set the current theme.\n     */\n    setTheme(name) {\n        return this._settings.set('theme', name);\n    }\n    /**\n     * Test whether a given theme is light.\n     */\n    isLight(name) {\n        return this._themes[name].isLight;\n    }\n    /**\n     * Increase a font size w.r.t. its current setting or its value in the\n     * current theme.\n     *\n     * @param key - A Jupyterlab font size CSS variable, without the leading '--jp-'.\n     */\n    incrFontSize(key) {\n        return this._incrFontSize(key, true);\n    }\n    /**\n     * Decrease a font size w.r.t. its current setting or its value in the\n     * current theme.\n     *\n     * @param key - A Jupyterlab font size CSS variable, without the leading '--jp-'.\n     */\n    decrFontSize(key) {\n        return this._incrFontSize(key, false);\n    }\n    /**\n     * Test whether a given theme styles scrollbars,\n     * and if the user has scrollbar styling enabled.\n     */\n    themeScrollbars(name) {\n        return (!!this._settings.composite['theme-scrollbars'] &&\n            !!this._themes[name].themeScrollbars);\n    }\n    /**\n     * Test if the user has scrollbar styling enabled.\n     */\n    isToggledThemeScrollbars() {\n        return !!this._settings.composite['theme-scrollbars'];\n    }\n    /**\n     * Toggle the `theme-scrollbbars` setting.\n     */\n    toggleThemeScrollbars() {\n        return this._settings.set('theme-scrollbars', !this._settings.composite['theme-scrollbars']);\n    }\n    /**\n     * Get the display name of the theme.\n     */\n    getDisplayName(name) {\n        var _a, _b;\n        return (_b = (_a = this._themes[name]) === null || _a === void 0 ? void 0 : _a.displayName) !== null && _b !== void 0 ? _b : name;\n    }\n    /**\n     * Change a font size by a positive or negative increment.\n     */\n    _incrFontSize(key, add = true) {\n        var _a;\n        // get the numeric and unit parts of the current font size\n        const parts = ((_a = this.getCSS(key)) !== null && _a !== void 0 ? _a : '13px').split(/([a-zA-Z]+)/);\n        // determine the increment\n        const incr = (add ? 1 : -1) * (parts[1] === 'em' ? 0.1 : 1);\n        // increment the font size and set it as an override\n        return this.setCSSOverride(key, `${Number(parts[0]) + incr}${parts[1]}`);\n    }\n    /**\n     * Initialize the key -> property dict for the overrides\n     */\n    _initOverrideProps() {\n        const definitions = this._settings.schema.definitions;\n        const overidesSchema = definitions.cssOverrides.properties;\n        Object.keys(overidesSchema).forEach(key => {\n            // override validation is against the CSS property in the description\n            // field. Example: for key ui-font-family, .description is font-family\n            this._overrideProps[key] = overidesSchema[key].description;\n        });\n    }\n    /**\n     * Handle the current settings.\n     */\n    _loadSettings() {\n        const outstanding = this._outstanding;\n        const pending = this._pending;\n        const requests = this._requests;\n        // If another request is pending, cancel it.\n        if (pending) {\n            window.clearTimeout(pending);\n            this._pending = 0;\n        }\n        const settings = this._settings;\n        const themes = this._themes;\n        const theme = settings.composite['theme'];\n        // If another promise is outstanding, wait until it finishes before\n        // attempting to load the settings. Because outstanding promises cannot\n        // be aborted, the order in which they occur must be enforced.\n        if (outstanding) {\n            outstanding\n                .then(() => {\n                this._loadSettings();\n            })\n                .catch(() => {\n                this._loadSettings();\n            });\n            this._outstanding = null;\n            return;\n        }\n        // Increment the request counter.\n        requests[theme] = requests[theme] ? requests[theme] + 1 : 1;\n        // If the theme exists, load it right away.\n        if (themes[theme]) {\n            this._outstanding = this._loadTheme(theme);\n            delete requests[theme];\n            return;\n        }\n        // If the request has taken too long, give up.\n        if (requests[theme] > REQUEST_THRESHOLD) {\n            const fallback = settings.default('theme');\n            // Stop tracking the requests for this theme.\n            delete requests[theme];\n            if (!themes[fallback]) {\n                this._onError(this._trans.__('Neither theme %1 nor default %2 loaded.', theme, fallback));\n                return;\n            }\n            console.warn(`Could not load theme ${theme}, using default ${fallback}.`);\n            this._outstanding = this._loadTheme(fallback);\n            return;\n        }\n        // If the theme does not yet exist, attempt to wait for it.\n        this._pending = window.setTimeout(() => {\n            this._loadSettings();\n        }, REQUEST_INTERVAL);\n    }\n    /**\n     * Load the theme.\n     *\n     * #### Notes\n     * This method assumes that the `theme` exists.\n     */\n    _loadTheme(theme) {\n        const current = this._current;\n        const links = this._links;\n        const themes = this._themes;\n        const splash = this._splash\n            ? this._splash.show(themes[theme].isLight)\n            : new DisposableDelegate(() => undefined);\n        // Unload any CSS files that have been loaded.\n        links.forEach(link => {\n            if (link.parentElement) {\n                link.parentElement.removeChild(link);\n            }\n        });\n        links.length = 0;\n        // Unload the previously loaded theme.\n        const old = current ? themes[current].unload() : Promise.resolve();\n        return Promise.all([old, themes[theme].load()])\n            .then(() => {\n            this._current = theme;\n            this._themeChanged.emit({\n                name: 'theme',\n                oldValue: current,\n                newValue: theme\n            });\n            // Need to force a redraw of the app here to avoid a Chrome rendering\n            // bug that can leave the scrollbars in an invalid state\n            this._host.hide();\n            // If we hide/show the widget too quickly, no redraw will happen.\n            // requestAnimationFrame delays until after the next frame render.\n            requestAnimationFrame(() => {\n                this._host.show();\n                Private.fitAll(this._host);\n                splash.dispose();\n            });\n        })\n            .catch(reason => {\n            this._onError(reason);\n            splash.dispose();\n        });\n    }\n    /**\n     * Handle a theme error.\n     */\n    _onError(reason) {\n        void showDialog({\n            title: this._trans.__('Error Loading Theme'),\n            body: String(reason),\n            buttons: [Dialog.okButton({ label: this._trans.__('OK') })]\n        });\n    }\n}\n/**\n * A namespace for module private data.\n */\nvar Private;\n(function (Private) {\n    /**\n     * Fit a widget and all of its children, recursively.\n     */\n    function fitAll(widget) {\n        each(widget.children(), fitAll);\n        widget.fit();\n    }\n    Private.fitAll = fitAll;\n})(Private || (Private = {}));\n//# sourceMappingURL=thememanager.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { Token } from '@lumino/coreutils';\n/* tslint:disable */\n/**\n * The session context dialogs token.\n */\nexport const ISessionContextDialogs = new Token('@jupyterlab/apputils:ISessionContextDialogs');\n/* tslint:enable */\n/* tslint:disable */\n/**\n * The theme manager token.\n */\nexport const IThemeManager = new Token('@jupyterlab/apputils:IThemeManager');\n/**\n * The sanitizer token.\n */\nexport const ISanitizer = new Token('@jupyterlab/apputils:ISanitizer');\n//# sourceMappingURL=tokens.js.map","// Copyright (c) Jupyter Development Team.\n// Distributed under the terms of the Modified BSD License.\nimport { PromiseDelegate, Token } from '@lumino/coreutils';\n/* tslint:disable */\n/**\n * The default window resolver token.\n */\nexport const IWindowResolver = new Token('@jupyterlab/apputils:IWindowResolver');\n/**\n * A concrete implementation of a window name resolver.\n */\nexport class WindowResolver {\n    /**\n     * The resolved window name.\n     *\n     * #### Notes\n     * If the `resolve` promise has not resolved, the behavior is undefined.\n     */\n    get name() {\n        return this._name;\n    }\n    /**\n     * Resolve a window name to use as a handle among shared resources.\n     *\n     * @param candidate - The potential window name being resolved.\n     *\n     * #### Notes\n     * Typically, the name candidate should be a JupyterLab workspace name or\n     * an empty string if there is no workspace.\n     *\n     * If the returned promise rejects, a window name cannot be resolved without\n     * user intervention, which typically means navigation to a new URL.\n     */\n    resolve(candidate) {\n        return Private.resolve(candidate).then(name => {\n            this._name = name;\n        });\n    }\n}\n/*\n * A namespace for private module data.\n */\nvar Private;\n(function (Private) {\n    /**\n     * The internal prefix for private local storage keys.\n     */\n    const PREFIX = '@jupyterlab/statedb:StateDB';\n    /**\n     * The local storage beacon key.\n     */\n    const BEACON = `${PREFIX}:beacon`;\n    /**\n     * The timeout (in ms) to wait for beacon responders.\n     *\n     * #### Notes\n     * This value is a whole number between 200 and 500 in order to prevent\n     * perfect timeout collisions between multiple simultaneously opening windows\n     * that have the same URL. This is an edge case because multiple windows\n     * should not ordinarily share the same URL, but it can be contrived.\n     */\n    const TIMEOUT = Math.floor(200 + Math.random() * 300);\n    /**\n     * The local storage window key.\n     */\n    const WINDOW = `${PREFIX}:window`;\n    /**\n     * Current beacon request\n     *\n     * #### Notes\n     * We keep track of the current request so that we can ignore our own beacon\n     * requests. This is to work around a bug in Safari, where Safari sometimes\n     * triggers local storage events for changes made by the current tab. See\n     * https://github.com/jupyterlab/jupyterlab/issues/6921#issuecomment-540817283\n     * for more details.\n     */\n    let currentBeaconRequest = null;\n    /**\n     * A potential preferred default window name.\n     */\n    let candidate = null;\n    /**\n     * The window name promise.\n     */\n    const delegate = new PromiseDelegate();\n    /**\n     * The known window names.\n     */\n    const known = {};\n    /**\n     * The window name.\n     */\n    let name = null;\n    /**\n     * Whether the name resolution has completed.\n     */\n    let resolved = false;\n    /**\n     * Start the storage event handler.\n     */\n    function initialize() {\n        // Listen to all storage events for beacons and window names.\n        window.addEventListener('storage', (event) => {\n            const { key, newValue } = event;\n            // All the keys we care about have values.\n            if (newValue === null) {\n                return;\n            }\n            // If the beacon was fired, respond with a ping.\n            if (key === BEACON &&\n                newValue !== currentBeaconRequest &&\n                candidate !== null) {\n                ping(resolved ? name : candidate);\n                return;\n            }\n            // If the window name is resolved, bail.\n            if (resolved || key !== WINDOW) {\n                return;\n            }\n            const reported = newValue.replace(/\\-\\d+$/, '');\n            // Store the reported window name.\n            known[reported] = null;\n            // If a reported window name and candidate collide, reject the candidate.\n            if (!candidate || candidate in known) {\n                reject();\n            }\n        });\n    }\n    /**\n     * Ping peers with payload.\n     */\n    function ping(payload) {\n        if (payload === null) {\n            return;\n        }\n        const { localStorage } = window;\n        localStorage.setItem(WINDOW, `${payload}-${new Date().getTime()}`);\n    }\n    /**\n     * Reject the candidate.\n     */\n    function reject() {\n        resolved = true;\n        currentBeaconRequest = null;\n        delegate.reject(`Window name candidate \"${candidate}\" already exists`);\n    }\n    /**\n     * Returns a promise that resolves with the window name used for restoration.\n     */\n    function resolve(potential) {\n        if (resolved) {\n            return delegate.promise;\n        }\n        // Set the local candidate.\n        candidate = potential;\n        if (candidate in known) {\n            reject();\n            return delegate.promise;\n        }\n        const { localStorage, setTimeout } = window;\n        // Wait until other windows have reported before claiming the candidate.\n        setTimeout(() => {\n            if (resolved) {\n                return;\n            }\n            // If the window name has not already been resolved, check one last time\n            // to confirm it is not a duplicate before resolving.\n            if (!candidate || candidate in known) {\n                return reject();\n            }\n            resolved = true;\n            currentBeaconRequest = null;\n            delegate.resolve((name = candidate));\n            ping(name);\n        }, TIMEOUT);\n        // Fire the beacon to collect other windows' names.\n        currentBeaconRequest = `${Math.random()}-${new Date().getTime()}`;\n        localStorage.setItem(BEACON, currentBeaconRequest);\n        return delegate.promise;\n    }\n    Private.resolve = resolve;\n    // Initialize the storage listener at runtime.\n    (() => {\n        initialize();\n    })();\n})(Private || (Private = {}));\n//# sourceMappingURL=windowresolver.js.map"],"sourceRoot":""}