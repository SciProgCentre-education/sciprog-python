(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[4702],{74702:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Clipboard:()=>s,Collapse:()=>d,CommandLinker:()=>u,CommandToolbarButton:()=>oe,CommandToolbarButtonComponent:()=>se,DOMUtils:()=>D,Dialog:()=>k,HoverBox:()=>N,ICommandPalette:()=>p,IFrame:()=>L,ISanitizer:()=>ye,ISessionContextDialogs:()=>fe,ISplashScreen:()=>_e,IThemeManager:()=>Ce,IWindowResolver:()=>ve,InputDialog:()=>$,MainAreaWidget:()=>le,ModalCommandPalette:()=>_,Printing:()=>re,ReactWidget:()=>v,Sanitizer:()=>ue,SessionContext:()=>V,Spinner:()=>F,Styling:()=>g,ThemeManager:()=>be,Toolbar:()=>Q,ToolbarButton:()=>ne,ToolbarButtonComponent:()=>ee,UseSignal:()=>E,VDomModel:()=>T,VDomRenderer:()=>w,WidgetTracker:()=>O,WindowResolver:()=>we,addCommandToolbarButtonClass:()=>ie,addToolbarButtonClass:()=>te,defaultSanitizer:()=>pe,sessionContextDialogs:()=>Y,showDialog:()=>S,showErrorMessage:()=>A});var s,i,o=n(66065);!function(e){function t(e,t="copy"){let n=window.getSelection();const s=[];for(let e=0,t=(null==n?void 0:n.rangeCount)||0;e<t;++e)s[e]=n.getRangeAt(e).cloneRange();const i=document.createRange();if(i.selectNodeContents(e),n&&(n.removeAllRanges(),n.addRange(i)),document.execCommand(t),n=window.getSelection(),n){n.removeAllRanges();for(let e=0,t=s.length;e<t;++e)n.addRange(s[e])}}e.getInstance=function(){return i.instance},e.setInstance=function(e){i.instance=e},e.copyToSystem=function(e){const n=document.body,s=t=>{const i=t.clipboardData||window.clipboardData;"string"==typeof e?i.setData("text",e):e.types().map((t=>{i.setData(t,e.getData(t))})),t.preventDefault(),n.removeEventListener("copy",s)};n.addEventListener("copy",s),t(n)},e.generateEvent=t}(s||(s={})),function(e){e.instance=new o.MimeData}(i||(i={}));var r=n(58137),a=n(77031),l=n(9896);class d extends a.Widget{constructor(e){super(e),this._collapseChanged=new r.Signal(this);const{widget:t,collapsed:n=!0}=e;this.addClass("jp-Collapse"),this._header=new a.Widget,this._header.addClass("jp-Collapse-header"),this._content=new a.Panel,this._content.addClass("jp-Collapse-contents");const s=new a.PanelLayout;this.layout=s,s.addWidget(this._header),s.addWidget(this._content),this.widget=t,this.collapsed=n}get widget(){return this._widget}set widget(e){const t=this._widget;t&&(t.title.changed.disconnect(this._onTitleChanged,this),t.parent=null),this._widget=e,e.title.changed.connect(this._onTitleChanged,this),this._onTitleChanged(e.title),this._content.addWidget(e)}get collapsed(){return this._collapsed}set collapsed(e){e!==this._collapsed&&(e?this._collapse():this._uncollapse())}get collapseChanged(){return this._collapseChanged}toggle(){this.collapsed=!this.collapsed}dispose(){this.isDisposed||(this._header=null,this._widget=null,this._content=null,super.dispose())}handleEvent(e){switch(e.type){case"click":this._evtClick(e)}}onAfterAttach(e){this._header.node.addEventListener("click",this)}onBeforeDetach(e){this._header.node.removeEventListener("click",this)}_collapse(){this._collapsed=!0,this._content&&this._content.hide(),this._setHeader(),this._collapseChanged.emit(void 0)}_uncollapse(){this._collapsed=!1,this._content&&this._content.show(),this._setHeader(),this._collapseChanged.emit(void 0)}_evtClick(e){this.toggle()}_onTitleChanged(e){this._setHeader()}_setHeader(){(this._collapsed?l.caretUpIcon:l.caretDownIcon).element({container:this._header.node,label:this._widget.title.label,elementPosition:"right",height:"28px"})}}const c="commandlinker-command",h="commandlinker-args";class u{constructor(e){this._isDisposed=!1,this._commands=e.commands,document.body.addEventListener("click",this)}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,document.body.removeEventListener("click",this))}connectNode(e,t,n){return e.setAttribute(`data-${c}`,t),void 0!==n&&e.setAttribute(`data-${h}`,JSON.stringify(n)),e}disconnectNode(e){return e.removeAttribute(`data-${c}`),e.removeAttribute(`data-${h}`),e}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;default:return}}populateVNodeDataset(e,t){let n;return n=void 0!==t?{[h]:JSON.stringify(t),[c]:e}:{[c]:e},n}_evtClick(e){let t=e.target;for(;t&&t.parentElement;){if(t.hasAttribute(`data-${c}`)){e.preventDefault();const n=t.getAttribute(`data-${c}`);if(!n)return;const s=t.getAttribute(`data-${h}`);let i=o.JSONExt.emptyObject;return s&&(i=JSON.parse(s)),void this._commands.execute(n,i)}t=t.parentElement}}}const p=new o.Token("@jupyterlab/apputils:ICommandPalette");class _ extends a.Panel{constructor(e){super(),this.addClass("jp-ModalCommandPalette"),this.id="modal-command-palette",this._commandPalette=e.commandPalette,this.addWidget(this._commandPalette),this._commandPalette.commands.commandExecuted.connect((()=>{this.isAttached&&this.isVisible&&this.hideAndReset()})),this.hideAndReset()}get palette(){return this._commandPalette}set palette(e){this._commandPalette=e,this.addWidget(e),this.hideAndReset()}attach(){a.Widget.attach(this,document.body)}detach(){a.Widget.detach(this)}hideAndReset(){this.hide(),this._commandPalette.inputNode.value="",this._commandPalette.refresh()}handleEvent(e){switch(e.type){case"keydown":this._evtKeydown(e);break;case"focus":const t=e.target;this.node.contains(t)||(e.stopPropagation(),this.hideAndReset());break;case"contextmenu":e.preventDefault(),e.stopPropagation()}}onAfterAttach(e){this.node.addEventListener("keydown",this,!0),this.node.addEventListener("contextmenu",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this,!0),this.node.removeEventListener("contextmenu",this,!0)}onBeforeHide(e){document.removeEventListener("focus",this,!0)}onAfterShow(e){document.addEventListener("focus",this,!0)}onActivateRequest(e){this.isAttached&&(this.show(),this._commandPalette.activate())}_evtKeydown(e){switch(e.keyCode){case 27:e.stopPropagation(),e.preventDefault(),this.hideAndReset()}}}var g,m,b=n(79028),f=n(91884),C=n(96927);!function(e){function t(e,t,s=""){e.localName===t&&e.classList.add("jp-mod-styled"),"select"===e.localName&&n(e);const i=e.getElementsByTagName(t);for(let e=0;e<i.length;e++){const o=i[e];o.classList.add("jp-mod-styled"),s&&o.classList.add(s),"select"===t&&n(o)}}function n(e){const t=document.createElement("div");return t.classList.add("jp-select-wrapper"),e.addEventListener("focus",m.onFocus),e.addEventListener("blur",m.onFocus),e.classList.add("jp-mod-styled"),e.parentElement&&e.parentElement.replaceChild(t,e),t.appendChild(e),t.appendChild(l.caretDownEmptyIcon.element({tag:"span",stylesheet:"select",right:"8px",top:"5px",width:"18px"})),t}e.styleNode=function(e,n=""){t(e,"select",n),t(e,"textarea",n),t(e,"input",n),t(e,"button",n)},e.styleNodeByTag=t,e.wrapSelect=n}(g||(g={})),function(e){e.onFocus=function(e){const t=e.target.parentElement;t&&("focus"===e.type?t.classList.add("jp-mod-focused"):t.classList.remove("jp-mod-focused"))}}(m||(m={}));var y=n(54819);class v extends a.Widget{static create(e){return new class extends v{render(){return e}}}onUpdateRequest(e){this.renderPromise=this.renderDOM()}onAfterAttach(e){f.MessageLoop.sendMessage(this,a.Widget.Msg.UpdateRequest)}onBeforeDetach(e){y.unmountComponentAtNode(this.node)}renderDOM(){return new Promise((e=>{const t=this.render();(Array.isArray(t)||t)&&y.render(t,this.node,e)}))}}class w extends v{constructor(e){super(),this._modelChanged=new r.Signal(this),this.model=null!=e?e:null}get modelChanged(){return this._modelChanged}set model(e){this._model!==e&&(this._model&&this._model.stateChanged.disconnect(this.update,this),this._model=e,e&&e.stateChanged.connect(this.update,this),this.update(),this._modelChanged.emit(void 0))}get model(){return this._model}dispose(){this.isDisposed||(this._model=null,super.dispose())}}class E extends C.Component{constructor(e){super(e),this.slot=(e,t)=>{this.props.shouldUpdate&&!this.props.shouldUpdate(e,t)||this.setState({value:[e,t]})},this.state={value:[this.props.initialSender,this.props.initialArgs]}}componentDidMount(){this.props.signal.connect(this.slot)}componentWillUnmount(){this.props.signal.disconnect(this.slot)}render(){return this.props.children(...this.state.value)}}class T{constructor(){this.stateChanged=new r.Signal(this),this._isDisposed=!1}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,r.Signal.clearData(this))}}var P,R=n(40058);class O{constructor(e){this._currentChanged=new r.Signal(this),this._isDisposed=!1,this._widgetAdded=new r.Signal(this),this._widgetUpdated=new r.Signal(this);const t=this._focusTracker=new a.FocusTracker,n=this._pool=new R.RestorablePool(e);this.namespace=e.namespace,t.currentChanged.connect(((e,t)=>{t.newValue!==this.currentWidget&&(n.current=t.newValue)}),this),n.added.connect(((e,t)=>{this._widgetAdded.emit(t)}),this),n.currentChanged.connect(((e,s)=>{null===s&&t.currentWidget?n.current=t.currentWidget:(this.onCurrentChanged(s),this._currentChanged.emit(s))}),this),n.updated.connect(((e,t)=>{this._widgetUpdated.emit(t)}),this)}get currentChanged(){return this._currentChanged}get currentWidget(){return this._pool.current||null}get restored(){return this._pool.restored}get size(){return this._pool.size}get widgetAdded(){return this._widgetAdded}get widgetUpdated(){return this._widgetUpdated}async add(e){this._focusTracker.add(e),await this._pool.add(e),this._focusTracker.activeWidget||(this._pool.current=e)}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this._pool.dispose(),this._focusTracker.dispose(),r.Signal.clearData(this))}find(e){return this._pool.find(e)}forEach(e){return this._pool.forEach(e)}filter(e){return this._pool.filter(e)}inject(e){return this._pool.inject(e)}has(e){return this._pool.has(e)}async restore(e){return this._pool.restore(e)}async save(e){return this._pool.save(e)}onCurrentChanged(e){}}function S(e={}){return new k(e).launch()}function A(e,t,n=[k.okButton({label:"Dismiss"})]){console.warn("Showing error:",t);const s="string"==typeof t?t:t.message,i=e+"----"+s,o=P.errorMessagePromiseCache.get(i);if(o)return o;{const t=S({title:e,body:s,buttons:n}).then((()=>{P.errorMessagePromiseCache.delete(i)}),(e=>{throw P.errorMessagePromiseCache.delete(i),e}));return P.errorMessagePromiseCache.set(i,t),t}}class k extends a.Widget{constructor(e={}){super(),this._focusNodeSelector="",this.addClass("jp-Dialog");const t=P.handleOptions(e),n=t.renderer;this._host=t.host,this._defaultButton=t.defaultButton,this._buttons=t.buttons,this._hasClose=t.hasClose,this._buttonNodes=(0,b.toArray)((0,b.map)(this._buttons,(e=>n.createButtonNode(e))));const s=this.layout=new a.PanelLayout,i=new a.Panel;i.addClass("jp-Dialog-content"),s.addWidget(i),this._body=t.body;const o=n.createHeader(t.title,(()=>this.reject()),e),r=n.createBody(t.body),l=n.createFooter(this._buttonNodes);i.addWidget(o),i.addWidget(r),i.addWidget(l),this._primary=this._buttonNodes[this._defaultButton],this._focusNodeSelector=e.focusNodeSelector,k.tracker.add(this)}dispose(){const e=this._promise;e&&(this._promise=null,e.reject(void 0),b.ArrayExt.removeFirstOf(P.launchQueue,e.promise)),super.dispose()}launch(){if(this._promise)return this._promise.promise;const e=this._promise=new o.PromiseDelegate,t=Promise.all(P.launchQueue);return P.launchQueue.push(this._promise.promise),t.then((()=>this._promise?(a.Widget.attach(this,this._host),e.promise):Promise.resolve({button:k.cancelButton(),value:null})))}resolve(e){this._promise&&(void 0===e&&(e=this._defaultButton),this._resolve(this._buttons[e]))}reject(){this._promise&&this._resolve(k.cancelButton())}handleEvent(e){switch(e.type){case"keydown":this._evtKeydown(e);break;case"click":this._evtClick(e);break;case"focus":this._evtFocus(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}}onAfterAttach(e){const t=this.node;if(t.addEventListener("keydown",this,!0),t.addEventListener("contextmenu",this,!0),t.addEventListener("click",this,!0),document.addEventListener("focus",this,!0),this._first=P.findFirstFocusable(this.node),this._original=document.activeElement,this._focusNodeSelector){const e=this.node.querySelector(".jp-Dialog-body"),t=null==e?void 0:e.querySelector(this._focusNodeSelector);t&&(this._primary=t)}this._primary.focus()}onAfterDetach(e){const t=this.node;t.removeEventListener("keydown",this,!0),t.removeEventListener("contextmenu",this,!0),t.removeEventListener("click",this,!0),document.removeEventListener("focus",this,!0),this._original.focus()}onCloseRequest(e){this._promise&&this.reject(),super.onCloseRequest(e)}_evtClick(e){if(!this.node.getElementsByClassName("jp-Dialog-content")[0].contains(e.target))return e.stopPropagation(),e.preventDefault(),void(this._hasClose&&this.reject());for(const t of this._buttonNodes)if(t.contains(e.target)){const e=this._buttonNodes.indexOf(t);this.resolve(e)}}_evtKeydown(e){switch(e.keyCode){case 27:e.stopPropagation(),e.preventDefault(),this._hasClose&&this.reject();break;case 9:{const t=this._buttonNodes[this._buttons.length-1];document.activeElement!==t||e.shiftKey||(e.stopPropagation(),e.preventDefault(),this._first.focus());break}case 13:e.stopPropagation(),e.preventDefault(),this.resolve()}}_evtFocus(e){const t=e.target;this.node.contains(t)||(e.stopPropagation(),this._buttonNodes[this._defaultButton].focus())}_resolve(e){const t=this._promise;if(!t)return void this.dispose();this._promise=null,b.ArrayExt.removeFirstOf(P.launchQueue,t.promise);const n=this._body;let s=null;e.accept&&n instanceof a.Widget&&"function"==typeof n.getValue&&(s=n.getValue()),this.dispose(),t.resolve({button:e,value:s})}}!function(e){function t(e){e.accept=!1!==e.accept;const t=e.accept?"OK":"Cancel";return{label:e.label||t,iconClass:e.iconClass||"",iconLabel:e.iconLabel||"",caption:e.caption||"",className:e.className||"",accept:e.accept,actions:e.actions||[],displayType:e.displayType||"default"}}e.createButton=t,e.cancelButton=function(e={}){return e.accept=!1,t(e)},e.okButton=function(e={}){return e.accept=!0,t(e)},e.warnButton=function(e={}){return e.displayType="warn",t(e)},e.flush=function(){e.tracker.forEach((e=>{e.dispose()}))};class n{createHeader(e,t=(()=>{}),n={}){let s;return s="string"==typeof e?v.create(C.createElement(C.Fragment,null,e,n.hasClose&&C.createElement(l.Button,{className:"jp-Dialog-close-button",onMouseDown:e=>{0===e.button&&(e.preventDefault(),t())},onKeyDown:e=>{const{key:n}=e;"Enter"!==n&&" "!==n||t()},title:"Cancel",minimal:!0},C.createElement(l.LabIcon.resolveReact,{icon:l.closeIcon,iconClass:"jp-Icon",className:"jp-ToolbarButtonComponent-icon",tag:"span"})))):v.create(e),s.addClass("jp-Dialog-header"),g.styleNode(s.node),s}createBody(e){let t;return"string"==typeof e?(t=new a.Widget({node:document.createElement("span")}),t.node.textContent=e):e instanceof a.Widget?t=e:(t=v.create(e),f.MessageLoop.sendMessage(t,a.Widget.Msg.UpdateRequest)),t.addClass("jp-Dialog-body"),g.styleNode(t.node),t}createFooter(e){const t=new a.Widget;return t.addClass("jp-Dialog-footer"),(0,b.each)(e,(e=>{t.node.appendChild(e)})),g.styleNode(t.node),t}createButtonNode(e){const t=document.createElement("button");return t.className=this.createItemClass(e),t.appendChild(this.renderIcon(e)),t.appendChild(this.renderLabel(e)),t}createItemClass(e){let t="jp-Dialog-button";e.accept?t+=" jp-mod-accept":t+=" jp-mod-reject","warn"===e.displayType&&(t+=" jp-mod-warn");const n=e.className;return n&&(t+=` ${n}`),t}renderIcon(e){const t=document.createElement("div");return t.className=this.createIconClass(e),t.appendChild(document.createTextNode(e.iconLabel)),t}createIconClass(e){const t="jp-Dialog-buttonIcon",n=e.iconClass;return n?`${t} ${n}`:t}renderLabel(e){const t=document.createElement("div");return t.className="jp-Dialog-buttonLabel",t.title=e.caption,t.appendChild(document.createTextNode(e.label)),t}}e.Renderer=n,e.defaultRenderer=new n,e.tracker=new O({namespace:"@jupyterlab/apputils:Dialog"})}(k||(k={})),function(e){e.launchQueue=[],e.errorMessagePromiseCache=new Map,e.handleOptions=function(e={}){const t=e.buttons||[k.cancelButton(),k.okButton()];let n=t.length-1;return void 0!==e.defaultButton&&(n=e.defaultButton),{title:e.title||"",body:e.body||"",host:e.host||document.body,buttons:t,defaultButton:n,renderer:e.renderer||k.defaultRenderer,focusNodeSelector:e.focusNodeSelector||"",hasClose:e.hasClose||!0}},e.findFirstFocusable=function(e){const t=["input","select","a[href]","textarea","button","[tabindex]"].join(",");return e.querySelectorAll(t)[0]}}(P||(P={}));var D,B=n(69656);!function(e){e.hitTestNodes=function(e,t,n){return b.ArrayExt.findFirstIndex(e,(e=>B.ElementExt.hitTest(e,t,n)))},e.findElement=function(e,t){return e.querySelector(`.${t}`)},e.findElements=function(e,t){return e.getElementsByClassName(t)},e.createDomID=function(){return`id-${o.UUID.uuid4()}`}}(D||(D={}));const I="jp-mod-outofview";var N,x,$;!function(e){e.setGeometry=function(e){const{anchor:t,host:n,node:s,privilege:i}=e;if(s.classList.add("jp-HoverBox"),s.classList.add(I),!n.contains(document.elementFromPoint(t.left,t.top)))return;s.style.maxHeight="",s.style.marginTop="",s.classList.remove(I);const o=e.style||window.getComputedStyle(s),r=window.innerHeight,a=t.top,l=r-t.bottom,d=parseInt(o.marginTop,10)||0,c=parseInt(o.minHeight,10)||e.minHeight;let h=parseInt(o.maxHeight,10)||e.maxHeight;const u="forceAbove"!==i&&("forceBelow"===i||("above"===i?a<h&&a<l:l>=h||l>=a));if(u?h=Math.min(l-d,h):(h=Math.min(a,h),s.style.marginTop="0px"),s.style.maxHeight=`${h}px`,!(h>c&&(l>=c||a>=c)))return void s.classList.add(I);const p=e.offset&&e.offset.vertical&&e.offset.vertical.above||0,_=e.offset&&e.offset.vertical&&e.offset.vertical.below||0,g=u?r-l+_:a-s.getBoundingClientRect().height+p;s.style.top=`${Math.floor(g)}px`;const m=e.offset&&e.offset.horizontal||0;let b=t.left+m;s.style.left=`${Math.ceil(b)}px`,s.style.width="auto",s.scrollHeight>=h&&(s.style.width=""+(2*s.offsetWidth-s.clientWidth),s.scrollTop=0);const f=s.getBoundingClientRect().right;f>window.innerWidth&&(b-=f-window.innerWidth,s.style.left=`${Math.ceil(b)}px`)}}(N||(N={}));class L extends a.Widget{constructor(e={}){super({node:x.createNode()}),this._sandbox=[],this.addClass("jp-IFrame"),this.sandbox=e.sandbox||[],this.referrerPolicy=e.referrerPolicy||"no-referrer"}get referrerPolicy(){return this._referrerPolicy}set referrerPolicy(e){this._referrerPolicy!==e&&(this._referrerPolicy=e,this.node.querySelector("iframe").setAttribute("referrerpolicy",e))}get sandbox(){return this._sandbox.slice()}set sandbox(e){this._sandbox=e.slice();const t=this.node.querySelector("iframe"),n=e.length?e.join(" "):"";t.setAttribute("sandbox",n)}get url(){return this.node.querySelector("iframe").getAttribute("src")||""}set url(e){this.node.querySelector("iframe").setAttribute("src",e)}}!function(e){e.createNode=function(){const e=document.createElement("div"),t=document.createElement("iframe");return t.setAttribute("sandbox",""),t.style.height="100%",t.style.width="100%",e.appendChild(t),e}}(x||(x={})),function(e){e.getBoolean=function(e){return S(Object.assign(Object.assign({},e),{body:new j(e),buttons:[k.cancelButton({label:e.cancelLabel}),k.okButton({label:e.okLabel})],focusNodeSelector:"input"}))},e.getNumber=function(e){return S(Object.assign(Object.assign({},e),{body:new K(e),buttons:[k.cancelButton({label:e.cancelLabel}),k.okButton({label:e.okLabel})],focusNodeSelector:"input"}))},e.getItem=function(e){return S(Object.assign(Object.assign({},e),{body:new G(e),buttons:[k.cancelButton({label:e.cancelLabel}),k.okButton({label:e.okLabel})],focusNodeSelector:e.editable?"input":"select"}))},e.getText=function(e){return S(Object.assign(Object.assign({},e),{body:new W(e),buttons:[k.cancelButton({label:e.cancelLabel}),k.okButton({label:e.okLabel})],focusNodeSelector:"input"}))},e.getPassword=function(e){return S(Object.assign(Object.assign({},e),{body:new H(e),buttons:[k.cancelButton({label:e.cancelLabel}),k.okButton({label:e.okLabel})],focusNodeSelector:"input"}))}}($||($={}));class M extends a.Widget{constructor(e){if(super(),this.addClass("jp-Input-Dialog"),void 0!==e){const t=document.createElement("label");t.textContent=e,this.node.appendChild(t)}}}class j extends M{constructor(e){super(e.label),this._input=document.createElement("input"),this._input.classList.add("jp-mod-styled"),this._input.type="checkbox",this._input.checked=!!e.value,this.node.appendChild(this._input)}getValue(){return this._input.checked}}class K extends M{constructor(e){super(e.label),this._input=document.createElement("input",{}),this._input.classList.add("jp-mod-styled"),this._input.type="number",this._input.value=e.value?e.value.toString():"0",this.node.appendChild(this._input)}getValue(){return this._input.value?Number(this._input.value):Number.NaN}}class W extends M{constructor(e){super(e.label),this._input=document.createElement("input",{}),this._input.classList.add("jp-mod-styled"),this._input.type="text",this._input.value=e.text?e.text:"",e.placeholder&&(this._input.placeholder=e.placeholder),this.node.appendChild(this._input)}getValue(){return this._input.value}}class H extends M{constructor(e){super(e.label),this._input=document.createElement("input",{}),this._input.classList.add("jp-mod-styled"),this._input.type="password",this._input.value=e.text?e.text:"",e.placeholder&&(this._input.placeholder=e.placeholder),this.node.appendChild(this._input)}getValue(){return this._input.value}}class G extends M{constructor(e){super(e.label),this._editable=e.editable||!1;let t,n=e.current||0;if("number"==typeof n&&(t=Math.max(0,Math.min(n,e.items.length-1)),n=""),this._list=document.createElement("select"),e.items.forEach(((e,s)=>{const i=document.createElement("option");s===t&&(i.selected=!0,n=e),i.value=e,i.textContent=e,this._list.appendChild(i)})),e.editable){const t=document.createElement("datalist");t.id="input-dialog-items",t.appendChild(this._list),this._input=document.createElement("input",{}),this._input.classList.add("jp-mod-styled"),this._input.type="list",this._input.value=n,this._input.setAttribute("list",t.id),e.placeholder&&(this._input.placeholder=e.placeholder),this.node.appendChild(this._input),this.node.appendChild(t)}else this.node.appendChild(g.wrapSelect(this._list))}getValue(){return this._editable?this._input.value:this._list.value}}var U=n(50282);class F extends a.Widget{constructor(){super(),this.addClass("jp-Spinner"),this.node.tabIndex=-1;const e=document.createElement("div");e.className="jp-SpinnerContent",this.node.appendChild(e)}onActivateRequest(e){this.node.focus()}}var z=n(71759),q=n(20337);class V{constructor(e){var t,n,s,i;this._path="",this._name="",this._type="",this._prevKernelName="",this._isDisposed=!1,this._disposed=new r.Signal(this),this._session=null,this._ready=new o.PromiseDelegate,this._initializing=!1,this._initStarted=new o.PromiseDelegate,this._initPromise=new o.PromiseDelegate,this._isReady=!1,this._isTerminating=!1,this._isRestarting=!1,this._kernelChanged=new r.Signal(this),this._sessionChanged=new r.Signal(this),this._statusChanged=new r.Signal(this),this._connectionStatusChanged=new r.Signal(this),this._iopubMessage=new r.Signal(this),this._unhandledMessage=new r.Signal(this),this._propertyChanged=new r.Signal(this),this._dialog=null,this._busyDisposable=null,this._pendingKernelName="",this._pendingSessionRequest="",this.sessionManager=e.sessionManager,this.specsManager=e.specsManager,this.translator=e.translator||U.nullTranslator,this._trans=this.translator.load("jupyterlab"),this._path=null!==(t=e.path)&&void 0!==t?t:o.UUID.uuid4(),this._type=null!==(n=e.type)&&void 0!==n?n:"",this._name=null!==(s=e.name)&&void 0!==s?s:"",this._setBusy=e.setBusy,this._kernelPreference=null!==(i=e.kernelPreference)&&void 0!==i?i:{}}get session(){var e;return null!==(e=this._session)&&void 0!==e?e:null}get path(){return this._path}get type(){return this._type}get name(){return this._name}get kernelChanged(){return this._kernelChanged}get sessionChanged(){return this._sessionChanged}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get propertyChanged(){return this._propertyChanged}get kernelPreference(){return this._kernelPreference}set kernelPreference(e){this._kernelPreference=e}get isReady(){return this._isReady}get ready(){return this._ready.promise}get isTerminating(){return this._isTerminating}get isRestarting(){return this._isRestarting}get kernelDisplayName(){var e,t,n,s,i,o,r,a,l,d;const c=null===(e=this.session)||void 0===e?void 0:e.kernel;if(this._pendingKernelName===this._trans.__("No Kernel"))return this._trans.__("No Kernel");if(!c&&!this.isReady&&!1!==this.kernelPreference.canStart&&!1!==this.kernelPreference.shouldStart){let e=this._pendingKernelName||V.getDefaultKernel({specs:this.specsManager.specs,sessions:this.sessionManager.running(),preference:this.kernelPreference})||"";return e?(e=null!==(s=null===(n=null===(t=this.specsManager.specs)||void 0===t?void 0:t.kernelspecs[e])||void 0===n?void 0:n.display_name)&&void 0!==s?s:e,e):this._trans.__("No Kernel")}return this._pendingKernelName?null!==(r=null===(o=null===(i=this.specsManager.specs)||void 0===i?void 0:i.kernelspecs[this._pendingKernelName])||void 0===o?void 0:o.display_name)&&void 0!==r?r:this._pendingKernelName:c?null!==(d=null===(l=null===(a=this.specsManager.specs)||void 0===a?void 0:a.kernelspecs[c.name])||void 0===l?void 0:l.display_name)&&void 0!==d?d:c.name:this._trans.__("No Kernel")}get kernelDisplayStatus(){var e,t;const n=null===(e=this.session)||void 0===e?void 0:e.kernel;return this._isTerminating?"terminating":this._isRestarting?"restarting":this._pendingKernelName===this._trans.__("No Kernel")?"idle":!n&&this._pendingKernelName?"initializing":n||this.isReady||!1===this.kernelPreference.canStart||!1===this.kernelPreference.shouldStart?null!==(t="connected"===(null==n?void 0:n.connectionStatus)?null==n?void 0:n.status:null==n?void 0:n.connectionStatus)&&void 0!==t?t:"unknown":"initializing"}get prevKernelName(){return this._prevKernelName}get isDisposed(){return this._isDisposed}get disposed(){return this._disposed}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._session&&(this.kernelPreference.shutdownOnDispose&&this.sessionManager.shutdown(this._session.id).catch((e=>{console.error(`Kernel not shut down ${e}`)})),this._session.dispose(),this._session=null),this._dialog&&this._dialog.dispose(),this._busyDisposable&&(this._busyDisposable.dispose(),this._busyDisposable=null),r.Signal.clearData(this))}async restartKernel(){var e,t,n,s,i,o;const r=(null===(e=this.session)||void 0===e?void 0:e.kernel)||null;this._isRestarting=!0,this._isReady=!1,this._statusChanged.emit("restarting"),await(null===(n=null===(t=this.session)||void 0===t?void 0:t.kernel)||void 0===n?void 0:n.restart()),this._isRestarting=!1,this._isReady=!0,this._statusChanged.emit((null===(i=null===(s=this.session)||void 0===s?void 0:s.kernel)||void 0===i?void 0:i.status)||"unknown"),this._kernelChanged.emit({name:"kernel",oldValue:r,newValue:(null===(o=this.session)||void 0===o?void 0:o.kernel)||null})}async changeKernel(e={}){if(this.isDisposed)throw new Error("Disposed");return await this._initStarted.promise,this._changeKernel(e)}async shutdown(){if(!this.isDisposed&&this._initializing)return await this._initStarted.promise,this._pendingSessionRequest="",this._pendingKernelName=this._trans.__("No Kernel"),this._shutdownSession()}async initialize(){if(this._initializing)return this._initPromise.promise;this._initializing=!0;const e=await this._initialize();return e||(this._isReady=!0,this._ready.resolve(void 0)),this._pendingSessionRequest||this._initStarted.resolve(void 0),this._initPromise.resolve(e),e}async _initialize(){const e=this.sessionManager;await e.ready,await e.refreshRunning();const t=(0,b.find)(e.running(),(e=>e.path===this._path));if(t)try{const n=e.connectTo({model:t});this._handleNewSession(n)}catch(e){return this._handleSessionError(e),Promise.reject(e)}return await this._startIfNecessary()}async _shutdownSession(){const e=this._session;this._isTerminating=!0,this._isReady=!1,this._statusChanged.emit("terminating"),await(null==e?void 0:e.shutdown()),this._isTerminating=!1,null==e||e.dispose(),this._session=null;const t=(null==e?void 0:e.kernel)||null;this._statusChanged.emit("unknown"),this._kernelChanged.emit({name:"kernel",oldValue:t,newValue:null}),this._sessionChanged.emit({name:"session",oldValue:e,newValue:null})}async _startIfNecessary(){var e;const t=this.kernelPreference;if(this.isDisposed||(null===(e=this.session)||void 0===e?void 0:e.kernel)||!1===t.shouldStart||!1===t.canStart)return!1;let n;if(t.id)n={id:t.id};else{const e=V.getDefaultKernel({specs:this.specsManager.specs,sessions:this.sessionManager.running(),preference:t});e&&(n={name:e})}if(n)try{return await this._changeKernel(n),!1}catch(e){}return!0}async _changeKernel(e={},t=!1){e.name&&(this._pendingKernelName=e.name),this._session&&!this._isTerminating?await this._shutdownSession():this._session||this._kernelChanged.emit({name:"kernel",oldValue:null,newValue:null}),this._pendingSessionRequest||this._initStarted.resolve(void 0);const n=z.PathExt.dirname(this._path),s=this._pendingSessionRequest=z.PathExt.join(n,o.UUID.uuid4());try{this._statusChanged.emit("starting");const t=await this.sessionManager.startNew({path:s,type:this._type,name:this._name,kernel:e});return this._pendingSessionRequest!==t.path?(await t.shutdown(),t.dispose(),null):(await t.setPath(this._path),await t.setName(this._name),this._session&&!this._isTerminating&&await this._shutdownSession(),this._handleNewSession(t))}catch(e){throw this._handleSessionError(e),e}}_handleNewSession(e){var t,n,s;if(this.isDisposed)throw Error("Disposed");return this._isReady||(this._isReady=!0,this._ready.resolve(void 0)),this._session&&this._session.dispose(),this._session=e,this._pendingKernelName="",e&&(this._prevKernelName=null!==(n=null===(t=e.kernel)||void 0===t?void 0:t.name)&&void 0!==n?n:"",e.disposed.connect(this._onSessionDisposed,this),e.propertyChanged.connect(this._onPropertyChanged,this),e.kernelChanged.connect(this._onKernelChanged,this),e.statusChanged.connect(this._onStatusChanged,this),e.connectionStatusChanged.connect(this._onConnectionStatusChanged,this),e.iopubMessage.connect(this._onIopubMessage,this),e.unhandledMessage.connect(this._onUnhandledMessage,this),e.path!==this._path&&this._onPropertyChanged(e,"path"),e.name!==this._name&&this._onPropertyChanged(e,"name"),e.type!==this._type&&this._onPropertyChanged(e,"type")),this._sessionChanged.emit({name:"session",oldValue:null,newValue:e}),this._kernelChanged.emit({oldValue:null,newValue:(null==e?void 0:e.kernel)||null,name:"kernel"}),this._statusChanged.emit((null===(s=null==e?void 0:e.kernel)||void 0===s?void 0:s.status)||"unknown"),(null==e?void 0:e.kernel)||null}async _handleSessionError(e){this._handleNewSession(null);let t="",n="";try{t=e.traceback,n=e.message}catch(e){}const s=C.createElement("div",null,C.createElement("pre",null,e.message),n&&C.createElement("pre",null,n),t&&C.createElement("details",{className:"jp-mod-wide"},C.createElement("pre",null,t))),i=this._dialog=new k({title:this._trans.__("Error Starting Kernel"),body:s,buttons:[k.okButton()]});await i.launch(),this._dialog=null}_onSessionDisposed(){if(this._session){const e=this._session;this._session=null;const t=this._session;this._sessionChanged.emit({name:"session",oldValue:e,newValue:t})}}_onPropertyChanged(e,t){switch(t){case"path":this._path=e.path;break;case"name":this._name=e.name;break;case"type":this._type=e.type;break;default:throw new Error(`unrecognized property ${t}`)}this._propertyChanged.emit(t)}_onKernelChanged(e,t){this._kernelChanged.emit(t)}_onStatusChanged(e,t){this._setBusy&&("busy"===t?this._busyDisposable||(this._busyDisposable=this._setBusy()):this._busyDisposable&&(this._busyDisposable.dispose(),this._busyDisposable=null)),this._statusChanged.emit(t)}_onConnectionStatusChanged(e,t){this._connectionStatusChanged.emit(t)}_onIopubMessage(e,t){this._iopubMessage.emit(t)}_onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}}!function(e){e.getDefaultKernel=function(e){return X.getDefaultKernel(e)}}(V||(V={}));const Y={async selectKernel(e,t){if(e.isDisposed)return Promise.resolve();const n=(t=t||U.nullTranslator).load("jupyterlab");let s=n.__("Cancel");e.kernelDisplayName===n.__("No Kernel")&&(s=n.__("No Kernel"));const i=[k.cancelButton({label:s}),k.okButton({label:n.__("Select")})],o=new k({title:n.__("Select Kernel"),body:new X.KernelSelector(e),buttons:i}),r=await o.launch();if(e.isDisposed||!r.button.accept)return;const a=r.value;if(null===a&&e.kernelDisplayName!==n.__("No Kernel"))return e.shutdown();a&&await e.changeKernel(a)},async restart(e,t){var n;const s=(t=t||U.nullTranslator).load("jupyterlab");if(await e.initialize(),e.isDisposed)throw new Error("session already disposed");const i=null===(n=e.session)||void 0===n?void 0:n.kernel;if(!i&&e.prevKernelName)return await e.changeKernel({name:e.prevKernelName}),!0;if(!i)throw new Error("No kernel to restart");const o=k.warnButton({label:"Restart"}),r=await S({title:s.__("Restart Kernel?"),body:s.__("Do you want to restart the current kernel? All variables will be lost."),buttons:[k.cancelButton(),o]});return!i.isDisposed&&!!r.button.accept&&(await e.restartKernel(),!0)}};var X,Z;!function(e){class t extends a.Widget{constructor(e){super({node:n(e)})}getValue(){const e=this.node.querySelector("select");return JSON.parse(e.value)}}function n(e,t){const n=(t=t||U.nullTranslator).load("jupyterlab"),i=document.createElement("div"),o=document.createElement("label");o.textContent=`${n.__("Select kernel for:")} "${e.name}"`,i.appendChild(o);const r=function(e){return{specs:e.specsManager.specs,sessions:e.sessionManager.running(),preference:e.kernelPreference}}(e),a=document.createElement("select");return s(a,r,t),i.appendChild(a),i}function s(e,t,n){for(;e.firstChild;)e.removeChild(e.firstChild);const{preference:s,sessions:a,specs:l}=t,{name:d,id:c,language:h,canStart:u,shouldStart:p}=s,_=(n=n||U.nullTranslator).load("jupyterlab");if(!l||!1===u)return e.appendChild(o(n)),e.value="null",void(e.disabled=!0);e.disabled=!1;const g=Object.create(null),m=Object.create(null);for(const e in l.kernelspecs){const t=l.kernelspecs[e];g[e]=t.display_name,m[e]=t.language}const f=[];if(d&&d in l.kernelspecs&&f.push(d),h)for(const e in l.kernelspecs)d!==e&&m[e]===h&&f.push(e);f.length||f.push(l.default);const C=document.createElement("optgroup");C.label=_.__("Start Preferred Kernel"),f.sort(((e,t)=>g[e].localeCompare(g[t])));for(const e of f)C.appendChild(i(e,g[e]));C.firstChild&&e.appendChild(C),e.appendChild(o());const y=document.createElement("optgroup");y.label=_.__("Start Other Kernel");const v=[];for(const e in l.kernelspecs)-1===f.indexOf(e)&&v.push(e);v.sort(((e,t)=>g[e].localeCompare(g[t])));for(const e of v)y.appendChild(i(e,g[e]));if(v.length&&e.appendChild(y),!1===p?e.value="null":e.selectedIndex=0,!a)return;const w=[],E=[];(0,b.each)(a,(e=>{var t;h&&e.kernel&&m[e.kernel.name]===h&&e.kernel.id!==c?w.push(e):(null===(t=e.kernel)||void 0===t?void 0:t.id)!==c&&E.push(e)}));const T=document.createElement("optgroup");T.label=_.__("Use Kernel from Preferred Session"),e.appendChild(T),w.length&&(w.sort(((e,t)=>e.path.localeCompare(t.path))),(0,b.each)(w,(e=>{const t=e.kernel?g[e.kernel.name]:"";T.appendChild(r(e,t,n))})));const P=document.createElement("optgroup");P.label=_.__("Use Kernel from Other Session"),e.appendChild(P),E.length&&(E.sort(((e,t)=>e.path.localeCompare(t.path))),(0,b.each)(E,(e=>{const t=e.kernel?g[e.kernel.name]||e.kernel.name:"";P.appendChild(r(e,t,n))})))}function i(e,t){const n=document.createElement("option");return n.text=t,n.value=JSON.stringify({name:e}),n}function o(e){const t=(e=e||U.nullTranslator).load("jupyterlab"),n=document.createElement("optgroup");n.label="Use No Kernel";const s=document.createElement("option");return s.text=t.__("No Kernel"),s.value="null",n.appendChild(s),n}function r(e,t,n){var s,i;const o=(n=n||U.nullTranslator).load("jupyterlab"),r=document.createElement("option"),a=e.name||z.PathExt.basename(e.path);return r.text=a,r.value=JSON.stringify({id:null===(s=e.kernel)||void 0===s?void 0:s.id}),r.title=`${o.__("Path:")} ${e.path}\n${o.__("Name:")} ${a}\n${o.__("Kernel Name:")} ${t}\n${o.__("Kernel Id:")} ${null===(i=e.kernel)||void 0===i?void 0:i.id}`,r}e.KernelSelector=t,e.getDefaultKernel=function(e){var t;const{specs:n,preference:s}=e,{name:i,language:o,shouldStart:r,canStart:a,autoStartDefault:l}=s;if(!n||!1===r||!1===a)return null;const d=l?n.default:null;if(!i&&!o)return d;for(const e in n.kernelspecs)if(e===i)return i;if(!o)return d;const c=[];for(const e in n.kernelspecs)o===(null===(t=n.kernelspecs[e])||void 0===t?void 0:t.language)&&c.push(e);if(1===c.length){const e=c[0];return console.warn("No exact match found for "+e+", using kernel "+e+" that matches language="+o),e}return d},e.populateKernelSelect=s}(X||(X={}));class J extends a.PanelLayout{constructor(){super(...arguments),this._dirty=!1}onFitRequest(e){super.onFitRequest(e),this.parent.isAttached&&((0,b.some)(this.widgets,(e=>!e.isHidden))?(this.parent.node.style.minHeight="var(--jp-private-toolbar-height)",this.parent.removeClass("jp-Toolbar-micro")):(this.parent.node.style.minHeight="",this.parent.addClass("jp-Toolbar-micro"))),this._dirty=!0,this.parent.parent&&f.MessageLoop.sendMessage(this.parent.parent,a.Widget.Msg.FitRequest),this._dirty&&f.MessageLoop.sendMessage(this.parent,a.Widget.Msg.UpdateRequest)}onUpdateRequest(e){super.onUpdateRequest(e),this.parent.isVisible&&(this._dirty=!1)}onChildShown(e){super.onChildShown(e),this.parent.fit()}onChildHidden(e){super.onChildHidden(e),this.parent.fit()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}attachWidget(e,t){super.attachWidget(e,t),this.parent.fit()}detachWidget(e,t){super.detachWidget(e,t),this.parent.fit()}}class Q extends a.Widget{constructor(){super(),this.addClass("jp-Toolbar"),this.addClass("jp-scrollbar-tiny"),this.layout=new J}names(){const e=this.layout;return(0,b.map)(e.widgets,(e=>Z.nameProperty.get(e)))}addItem(e,t){const n=this.layout;return this.insertItem(n.widgets.length,e,t)}insertItem(e,t,n){return!(0,b.find)(this.names(),(e=>e===t))&&(n.addClass("jp-Toolbar-item"),this.layout.insertWidget(e,n),Z.nameProperty.set(n,t),!0)}insertAfter(e,t,n){return this._insertRelative(e,1,t,n)}insertBefore(e,t,n){return this._insertRelative(e,0,t,n)}_insertRelative(e,t,n,s){const i=(0,b.map)(this.names(),((e,t)=>({name:e,index:t}))),o=(0,b.find)(i,(t=>t.name===e));return!!o&&this.insertItem(o.index+t,n,s)}handleEvent(e){switch(e.type){case"click":this.handleClick(e)}}handleClick(e){if(e.target instanceof HTMLLabelElement){const t=e.target.getAttribute("for");if(t&&this.node.querySelector(`#${t}`))return}this.node.contains(document.activeElement)||this.parent&&this.parent.activate()}onAfterAttach(e){this.node.addEventListener("click",this)}onBeforeDetach(e){this.node.removeEventListener("click",this)}}function ee(e){var t,n;return C.createElement(l.Button,{className:e.className?e.className+" jp-ToolbarButtonComponent":"jp-ToolbarButtonComponent",disabled:!1===e.enabled,onClick:null!==(t=e.actualOnClick)&&void 0!==t&&t?t=>{var n;0===t.button&&(null===(n=e.onClick)||void 0===n||n.call(e))}:void 0,onMouseDown:null!==(n=e.actualOnClick)&&void 0!==n&&n?void 0:t=>{var n;0===t.button&&(t.preventDefault(),null===(n=e.onClick)||void 0===n||n.call(e))},onKeyDown:t=>{var n;const{key:s}=t;"Enter"!==s&&" "!==s||null===(n=e.onClick)||void 0===n||n.call(e)},title:e.tooltip||e.iconLabel,minimal:!0},(e.icon||e.iconClass)&&C.createElement(l.LabIcon.resolveReact,{icon:e.icon,iconClass:(0,l.classes)(e.iconClass,"jp-Icon"),className:"jp-ToolbarButtonComponent-icon",tag:"span",stylesheet:"toolbarButton"}),e.label&&C.createElement("span",{className:"jp-ToolbarButtonComponent-label"},e.label))}function te(e){return e.addClass("jp-ToolbarButton"),e}!function(e){e.createInterruptButton=function(e,t){const n=(t=t||U.nullTranslator).load("jupyterlab");return new ne({icon:l.stopIcon,onClick:()=>{var t,n;null===(n=null===(t=e.session)||void 0===t?void 0:t.kernel)||void 0===n||n.interrupt()},tooltip:n.__("Interrupt the kernel")})},e.createRestartButton=function(e,t,n){const s=(n=n||U.nullTranslator).load("jupyterlab");return new ne({icon:l.refreshIcon,onClick:()=>{(null!=t?t:Y).restart(e,n)},tooltip:s.__("Restart the kernel")})},e.createSpacerItem=function(){return new Z.Spacer},e.createKernelNameItem=function(e,t,n){const s=v.create(C.createElement(Z.KernelNameComponent,{sessionContext:e,dialogs:null!=t?t:Y,translator:n}));return s.addClass("jp-KernelName"),s},e.createKernelStatusItem=function(e,t){return new Z.KernelStatus(e,t)}}(Q||(Q={}));class ne extends v{constructor(e={}){super(),this.props=e,te(this)}render(){return C.createElement(ee,Object.assign({},this.props))}}function se(e){return C.createElement(E,{signal:e.commands.commandChanged,shouldUpdate:(t,n)=>n.id===e.id&&"changed"===n.type||"many-changed"===n.type},(()=>C.createElement(ee,Object.assign({},Z.propsFromCommand(e)))))}function ie(e){return e.addClass("jp-CommandToolbarButton"),e}class oe extends v{constructor(e){super(),this.props=e,ie(this)}render(){return C.createElement(se,Object.assign({},this.props))}}!function(e){e.propsFromCommand=function(e){const{commands:t,id:n,args:s}=e,i=t.iconClass(n,s),o=t.iconLabel(n,s),r=t.icon(n,s),a=r===i?void 0:r,l=t.label(n,s);let d=t.className(n,s);return t.isToggled(n,s)&&(d+=" lm-mod-toggled"),t.isVisible(n,s)||(d+=" lm-mod-hidden"),{className:d,icon:a,iconClass:i,tooltip:t.caption(n,s)||l||o,onClick:()=>{t.execute(n,s)},enabled:t.isEnabled(n,s),label:l}},e.nameProperty=new q.AttachedProperty({name:"name",create:()=>""}),e.noOp=function(){};class t extends a.Widget{constructor(){super(),this.addClass("jp-Toolbar-spacer")}}e.Spacer=t,e.KernelNameComponent=function(e){const t=e.translator||U.nullTranslator,n=t.load("jupyterlab"),s=()=>{e.dialogs.selectKernel(e.sessionContext,t)};return C.createElement(E,{signal:e.sessionContext.kernelChanged,initialSender:e.sessionContext},(e=>C.createElement(ee,{className:"jp-Toolbar-kernelName",onClick:s,tooltip:n.__("Switch kernel"),label:null==e?void 0:e.kernelDisplayName})))};class n extends a.Widget{constructor(e,t){super(),this.translator=t||U.nullTranslator,this._trans=this.translator.load("jupyterlab"),this.addClass("jp-Toolbar-kernelStatus"),this._onStatusChanged(e),e.statusChanged.connect(this._onStatusChanged,this),e.connectionStatusChanged.connect(this._onStatusChanged,this)}_onStatusChanged(e){if(this.isDisposed)return;const t=e.kernelDisplayStatus,n={container:this.node,title:this._trans.__("Kernel %1",z.Text.titleCase(t)),stylesheet:"toolbarButton",alignSelf:"normal",height:"24px"};l.LabIcon.remove(this.node),"busy"===t||"starting"===t||"terminating"===t||"restarting"===t||"initializing"===t?l.circleIcon.element(n):"connecting"===t||"disconnected"===t||"unknown"===t?l.offlineBoltIcon.element(n):l.circleEmptyIcon.element(n)}}e.KernelStatus=n}(Z||(Z={}));var re,ae=n(992);!function(e){function t(t){return!("object"!=typeof t||!t)&&e.symbol in t}e.symbol=Symbol("printable"),e.isPrintable=t,e.getPrintFunction=function(n){return t(n)?n[e.symbol]():null},e.printWidget=function(e){return s(e.node)};const n=ae.ServerConnection.makeSettings();async function s(e){const t="string"==typeof e,n=function(){const e=window.document.createElement("iframe");e.setAttribute("sandbox","allow-modals allow-same-origin");return e.setAttribute("style","visibility:hidden;width:0;height:0;position:absolute;z-index:-9999;bottom:0;"),e.setAttribute("width","0"),e.setAttribute("height","0"),e}(),s=window.document.body;s.appendChild(n),t?(n.srcdoc=e,await i(n)):(n.src="about:blank",await i(n),function(e,t){e.contentDocument.body.appendChild(t.cloneNode(!0)),e.contentDocument.close()}(n,e));const o=new Promise((e=>{const t=()=>{document.removeEventListener("mousemove",t,!0),document.removeEventListener("mousedown",t,!0),document.removeEventListener("keydown",t,!0),e()};document.addEventListener("mousemove",t,!0),document.addEventListener("mousedown",t,!0),document.addEventListener("keydown",t,!0)}));var r;(r=n.contentWindow).document.execCommand("print",!1)||r.print(),await o,s.removeChild(n)}function i(e){return new Promise((t=>{e.onload=()=>t()}))}e.printURL=async function(e){return s(await(await ae.ServerConnection.makeRequest(e,{},n)).text())}}(re||(re={}));class le extends a.Widget{constructor(e){super(e),this._changeGuard=!1,this._spinner=new F,this._isRevealed=!1,this.addClass("jp-MainAreaWidget"),this.id=D.createDomID();const t=(e.translator||U.nullTranslator).load("jupyterlab"),n=this._content=e.content;n.node.setAttribute("role","region"),n.node.setAttribute("aria-label",t.__("notebook content"));const s=this._toolbar=e.toolbar||new Q;s.node.setAttribute("role","navigation"),s.node.setAttribute("aria-label",t.__("notebook actions"));const i=this._spinner,o=this._contentHeader=e.contentHeader||new a.BoxPanel({direction:"top-to-bottom",spacing:0}),r=this.layout=new a.BoxLayout({spacing:0});r.direction="top-to-bottom",a.BoxLayout.setStretch(s,0),a.BoxLayout.setStretch(o,0),a.BoxLayout.setStretch(n,1),r.addWidget(s),r.addWidget(o),r.addWidget(n),n.id||(n.id=D.createDomID()),n.node.tabIndex=-1,this._updateTitle(),n.title.changed.connect(this._updateTitle,this),this.title.closable=!0,this.title.changed.connect(this._updateContentTitle,this),e.reveal?(this.node.appendChild(i.node),this._revealed=e.reveal.then((()=>{if(n.isDisposed)return void this.dispose();n.disposed.connect((()=>this.dispose()));const e=document.activeElement===i.node;this.node.removeChild(i.node),i.dispose(),this._isRevealed=!0,e&&this._focusContent()})).catch((e=>{const t=new a.Widget,o=document.createElement("pre");throw o.textContent=String(e),t.node.appendChild(o),a.BoxLayout.setStretch(t,1),this.node.removeChild(i.node),i.dispose(),n.dispose(),this._content=null,s.dispose(),this._toolbar=null,r.addWidget(t),this._isRevealed=!0,t}))):(i.dispose(),n.disposed.connect((()=>this.dispose())),this._isRevealed=!0,this._revealed=Promise.resolve(void 0))}[re.symbol](){return this._content?re.getPrintFunction(this._content):null}get content(){return this._content}get toolbar(){return this._toolbar}get contentHeader(){return this._contentHeader}get isRevealed(){return this._isRevealed}get revealed(){return this._revealed}onActivateRequest(e){this._isRevealed?this._content&&this._focusContent():this._spinner.node.focus()}onCloseRequest(e){this.dispose()}onUpdateRequest(e){this._content&&f.MessageLoop.sendMessage(this._content,e)}_updateTitle(){if(this._changeGuard||!this.content)return;this._changeGuard=!0;const e=this.content;this.title.label=e.title.label,this.title.mnemonic=e.title.mnemonic,this.title.icon=e.title.icon,this.title.iconClass=e.title.iconClass,this.title.iconLabel=e.title.iconLabel,this.title.caption=e.title.caption,this.title.className=e.title.className,this.title.dataset=e.title.dataset,this._changeGuard=!1}_updateContentTitle(){if(this._changeGuard||!this.content)return;this._changeGuard=!0;const e=this.content;e.title.label=this.title.label,e.title.mnemonic=this.title.mnemonic,e.title.icon=this.title.icon,e.title.iconClass=this.title.iconClass,e.title.iconLabel=this.title.iconLabel,e.title.caption=this.title.caption,e.title.className=this.title.className,e.title.dataset=this.title.dataset,this._changeGuard=!1}_focusContent(){this.content&&(this.content.node.contains(document.activeElement)||this.content.node.focus(),this.content.activate())}}var de=n(24330),ce=n.n(de);class he{static reg(e){return new RegExp("^"+e+"$","i")}}he.N={integer:"[+-]?[0-9]+",integer_pos:"[+]?[0-9]+",integer_zero_ff:"([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",number:"[+-]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_pos:"[+]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_zero_hundred:"[+]?(([0-9]|[1-9][0-9])([.][0-9]+)?|100)",number_zero_one:"[+]?(1([.][0]+)?|0([.][0-9]+)?)"},he.B={angle:`(${he.N.number}(deg|rad|grad|turn)|0)`,frequency:`${he.N.number}(Hz|kHz)`,ident:String.raw`-?([_a-z]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*`,len_or_perc:`(0|${he.N.number}(px|em|rem|ex|in|cm|mm|pt|pc|%))`,length:`(${he.N.number}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,length_pos:`(${he.N.number_pos}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,percentage:`${he.N.number}%`,percentage_pos:`${he.N.number_pos}%`,percentage_zero_hundred:`${he.N.number_zero_hundred}%`,string:String.raw`(\"([^\n\r\f\\"]|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\")|(\'([^\n\r\f\\']|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\')`,time:`${he.N.number}(s|ms)`,url:"url\\(.*?\\)",z_index:"[+-]?[0-9]{1,7}"},he.A={absolute_size:"xx-small|x-small|small|medium|large|x-large|xx-large",attachment:"scroll|fixed|local",bg_origin:"border-box|padding-box|content-box",border_style:"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset",box:"border-box|padding-box|content-box",display_inside:"auto|block|table|flex|grid",display_outside:"block-level|inline-level|none|table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption",ending_shape:"circle|ellipse",generic_family:"serif|sans-serif|cursive|fantasy|monospace",generic_voice:"male|female|child",relative_size:"smaller|larger",repeat_style:"repeat-x|repeat-y|((?:repeat|space|round|no-repeat)(?:\\s*(?:repeat|space|round|no-repeat))?)",side_or_corner:"(left|right)?\\s*(top|bottom)?",single_animation_direction:"normal|reverse|alternate|alternate-reverse",single_animation_fill_mode:"none|forwards|backwards|both",single_animation_play_state:"running|paused"},he._COLOR={hex:"\\#(0x)?[0-9a-f]+",name:"aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|transparent|violet|wheat|white|whitesmoke|yellow|yellowgreen",rgb:String.raw`rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)`,rgba:String.raw`rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(${he.N.integer_zero_ff}|${he.N.number_zero_one}|${he.B.percentage_zero_hundred})\s*\)`},he._C={alpha:`${he.N.integer_zero_ff}|${he.N.number_zero_one}|${he.B.percentage_zero_hundred}`,alphavalue:he.N.number_zero_one,bg_position:`((${he.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,bg_size:`(${he.B.length_pos}|${he.B.percentage}|auto){1,2}|cover|contain`,border_width:`thin|medium|thick|${he.B.length}`,bottom:`${he.B.length}|auto`,color:`${he._COLOR.hex}|${he._COLOR.rgb}|${he._COLOR.rgba}|${he._COLOR.name}`,family_name:`${he.B.string}|(${he.B.ident}\\s*)+`,image_decl:he.B.url,left:`${he.B.length}|auto`,loose_quotable_words:`(${he.B.ident})+`,margin_width:`${he.B.len_or_perc}|auto`,padding_width:`${he.B.length_pos}|${he.B.percentage_pos}`,page_url:he.B.url,position:`((${he.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,right:`${he.B.length}|auto`,shadow:"",size:`closest-side|farthest-side|closest-corner|farthest-corner|${he.B.length}|(${he.B.len_or_perc})\\s+(${he.B.len_or_perc})`,top:`${he.B.length}|auto`},he._C1={image_list:`image\\(\\s*(${he.B.url})*\\s*(${he.B.url}|${he._C.color})\\s*\\)`,shadow:`((${he._C.color})\\s+((${he.B.length})\\s*){2,4}(s+inset)?)|((inset\\s+)?((${he.B.length})\\s*){2,4}\\s*(${he._C.color})?)`},he._C2={bg_image:`(${he.B.url}|${he._C1.image_list})|none`,image:`${he.B.url}|${he._C1.image_list}`,shape:`rect\\(\\s*(${he._C.top})\\s*,\\s*(${he._C.right})\\s*,\\s*(${he._C.bottom})\\s*,\\s*(${he._C.left})\\s*\\)`},he.C=Object.assign(Object.assign(Object.assign({},he._C),he._C1),he._C2),he.AP={border_collapse:"collapse|separate",box:"normal|none|contents",box_sizing:"content-box|padding-box|border-box",caption_side:"top|bottom",clear:"none|left|right|both",direction:"ltr|rtl",empty_cells:"show|hide",float:"left|right|none",font_stretch:"normal|wider|narrower|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",font_style:"normal|italic|oblique",font_variant:"normal|small-caps",font_weight:"normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900",list_style_position:"inside|outside",list_style_type:"disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none",overflow:"visible|hidden|scroll|auto",overflow_wrap:"normal|break-word",overflow_x:"visible|hidden|scroll|auto|no-display|no-content",page_break_after:"auto|always|avoid|left|right",page_break_before:"auto|always|avoid|left|right",page_break_inside:"avoid|auto",position:"static|relative|absolute",resize:"none|both|horizontal|vertical",speak:"normal|none|spell-out",speak_header:"once|always",speak_numeral:"digits|continuous",speak_punctuation:"code|none",table_layout:"auto|fixed",text_align:"left|right|center|justify",text_decoration:"none|((underline|overline|line-through|blink)\\s*)+",text_transform:"capitalize|uppercase|lowercase|none",text_wrap:"normal|unrestricted|none|suppress",unicode_bidi:"normal|embed|bidi-override",visibility:"visible|hidden|collapse",white_space:"normal|pre|nowrap|pre-wrap|pre-line",word_break:"normal|keep-all|break-all"},he._CP={background_attachment:`${he.A.attachment}(,\\s*${he.A.attachment})*`,background_color:he.C.color,background_origin:`${he.A.box}(,\\s*${he.A.box})*`,background_repeat:`${he.A.repeat_style}(,\\s*${he.A.repeat_style})*`,border:`((${he.C.border_width}|${he.A.border_style}|${he.C.color})\\s*){1,3}`,border_radius:`((${he.B.len_or_perc})\\s*){1,4}(\\/\\s*((${he.B.len_or_perc})\\s*){1,4})?`,border_spacing:`${he.B.length}\\s*(${he.B.length})?`,border_top_color:he.C.color,border_top_style:he.A.border_style,border_width:`((${he.C.border_width})\\s*){1,4}`,color:he.C.color,cursor:`(${he.B.url}(\\s*,\\s*)?)*(auto|crosshair|default|pointer|move|e-resize|ne-resize|nw-resize|n-resize|se-resize|sw-resize|s-resize|w-resize|text|wait|help|progress|all-scroll|col-resize|hand|no-drop|not-allowed|row-resize|vertical-text)`,display:`inline|block|list-item|run-in|inline-list-item|inline-block|table|inline-table|table-cell|table-caption|flex|inline-flex|grid|inline-grid|${he.A.display_inside}|${he.A.display_outside}|inherit|inline-box|inline-stack`,display_outside:he.A.display_outside,elevation:`${he.B.angle}|below|level|above|higher|lower`,font_family:`(${he.C.family_name}|${he.A.generic_family})(,\\s*(${he.C.family_name}|${he.A.generic_family}))*`,height:`${he.B.length}|${he.B.percentage}|auto`,letter_spacing:`normal|${he.B.length}`,list_style_image:`${he.C.image}|none`,margin_right:he.C.margin_width,max_height:`${he.B.length_pos}|${he.B.percentage_pos}|none|auto`,min_height:`${he.B.length_pos}|${he.B.percentage_pos}|auto`,opacity:he.C.alphavalue,outline_color:`${he.C.color}|invert`,outline_width:he.C.border_width,padding:`((${he.C.padding_width})\\s*){1,4}`,padding_top:he.C.padding_width,pitch_range:he.N.number,right:`${he.B.length}|${he.B.percentage}|auto`,stress:he.N.number,text_indent:`${he.B.length}|${he.B.percentage}`,text_shadow:`none|${he.C.shadow}(,\\s*(${he.C.shadow}))*`,volume:`${he.N.number_pos}|${he.B.percentage_pos}|silent|x-soft|soft|medium|loud|x-loud`,word_wrap:he.AP.overflow_wrap,zoom:`normal|${he.N.number_pos}|${he.B.percentage_pos}`,backface_visibility:he.AP.visibility,background_clip:`${he.A.box}(,\\s*(${he.A.box}))*`,background_position:`${he.C.bg_position}(,\\s*(${he.C.bg_position}))*`,border_bottom_color:he.C.color,border_bottom_style:he.A.border_style,border_color:`((${he.C.color})\\s*){1,4}`,border_left_color:he.C.color,border_right_color:he.C.color,border_style:`((${he.A.border_style})\\s*){1,4}`,border_top_left_radius:`(${he.B.length}|${he.B.percentage})(\\s*(${he.B.length}|${he.B.percentage}))?`,border_top_width:he.C.border_width,box_shadow:`none|${he.C.shadow}(,\\s*(${he.C.shadow}))*`,clip:`${he.C.shape}|auto`,display_inside:he.A.display_inside,font_size:`${he.A.absolute_size}|${he.A.relative_size}|${he.B.length_pos}|${he.B.percentage_pos}`,line_height:`normal|${he.N.number_pos}|${he.B.length_pos}|${he.B.percentage_pos}`,margin_left:he.C.margin_width,max_width:`${he.B.length_pos}|${he.B.percentage_pos}|none|auto`,outline_style:he.A.border_style,padding_bottom:he.C.padding_width,padding_right:he.C.padding_width,perspective:`none|${he.B.length}`,richness:he.N.number,text_overflow:`((clip|ellipsis|${he.B.string})\\s*){1,2}`,top:`${he.B.length}|${he.B.percentage}|auto`,width:`${he.B.length_pos}|${he.B.percentage_pos}|auto`,z_index:`auto|${he.B.z_index}`,background:`(((${he.C.bg_position}\\s*(\\/\\s*${he.C.bg_size})?)|(${he.A.repeat_style})|(${he.A.attachment})|(${he.A.bg_origin})|(${he.C.bg_image})|(${he.C.color}))\\s*)+`,background_size:`${he.C.bg_size}(,\\s*${he.C.bg_size})*`,border_bottom_left_radius:`(${he.B.length}|${he.B.percentage})(\\s*(${he.B.length}|${he.B.percentage}))?`,border_bottom_width:he.C.border_width,border_left_style:he.A.border_style,border_right_style:he.A.border_style,border_top:`((${he.C.border_width}|${he.A.border_style}|${he.C.color})\\s*){1,3}`,bottom:`${he.B.len_or_perc}|auto`,list_style:`((${he.AP.list_style_type}|${he.AP.list_style_position}|${he.C.image}|none})\\s*){1,3}`,margin_top:he.C.margin_width,outline:`((${he.C.color}|invert|${he.A.border_style}|${he.C.border_width})\\s*){1,3}`,overflow_y:he.AP.overflow_x,pitch:`${he.B.frequency}|x-low|low|medium|high|x-high`,vertical_align:`baseline|sub|super|top|text-top|middle|bottom|text-bottom|${he.B.len_or_perc}`,word_spacing:`normal|${he.B.length}`,background_image:`${he.C.bg_image}(,\\s*${he.C.bg_image})*`,border_bottom_right_radius:`(${he.B.length}|${he.B.percentage})(\\s*(${he.B.length}|${he.B.percentage}))?`,border_left_width:he.C.border_width,border_right_width:he.C.border_width,left:`${he.B.len_or_perc}|auto`,margin_bottom:he.C.margin_width,pause_after:`${he.B.time}|${he.B.percentage}`,speech_rate:`${he.N.number}|x-slow|slow|medium|fast|x-fast|faster|slower`,transition_duration:`${he.B.time}(,\\s*${he.B.time})*`,border_bottom:`((${he.C.border_width}|${he.A.border_style}|${he.C.color})\\s*){1,3}`,border_right:`((${he.C.border_width}|${he.A.border_style}|${he.C.color})\\s*){1,3}`,margin:`((${he.C.margin_width})\\s*){1,4}`,padding_left:he.C.padding_width,border_left:`((${he.C.border_width}|${he.A.border_style}|${he.C.color})\\s*){1,3}`,quotes:`(${he.B.string}\\s*${he.B.string})+|none`,border_top_right_radius:`(${he.B.length}|${he.B.percentage})(\\s*(${he.B.length}|${he.B.percentage}))?`,min_width:`${he.B.length_pos}|${he.B.percentage_pos}|auto`},he._CP1={font:`(((((${he.AP.font_style}|${he.AP.font_variant}|${he.AP.font_weight})\\s*){1,3})?\\s*(${he._CP.font_size})\\s*(\\/\\s*(${he._CP.line_height}))?\\s+(${he._CP.font_family}))|caption|icon|menu|message-box|small-caption|status-bar)`},he.CP=Object.assign(Object.assign({},he._CP),he._CP1),he.BORDER_COLLAPSE=he.reg(he.AP.border_collapse),he.BOX=he.reg(he.AP.box),he.BOX_SIZING=he.reg(he.AP.box_sizing),he.CAPTION_SIDE=he.reg(he.AP.caption_side),he.CLEAR=he.reg(he.AP.clear),he.DIRECTION=he.reg(he.AP.direction),he.EMPTY_CELLS=he.reg(he.AP.empty_cells),he.FLOAT=he.reg(he.AP.float),he.FONT_STRETCH=he.reg(he.AP.font_stretch),he.FONT_STYLE=he.reg(he.AP.font_style),he.FONT_VARIANT=he.reg(he.AP.font_variant),he.FONT_WEIGHT=he.reg(he.AP.font_weight),he.LIST_STYLE_POSITION=he.reg(he.AP.list_style_position),he.LIST_STYLE_TYPE=he.reg(he.AP.list_style_type),he.OVERFLOW=he.reg(he.AP.overflow),he.OVERFLOW_WRAP=he.reg(he.AP.overflow_wrap),he.OVERFLOW_X=he.reg(he.AP.overflow_x),he.PAGE_BREAK_AFTER=he.reg(he.AP.page_break_after),he.PAGE_BREAK_BEFORE=he.reg(he.AP.page_break_before),he.PAGE_BREAK_INSIDE=he.reg(he.AP.page_break_inside),he.POSITION=he.reg(he.AP.position),he.RESIZE=he.reg(he.AP.resize),he.SPEAK=he.reg(he.AP.speak),he.SPEAK_HEADER=he.reg(he.AP.speak_header),he.SPEAK_NUMERAL=he.reg(he.AP.speak_numeral),he.SPEAK_PUNCTUATION=he.reg(he.AP.speak_punctuation),he.TABLE_LAYOUT=he.reg(he.AP.table_layout),he.TEXT_ALIGN=he.reg(he.AP.text_align),he.TEXT_DECORATION=he.reg(he.AP.text_decoration),he.TEXT_TRANSFORM=he.reg(he.AP.text_transform),he.TEXT_WRAP=he.reg(he.AP.text_wrap),he.UNICODE_BIDI=he.reg(he.AP.unicode_bidi),he.VISIBILITY=he.reg(he.AP.visibility),he.WHITE_SPACE=he.reg(he.AP.white_space),he.WORD_BREAK=he.reg(he.AP.word_break),he.BACKGROUND_ATTACHMENT=he.reg(he.CP.background_attachment),he.BACKGROUND_COLOR=he.reg(he.CP.background_color),he.BACKGROUND_ORIGIN=he.reg(he.CP.background_origin),he.BACKGROUND_REPEAT=he.reg(he.CP.background_repeat),he.BORDER=he.reg(he.CP.border),he.BORDER_RADIUS=he.reg(he.CP.border_radius),he.BORDER_SPACING=he.reg(he.CP.border_spacing),he.BORDER_TOP_COLOR=he.reg(he.CP.border_top_color),he.BORDER_TOP_STYLE=he.reg(he.CP.border_top_style),he.BORDER_WIDTH=he.reg(he.CP.border_width),he.COLOR=he.reg(he.CP.color),he.CURSOR=he.reg(he.CP.cursor),he.DISPLAY=he.reg(he.CP.display),he.DISPLAY_OUTSIDE=he.reg(he.CP.display_outside),he.ELEVATION=he.reg(he.CP.elevation),he.FONT_FAMILY=he.reg(he.CP.font_family),he.HEIGHT=he.reg(he.CP.height),he.LETTER_SPACING=he.reg(he.CP.letter_spacing),he.LIST_STYLE_IMAGE=he.reg(he.CP.list_style_image),he.MARGIN_RIGHT=he.reg(he.CP.margin_right),he.MAX_HEIGHT=he.reg(he.CP.max_height),he.MIN_HEIGHT=he.reg(he.CP.min_height),he.OPACITY=he.reg(he.CP.opacity),he.OUTLINE_COLOR=he.reg(he.CP.outline_color),he.OUTLINE_WIDTH=he.reg(he.CP.outline_width),he.PADDING=he.reg(he.CP.padding),he.PADDING_TOP=he.reg(he.CP.padding_top),he.PITCH_RANGE=he.reg(he.CP.pitch_range),he.RIGHT=he.reg(he.CP.right),he.STRESS=he.reg(he.CP.stress),he.TEXT_INDENT=he.reg(he.CP.text_indent),he.TEXT_SHADOW=he.reg(he.CP.text_shadow),he.VOLUME=he.reg(he.CP.volume),he.WORD_WRAP=he.reg(he.CP.word_wrap),he.ZOOM=he.reg(he.CP.zoom),he.BACKFACE_VISIBILITY=he.reg(he.CP.backface_visibility),he.BACKGROUND_CLIP=he.reg(he.CP.background_clip),he.BACKGROUND_POSITION=he.reg(he.CP.background_position),he.BORDER_BOTTOM_COLOR=he.reg(he.CP.border_bottom_color),he.BORDER_BOTTOM_STYLE=he.reg(he.CP.border_bottom_style),he.BORDER_COLOR=he.reg(he.CP.border_color),he.BORDER_LEFT_COLOR=he.reg(he.CP.border_left_color),he.BORDER_RIGHT_COLOR=he.reg(he.CP.border_right_color),he.BORDER_STYLE=he.reg(he.CP.border_style),he.BORDER_TOP_LEFT_RADIUS=he.reg(he.CP.border_top_left_radius),he.BORDER_TOP_WIDTH=he.reg(he.CP.border_top_width),he.BOX_SHADOW=he.reg(he.CP.box_shadow),he.CLIP=he.reg(he.CP.clip),he.DISPLAY_INSIDE=he.reg(he.CP.display_inside),he.FONT_SIZE=he.reg(he.CP.font_size),he.LINE_HEIGHT=he.reg(he.CP.line_height),he.MARGIN_LEFT=he.reg(he.CP.margin_left),he.MAX_WIDTH=he.reg(he.CP.max_width),he.OUTLINE_STYLE=he.reg(he.CP.outline_style),he.PADDING_BOTTOM=he.reg(he.CP.padding_bottom),he.PADDING_RIGHT=he.reg(he.CP.padding_right),he.PERSPECTIVE=he.reg(he.CP.perspective),he.RICHNESS=he.reg(he.CP.richness),he.TEXT_OVERFLOW=he.reg(he.CP.text_overflow),he.TOP=he.reg(he.CP.top),he.WIDTH=he.reg(he.CP.width),he.Z_INDEX=he.reg(he.CP.z_index),he.BACKGROUND=he.reg(he.CP.background),he.BACKGROUND_SIZE=he.reg(he.CP.background_size),he.BORDER_BOTTOM_LEFT_RADIUS=he.reg(he.CP.border_bottom_left_radius),he.BORDER_BOTTOM_WIDTH=he.reg(he.CP.border_bottom_width),he.BORDER_LEFT_STYLE=he.reg(he.CP.border_left_style),he.BORDER_RIGHT_STYLE=he.reg(he.CP.border_right_style),he.BORDER_TOP=he.reg(he.CP.border_top),he.BOTTOM=he.reg(he.CP.bottom),he.LIST_STYLE=he.reg(he.CP.list_style),he.MARGIN_TOP=he.reg(he.CP.margin_top),he.OUTLINE=he.reg(he.CP.outline),he.OVERFLOW_Y=he.reg(he.CP.overflow_y),he.PITCH=he.reg(he.CP.pitch),he.VERTICAL_ALIGN=he.reg(he.CP.vertical_align),he.WORD_SPACING=he.reg(he.CP.word_spacing),he.BACKGROUND_IMAGE=he.reg(he.CP.background_image),he.BORDER_BOTTOM_RIGHT_RADIUS=he.reg(he.CP.border_bottom_right_radius),he.BORDER_LEFT_WIDTH=he.reg(he.CP.border_left_width),he.BORDER_RIGHT_WIDTH=he.reg(he.CP.border_right_width),he.LEFT=he.reg(he.CP.left),he.MARGIN_BOTTOM=he.reg(he.CP.margin_bottom),he.PAUSE_AFTER=he.reg(he.CP.pause_after),he.SPEECH_RATE=he.reg(he.CP.speech_rate),he.TRANSITION_DURATION=he.reg(he.CP.transition_duration),he.BORDER_BOTTOM=he.reg(he.CP.border_bottom),he.BORDER_RIGHT=he.reg(he.CP.border_right),he.MARGIN=he.reg(he.CP.margin),he.PADDING_LEFT=he.reg(he.CP.padding_left),he.BORDER_LEFT=he.reg(he.CP.border_left),he.FONT=he.reg(he.CP.font),he.QUOTES=he.reg(he.CP.quotes),he.BORDER_TOP_RIGHT_RADIUS=he.reg(he.CP.border_top_right_radius),he.MIN_WIDTH=he.reg(he.CP.min_width);class ue{constructor(){this._options={allowedTags:["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","button","canvas","caption","center","cite","code","col","colgroup","colspan","command","data","datalist","dd","del","details","dfn","dir","div","dl","dt","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","img","input","ins","kbd","label","legend","li","map","mark","menu","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rowspan","s","samp","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],allowedAttributes:{"*":["class","dir","draggable","hidden","id","inert","itemprop","itemref","itemscope","lang","spellcheck","style","title","translate"],a:["accesskey","coords","href","hreflang","name","rel","shape","tabindex","target","type"],area:["accesskey","alt","coords","href","nohref","shape","tabindex"],audio:["autoplay","controls","loop","mediagroup","muted","preload","src"],bdo:["dir"],blockquote:["cite"],br:["clear"],button:["accesskey","data-commandlinker-args","data-commandlinker-command","disabled","name","tabindex","type","value"],canvas:["height","width"],caption:["align"],col:["align","char","charoff","span","valign","width"],colgroup:["align","char","charoff","span","valign","width"],command:["checked","command","disabled","icon","label","radiogroup","type"],data:["value"],del:["cite","datetime"],details:["open"],dir:["compact"],div:["align"],dl:["compact"],fieldset:["disabled"],font:["color","face","size"],form:["accept","action","autocomplete","enctype","method","name","novalidate"],h1:["align"],h2:["align"],h3:["align"],h4:["align"],h5:["align"],h6:["align"],hr:["align","noshade","size","width"],iframe:["align","frameborder","height","marginheight","marginwidth","width"],img:["align","alt","border","height","hspace","ismap","name","src","usemap","vspace","width"],input:["accept","accesskey","align","alt","autocomplete","checked","disabled","inputmode","ismap","list","max","maxlength","min","multiple","name","placeholder","readonly","required","size","src","step","tabindex","type","usemap","value"],ins:["cite","datetime"],label:["accesskey","for"],legend:["accesskey","align"],li:["type","value"],map:["name"],menu:["compact","label","type"],meter:["high","low","max","min","value"],ol:["compact","reversed","start","type"],optgroup:["disabled","label"],option:["disabled","label","selected","value"],output:["for","name"],p:["align"],pre:["width"],progress:["max","min","value"],q:["cite"],select:["autocomplete","disabled","multiple","name","required","size","tabindex"],source:["type"],table:["align","bgcolor","border","cellpadding","cellspacing","frame","rules","summary","width"],tbody:["align","char","charoff","valign"],td:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],textarea:["accesskey","autocomplete","cols","disabled","inputmode","name","placeholder","readonly","required","rows","tabindex","wrap"],tfoot:["align","char","charoff","valign"],th:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],thead:["align","char","charoff","valign"],tr:["align","bgcolor","char","charoff","valign"],track:["default","kind","label","srclang"],ul:["compact","type"],video:["autoplay","controls","height","loop","mediagroup","muted","poster","preload","src","width"]},allowedStyles:{"*":{"backface-visibility":[he.BACKFACE_VISIBILITY],background:[he.BACKGROUND],"background-attachment":[he.BACKGROUND_ATTACHMENT],"background-clip":[he.BACKGROUND_CLIP],"background-color":[he.BACKGROUND_COLOR],"background-image":[he.BACKGROUND_IMAGE],"background-origin":[he.BACKGROUND_ORIGIN],"background-position":[he.BACKGROUND_POSITION],"background-repeat":[he.BACKGROUND_REPEAT],"background-size":[he.BACKGROUND_SIZE],border:[he.BORDER],"border-bottom":[he.BORDER_BOTTOM],"border-bottom-color":[he.BORDER_BOTTOM_COLOR],"border-bottom-left-radius":[he.BORDER_BOTTOM_LEFT_RADIUS],"border-bottom-right-radius":[he.BORDER_BOTTOM_RIGHT_RADIUS],"border-bottom-style":[he.BORDER_BOTTOM_STYLE],"border-bottom-width":[he.BORDER_BOTTOM_WIDTH],"border-collapse":[he.BORDER_COLLAPSE],"border-color":[he.BORDER_COLOR],"border-left":[he.BORDER_LEFT],"border-left-color":[he.BORDER_LEFT_COLOR],"border-left-style":[he.BORDER_LEFT_STYLE],"border-left-width":[he.BORDER_LEFT_WIDTH],"border-radius":[he.BORDER_RADIUS],"border-right":[he.BORDER_RIGHT],"border-right-color":[he.BORDER_RIGHT_COLOR],"border-right-style":[he.BORDER_RIGHT_STYLE],"border-right-width":[he.BORDER_RIGHT_WIDTH],"border-spacing":[he.BORDER_SPACING],"border-style":[he.BORDER_STYLE],"border-top":[he.BORDER_TOP],"border-top-color":[he.BORDER_TOP_COLOR],"border-top-left-radius":[he.BORDER_TOP_LEFT_RADIUS],"border-top-right-radius":[he.BORDER_TOP_RIGHT_RADIUS],"border-top-style":[he.BORDER_TOP_STYLE],"border-top-width":[he.BORDER_TOP_WIDTH],"border-width":[he.BORDER_WIDTH],bottom:[he.BOTTOM],box:[he.BOX],"box-shadow":[he.BOX_SHADOW],"box-sizing":[he.BOX_SIZING],"caption-side":[he.CAPTION_SIDE],clear:[he.CLEAR],clip:[he.CLIP],color:[he.COLOR],cursor:[he.CURSOR],direction:[he.DIRECTION],display:[he.DISPLAY],"display-inside":[he.DISPLAY_INSIDE],"display-outside":[he.DISPLAY_OUTSIDE],elevation:[he.ELEVATION],"empty-cells":[he.EMPTY_CELLS],float:[he.FLOAT],font:[he.FONT],"font-family":[he.FONT_FAMILY],"font-size":[he.FONT_SIZE],"font-stretch":[he.FONT_STRETCH],"font-style":[he.FONT_STYLE],"font-variant":[he.FONT_VARIANT],"font-weight":[he.FONT_WEIGHT],height:[he.HEIGHT],left:[he.LEFT],"letter-spacing":[he.LETTER_SPACING],"line-height":[he.LINE_HEIGHT],"list-style":[he.LIST_STYLE],"list-style-image":[he.LIST_STYLE_IMAGE],"list-style-position":[he.LIST_STYLE_POSITION],"list-style-type":[he.LIST_STYLE_TYPE],margin:[he.MARGIN],"margin-bottom":[he.MARGIN_BOTTOM],"margin-left":[he.MARGIN_LEFT],"margin-right":[he.MARGIN_RIGHT],"margin-top":[he.MARGIN_TOP],"max-height":[he.MAX_HEIGHT],"max-width":[he.MAX_WIDTH],"min-height":[he.MIN_HEIGHT],"min-width":[he.MIN_WIDTH],opacity:[he.OPACITY],outline:[he.OUTLINE],"outline-color":[he.OUTLINE_COLOR],"outline-style":[he.OUTLINE_STYLE],"outline-width":[he.OUTLINE_WIDTH],overflow:[he.OVERFLOW],"overflow-wrap":[he.OVERFLOW_WRAP],"overflow-x":[he.OVERFLOW_X],"overflow-y":[he.OVERFLOW_Y],padding:[he.PADDING],"padding-bottom":[he.PADDING_BOTTOM],"padding-left":[he.PADDING_LEFT],"padding-right":[he.PADDING_RIGHT],"padding-top":[he.PADDING_TOP],"page-break-after":[he.PAGE_BREAK_AFTER],"page-break-before":[he.PAGE_BREAK_BEFORE],"page-break-inside":[he.PAGE_BREAK_INSIDE],"pause-after":[he.PAUSE_AFTER],perspective:[he.PERSPECTIVE],pitch:[he.PITCH],"pitch-range":[he.PITCH_RANGE],position:[he.POSITION],quotes:[he.QUOTES],resize:[he.RESIZE],richness:[he.RICHNESS],right:[he.RIGHT],speak:[he.SPEAK],"speak-header":[he.SPEAK_HEADER],"speak-numeral":[he.SPEAK_NUMERAL],"speak-punctuation":[he.SPEAK_PUNCTUATION],"speech-rate":[he.SPEECH_RATE],stress:[he.STRESS],"table-layout":[he.TABLE_LAYOUT],"text-align":[he.TEXT_ALIGN],"text-decoration":[he.TEXT_DECORATION],"text-indent":[he.TEXT_INDENT],"text-overflow":[he.TEXT_OVERFLOW],"text-shadow":[he.TEXT_SHADOW],"text-transform":[he.TEXT_TRANSFORM],"text-wrap":[he.TEXT_WRAP],top:[he.TOP],"unicode-bidi":[he.UNICODE_BIDI],"vertical-align":[he.VERTICAL_ALIGN],visibility:[he.VISIBILITY],volume:[he.VOLUME],"white-space":[he.WHITE_SPACE],width:[he.WIDTH],"word-break":[he.WORD_BREAK],"word-spacing":[he.WORD_SPACING],"word-wrap":[he.WORD_WRAP],"z-index":[he.Z_INDEX],zoom:[he.ZOOM]}},transformTags:{a:ce().simpleTransform("a",{rel:"nofollow"}),input:ce().simpleTransform("input",{disabled:"disabled"})},allowedSchemesByTag:{img:ce().defaults.allowedSchemes.concat(["attachment"])},allowedSchemesAppliedToAttributes:["href","cite"]}}sanitize(e,t){return ce()(e,Object.assign(Object.assign({},this._options),t||{}))}}const pe=new ue,_e=new o.Token("@jupyterlab/apputils:ISplashScreen");var ge,me=n(98669);class be{constructor(e){this._current=null,this._links=[],this._overrides={},this._overrideProps={},this._outstanding=null,this._pending=0,this._requests={},this._themes={},this._themeChanged=new r.Signal(this);const{host:t,key:n,splash:s,url:i}=e;this.translator=e.translator||U.nullTranslator,this._trans=this.translator.load("jupyterlab");const o=e.settings;this._base=i,this._host=t,this._splash=s||null,o.load(n).then((e=>{this._settings=e,this._initOverrideProps(),this._settings.changed.connect(this._loadSettings,this),this._loadSettings()}))}get theme(){return this._current}get themes(){return Object.keys(this._themes)}get themeChanged(){return this._themeChanged}getCSS(e){var t;return null!==(t=this._overrides[e])&&void 0!==t?t:getComputedStyle(document.documentElement).getPropertyValue(`--jp-${e}`)}loadCSS(e){const t=this._base,n=z.URLExt.isLocal(e)?z.URLExt.join(t,e):e,s=this._links;return new Promise(((e,t)=>{const i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",n),i.addEventListener("load",(()=>{e(void 0)})),i.addEventListener("error",(()=>{t(`Stylesheet failed to load: ${n}`)})),document.body.appendChild(i),s.push(i),this.loadCSSOverrides()}))}loadCSSOverrides(){var e;const t=null!==(e=this._settings.user.overrides)&&void 0!==e?e:{};Object.keys(Object.assign(Object.assign({},this._overrides),t)).forEach((e=>{const n=t[e];n&&this.validateCSS(e,n)?document.documentElement.style.setProperty(`--jp-${e}`,n):(delete t[e],document.documentElement.style.removeProperty(`--jp-${e}`))})),this._overrides=t}validateCSS(e,t){const n=this._overrideProps[e];return n?!!CSS.supports(n,t)||(console.warn(`CSS validation failed: invalid value.\nkey: '${e}', val: '${t}', prop: '${n}'`),!1):(console.warn(`CSS validation failed: could not find property corresponding to key.\nkey: '${e}', val: '${t}'`),!1)}register(e){const{name:t}=e,n=this._themes;if(n[t])throw new Error(`Theme already registered for ${t}`);return n[t]=e,new me.DisposableDelegate((()=>{delete n[t]}))}setCSSOverride(e,t){return this._settings.set("overrides",Object.assign(Object.assign({},this._overrides),{[e]:t}))}setTheme(e){return this._settings.set("theme",e)}isLight(e){return this._themes[e].isLight}incrFontSize(e){return this._incrFontSize(e,!0)}decrFontSize(e){return this._incrFontSize(e,!1)}themeScrollbars(e){return!!this._settings.composite["theme-scrollbars"]&&!!this._themes[e].themeScrollbars}isToggledThemeScrollbars(){return!!this._settings.composite["theme-scrollbars"]}toggleThemeScrollbars(){return this._settings.set("theme-scrollbars",!this._settings.composite["theme-scrollbars"])}getDisplayName(e){var t,n;return null!==(n=null===(t=this._themes[e])||void 0===t?void 0:t.displayName)&&void 0!==n?n:e}_incrFontSize(e,t=!0){var n;const s=(null!==(n=this.getCSS(e))&&void 0!==n?n:"13px").split(/([a-zA-Z]+)/),i=(t?1:-1)*("em"===s[1]?.1:1);return this.setCSSOverride(e,`${Number(s[0])+i}${s[1]}`)}_initOverrideProps(){const e=this._settings.schema.definitions.cssOverrides.properties;Object.keys(e).forEach((t=>{this._overrideProps[t]=e[t].description}))}_loadSettings(){const e=this._outstanding,t=this._pending,n=this._requests;t&&(window.clearTimeout(t),this._pending=0);const s=this._settings,i=this._themes,o=s.composite.theme;if(e)return e.then((()=>{this._loadSettings()})).catch((()=>{this._loadSettings()})),void(this._outstanding=null);if(n[o]=n[o]?n[o]+1:1,i[o])return this._outstanding=this._loadTheme(o),void delete n[o];if(n[o]>20){const e=s.default("theme");return delete n[o],i[e]?(console.warn(`Could not load theme ${o}, using default ${e}.`),void(this._outstanding=this._loadTheme(e))):void this._onError(this._trans.__("Neither theme %1 nor default %2 loaded.",o,e))}this._pending=window.setTimeout((()=>{this._loadSettings()}),75)}_loadTheme(e){const t=this._current,n=this._links,s=this._themes,i=this._splash?this._splash.show(s[e].isLight):new me.DisposableDelegate((()=>{}));n.forEach((e=>{e.parentElement&&e.parentElement.removeChild(e)})),n.length=0;const o=t?s[t].unload():Promise.resolve();return Promise.all([o,s[e].load()]).then((()=>{this._current=e,this._themeChanged.emit({name:"theme",oldValue:t,newValue:e}),this._host.hide(),requestAnimationFrame((()=>{this._host.show(),ge.fitAll(this._host),i.dispose()}))})).catch((e=>{this._onError(e),i.dispose()}))}_onError(e){S({title:this._trans.__("Error Loading Theme"),body:String(e),buttons:[k.okButton({label:this._trans.__("OK")})]})}}!function(e){e.fitAll=function e(t){(0,b.each)(t.children(),e),t.fit()}}(ge||(ge={}));const fe=new o.Token("@jupyterlab/apputils:ISessionContextDialogs"),Ce=new o.Token("@jupyterlab/apputils:IThemeManager"),ye=new o.Token("@jupyterlab/apputils:ISanitizer"),ve=new o.Token("@jupyterlab/apputils:IWindowResolver");class we{get name(){return this._name}resolve(e){return Ee.resolve(e).then((e=>{this._name=e}))}}var Ee;!function(e){const t="@jupyterlab/statedb:StateDB",n=`${t}:beacon`,s=Math.floor(200+300*Math.random()),i=`${t}:window`;let r=null,a=null;const l=new o.PromiseDelegate,d={};let c=null,h=!1;function u(e){if(null===e)return;const{localStorage:t}=window;t.setItem(i,`${e}-${(new Date).getTime()}`)}function p(){h=!0,r=null,l.reject(`Window name candidate "${a}" already exists`)}e.resolve=function(e){if(h)return l.promise;if(a=e,a in d)return p(),l.promise;const{localStorage:t,setTimeout:i}=window;return i((()=>{if(!h){if(!a||a in d)return p();h=!0,r=null,l.resolve(c=a),u(c)}}),s),r=`${Math.random()}-${(new Date).getTime()}`,t.setItem(n,r),l.promise},window.addEventListener("storage",(e=>{const{key:t,newValue:s}=e;if(null===s)return;if(t===n&&s!==r&&null!==a)return void u(h?c:a);if(h||t!==i)return;const o=s.replace(/\-\d+$/,"");d[o]=null,a&&!(a in d)||p()}))}(Ee||(Ee={}))}}]);
//# sourceMappingURL=4702.d6b97fef03737ca5cde4.js.map