(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[4728,789],{70789:(e,o,t)=>{"use strict";t.r(o),t.d(o,{default:()=>k});var n,i=t(79028),r=t(77031),d=t(87939),s=t(48202),a=t(40100),c=t(80198),l=t(85),u=t(18010);!function(e){e.dismiss="tooltip:dismiss",e.launchConsole="tooltip:launch-console",e.launchNotebook="tooltip:launch-notebook",e.launchFile="tooltip:launch-file"}(n||(n={}));const m={id:"@jupyterlab/tooltip-extension:manager",autoStart:!0,provides:u.ITooltipManager,activate:e=>{let o=null;return e.commands.addCommand(n.dismiss,{execute:()=>{o&&(o.dispose(),o=null)}}),{invoke(e){const{anchor:t,editor:n,kernel:i,rendermime:d}=e;return o&&(o.dispose(),o=null),f.fetch({detail:0,editor:n,kernel:i}).then((e=>{o=new u.Tooltip({anchor:t,bundle:e,editor:n,rendermime:d}),r.Widget.attach(o,document.body)})).catch((()=>{}))}}}},p={id:"@jupyterlab/tooltip-extension:consoles",autoStart:!0,requires:[u.ITooltipManager,s.IConsoleTracker],activate:(e,o,t)=>{e.commands.addCommand(n.launchConsole,{execute:()=>{var e,n;const i=t.currentWidget;if(!i)return;const r=i.console,d=null===(e=r.promptCell)||void 0===e?void 0:e.editor,s=null===(n=r.sessionContext.session)||void 0===n?void 0:n.kernel,a=r.rendermime;return d&&s&&a?o.invoke({anchor:r,editor:d,kernel:s,rendermime:a}):void 0}})}},v={id:"@jupyterlab/tooltip-extension:notebooks",autoStart:!0,requires:[u.ITooltipManager,c.INotebookTracker],activate:(e,o,t)=>{e.commands.addCommand(n.launchNotebook,{execute:()=>{var e,n;const i=t.currentWidget;if(!i)return;const r=i.content,d=null===(e=r.activeCell)||void 0===e?void 0:e.editor,s=null===(n=i.sessionContext.session)||void 0===n?void 0:n.kernel,a=r.rendermime;return d&&s&&a?o.invoke({anchor:r,editor:d,kernel:s,rendermime:a}):void 0}})}},h={id:"@jupyterlab/tooltip-extension:files",autoStart:!0,requires:[u.ITooltipManager,a.IEditorTracker,l.IRenderMimeRegistry],activate:(e,o,t,r)=>{const d={},s=e.serviceManager.sessions,a=(e,o)=>{t.forEach((e=>{const t=(0,i.find)(o,(o=>e.context.path===o.path));if(t){const o=d[e.id];if(o&&o.id===t.id)return;o&&(delete d[e.id],o.dispose());const n=s.connectTo({model:t});d[e.id]=n}else{const o=d[e.id];o&&(o.dispose(),delete d[e.id])}}))};a(0,(0,i.toArray)(s.running())),s.runningChanged.connect(a),t.widgetAdded.connect(((e,o)=>{o.disposed.connect((e=>{const o=d[e.id];o&&(o.dispose(),delete d[e.id])}))})),e.commands.addCommand(n.launchFile,{execute:async()=>{const e=t.currentWidget,n=e&&d[e.id]&&d[e.id].kernel;if(!n)return;const i=e.content,s=null==i?void 0:i.editor;return s&&n&&r?o.invoke({anchor:i,editor:s,kernel:n,rendermime:r}):void 0}})}},k=[m,p,v,h];var f;!function(e){let o=0;e.fetch=function(e){const{detail:t,editor:n,kernel:i}=e,r=n.model.value.text,s=n.getCursorPosition(),a=d.Text.jsIndexToCharIndex(n.getOffsetAt(s),r);if(!r||!i)return Promise.reject(void 0);const c={code:r,cursor_pos:a,detail_level:t||0},l=++o;return i.requestInspect(c).then((e=>{const t=e.content;return l!==o?Promise.reject(void 0):"ok"===t.status&&t.found?Promise.resolve(t.data):Promise.reject(void 0)}))}}(f||(f={}))}}]);
//# sourceMappingURL=4728.46408086e329bf6b14f8.js.map