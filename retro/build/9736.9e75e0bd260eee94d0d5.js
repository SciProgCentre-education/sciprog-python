"use strict";(self.webpackChunk_JUPYTERLAB_CORE_OUTPUT=self.webpackChunk_JUPYTERLAB_CORE_OUTPUT||[]).push([[9736],{9736:(e,t,n)=>{n.r(t),n.d(t,{Clipboard:()=>s,Collapse:()=>d,CommandLinker:()=>u,CommandToolbarButton:()=>de,CommandToolbarButtonComponent:()=>ae,DOMUtils:()=>I,Dialog:()=>D,HoverBox:()=>x,ICommandPalette:()=>p,IFrame:()=>M,ISanitizer:()=>Te,ISessionContextDialogs:()=>we,ISplashScreen:()=>fe,IThemeManager:()=>Ee,IWindowResolver:()=>Oe,InputDialog:()=>L,MainAreaWidget:()=>ce,MenuFactory:()=>he,ModalCommandPalette:()=>g,Printing:()=>F,ReactWidget:()=>w,Sanitizer:()=>me,SessionContext:()=>J,Spinner:()=>V,Styling:()=>m,ThemeManager:()=>ye,Toolbar:()=>se,ToolbarButton:()=>re,ToolbarButtonComponent:()=>ie,UseSignal:()=>T,VDomModel:()=>O,VDomRenderer:()=>E,WidgetTracker:()=>S,WindowResolver:()=>Pe,addCommandToolbarButtonClass:()=>le,addToolbarButtonClass:()=>oe,defaultSanitizer:()=>be,sessionContextDialogs:()=>Q,showDialog:()=>k,showErrorMessage:()=>A});var s,i,o=n(93315);!function(e){function t(e,t="copy"){let n=window.getSelection();const s=[];for(let e=0,t=(null==n?void 0:n.rangeCount)||0;e<t;++e)s[e]=n.getRangeAt(e).cloneRange();const i=document.createRange();if(i.selectNodeContents(e),n&&(n.removeAllRanges(),n.addRange(i)),document.execCommand(t),n=window.getSelection(),n){n.removeAllRanges();for(let e=0,t=s.length;e<t;++e)n.addRange(s[e])}}e.getInstance=function(){return i.instance},e.setInstance=function(e){i.instance=e},e.copyToSystem=function(e){const n=document.body,s=t=>{const i=t.clipboardData||window.clipboardData;"string"==typeof e?i.setData("text",e):e.types().map((t=>{i.setData(t,e.getData(t))})),t.preventDefault(),n.removeEventListener("copy",s)};n.addEventListener("copy",s),t(n)},e.generateEvent=t}(s||(s={})),function(e){e.instance=new o.MimeData}(i||(i={}));var r=n(98993),a=n(41649),l=n(18151);class d extends l.Widget{constructor(e){super(e),this._collapseChanged=new a.Signal(this);const{widget:t,collapsed:n=!0}=e;this.addClass("jp-Collapse"),this._header=new l.Widget,this._header.addClass("jp-Collapse-header"),this._content=new l.Panel,this._content.addClass("jp-Collapse-contents");const s=new l.PanelLayout;this.layout=s,s.addWidget(this._header),s.addWidget(this._content),this.widget=t,this.collapsed=n}get widget(){return this._widget}set widget(e){const t=this._widget;t&&(t.title.changed.disconnect(this._onTitleChanged,this),t.parent=null),this._widget=e,e.title.changed.connect(this._onTitleChanged,this),this._onTitleChanged(e.title),this._content.addWidget(e)}get collapsed(){return this._collapsed}set collapsed(e){e!==this._collapsed&&(e?this._collapse():this._uncollapse())}get collapseChanged(){return this._collapseChanged}toggle(){this.collapsed=!this.collapsed}dispose(){this.isDisposed||(this._header=null,this._widget=null,this._content=null,super.dispose())}handleEvent(e){switch(e.type){case"click":this._evtClick(e)}}onAfterAttach(e){this._header.node.addEventListener("click",this)}onBeforeDetach(e){this._header.node.removeEventListener("click",this)}_collapse(){this._collapsed=!0,this._content&&this._content.hide(),this._setHeader(),this._collapseChanged.emit(void 0)}_uncollapse(){this._collapsed=!1,this._content&&this._content.show(),this._setHeader(),this._collapseChanged.emit(void 0)}_evtClick(e){this.toggle()}_onTitleChanged(e){this._setHeader()}_setHeader(){(this._collapsed?r.caretUpIcon:r.caretDownIcon).element({container:this._header.node,label:this._widget.title.label,elementPosition:"right",height:"28px"})}}const c="commandlinker-command",h="commandlinker-args";class u{constructor(e){this._isDisposed=!1,this._commands=e.commands,document.body.addEventListener("click",this)}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,document.body.removeEventListener("click",this))}connectNode(e,t,n){return e.setAttribute(`data-${c}`,t),void 0!==n&&e.setAttribute(`data-${h}`,JSON.stringify(n)),e}disconnectNode(e){return e.removeAttribute(`data-${c}`),e.removeAttribute(`data-${h}`),e}handleEvent(e){switch(e.type){case"click":this._evtClick(e);break;default:return}}populateVNodeDataset(e,t){let n;return n=void 0!==t?{[h]:JSON.stringify(t),[c]:e}:{[c]:e},n}_evtClick(e){let t=e.target;for(;t&&t.parentElement;){if(t.hasAttribute(`data-${c}`)){e.preventDefault();const n=t.getAttribute(`data-${c}`);if(!n)return;const s=t.getAttribute(`data-${h}`);let i=o.JSONExt.emptyObject;return s&&(i=JSON.parse(s)),void this._commands.execute(n,i)}t=t.parentElement}}}const p=new o.Token("@jupyterlab/apputils:ICommandPalette"),_="jp-SearchIconGroup";class g extends l.Panel{constructor(e){super(),this.addClass("jp-ModalCommandPalette"),this.id="modal-command-palette",this.palette=e.commandPalette,this._commandPalette.commands.commandExecuted.connect((()=>{this.isAttached&&this.isVisible&&this.hideAndReset()})),this.node.tabIndex=0}get palette(){return this._commandPalette}set palette(e){this._commandPalette=e,this.searchIconGroup||this._commandPalette.inputNode.insertAdjacentElement("afterend",this.createSearchIconGroup()),this.addWidget(e),this.hideAndReset()}attach(){l.Widget.attach(this,document.body)}detach(){l.Widget.detach(this)}hideAndReset(){this.hide(),this._commandPalette.inputNode.value="",this._commandPalette.refresh()}handleEvent(e){switch(e.type){case"keydown":this._evtKeydown(e);break;case"blur":this.node.contains(e.target)&&!this.node.contains(e.relatedTarget)&&(e.stopPropagation(),this.hideAndReset());break;case"contextmenu":e.preventDefault(),e.stopPropagation()}}get searchIconGroup(){return this._commandPalette.node.getElementsByClassName(_)[0]}createSearchIconGroup(){const e=document.createElement("div");return e.classList.add(_),r.searchIcon.render(e),e}onAfterAttach(e){this.node.addEventListener("keydown",this,!0),this.node.addEventListener("contextmenu",this,!0)}onAfterDetach(e){this.node.removeEventListener("keydown",this,!0),this.node.removeEventListener("contextmenu",this,!0)}onBeforeHide(e){document.removeEventListener("blur",this,!0)}onAfterShow(e){document.addEventListener("blur",this,!0)}onActivateRequest(e){this.isAttached&&(this.show(),this._commandPalette.activate())}_evtKeydown(e){switch(e.keyCode){case 27:e.stopPropagation(),e.preventDefault(),this.hideAndReset()}}}var m,b,f=n(35822),C=n(28685),v=n(96927);!function(e){function t(e,t,s=""){e.localName===t&&e.classList.add("jp-mod-styled"),"select"===e.localName&&n(e);const i=e.getElementsByTagName(t);for(let e=0;e<i.length;e++){const o=i[e];o.classList.add("jp-mod-styled"),s&&o.classList.add(s),"select"===t&&n(o)}}function n(e){const t=document.createElement("div");return t.classList.add("jp-select-wrapper"),e.addEventListener("focus",b.onFocus),e.addEventListener("blur",b.onFocus),e.classList.add("jp-mod-styled"),e.parentElement&&e.parentElement.replaceChild(t,e),t.appendChild(e),t.appendChild(r.caretDownEmptyIcon.element({tag:"span",stylesheet:"select",right:"8px",top:"5px",width:"18px"})),t}e.styleNode=function(e,n=""){t(e,"select",n),t(e,"textarea",n),t(e,"input",n),t(e,"button",n)},e.styleNodeByTag=t,e.wrapSelect=n}(m||(m={})),function(e){e.onFocus=function(e){const t=e.target.parentElement;t&&("focus"===e.type?t.classList.add("jp-mod-focused"):t.classList.remove("jp-mod-focused"))}}(b||(b={}));var y=n(54819);class w extends l.Widget{static create(e){return new class extends w{render(){return e}}}onUpdateRequest(e){this.renderPromise=this.renderDOM()}onAfterAttach(e){C.MessageLoop.sendMessage(this,l.Widget.Msg.UpdateRequest)}onBeforeDetach(e){y.unmountComponentAtNode(this.node)}renderDOM(){return new Promise((e=>{const t=this.render();(Array.isArray(t)||t)&&y.render(t,this.node,e)}))}}class E extends w{constructor(e){super(),this._modelChanged=new a.Signal(this),this.model=null!=e?e:null}get modelChanged(){return this._modelChanged}set model(e){this._model!==e&&(this._model&&this._model.stateChanged.disconnect(this.update,this),this._model=e,e&&e.stateChanged.connect(this.update,this),this.update(),this._modelChanged.emit(void 0))}get model(){return this._model}dispose(){this.isDisposed||(this._model=null,super.dispose())}}class T extends v.Component{constructor(e){super(e),this.slot=(e,t)=>{this.props.shouldUpdate&&!this.props.shouldUpdate(e,t)||this.setState({value:[e,t]})},this.state={value:[this.props.initialSender,this.props.initialArgs]}}componentDidMount(){this.props.signal.connect(this.slot)}componentWillUnmount(){this.props.signal.disconnect(this.slot)}render(){return this.props.children(...this.state.value)}}class O{constructor(){this.stateChanged=new a.Signal(this),this._isDisposed=!1}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,a.Signal.clearData(this))}}var P,R=n(84495);class S{constructor(e){this._currentChanged=new a.Signal(this),this._isDisposed=!1,this._widgetAdded=new a.Signal(this),this._widgetUpdated=new a.Signal(this);const t=this._focusTracker=new l.FocusTracker,n=this._pool=new R.RestorablePool(e);this.namespace=e.namespace,t.currentChanged.connect(((e,t)=>{t.newValue!==this.currentWidget&&(n.current=t.newValue)}),this),n.added.connect(((e,t)=>{this._widgetAdded.emit(t)}),this),n.currentChanged.connect(((e,s)=>{null===s&&t.currentWidget?n.current=t.currentWidget:(this.onCurrentChanged(s),this._currentChanged.emit(s))}),this),n.updated.connect(((e,t)=>{this._widgetUpdated.emit(t)}),this)}get currentChanged(){return this._currentChanged}get currentWidget(){return this._pool.current||null}get restored(){return this._pool.restored}get size(){return this._pool.size}get widgetAdded(){return this._widgetAdded}get widgetUpdated(){return this._widgetUpdated}async add(e){this._focusTracker.add(e),await this._pool.add(e),this._focusTracker.activeWidget||(this._pool.current=e)}get isDisposed(){return this._isDisposed}dispose(){this.isDisposed||(this._isDisposed=!0,this._pool.dispose(),this._focusTracker.dispose(),a.Signal.clearData(this))}find(e){return this._pool.find(e)}forEach(e){return this._pool.forEach(e)}filter(e){return this._pool.filter(e)}inject(e){return this._pool.inject(e)}has(e){return this._pool.has(e)}async restore(e){return this._pool.restore(e)}async save(e){return this._pool.save(e)}onCurrentChanged(e){}}function k(e={}){return new D(e).launch()}function A(e,t,n=[D.okButton({label:"Dismiss"})]){console.warn("Showing error:",t);const s="string"==typeof t?t:t.message,i=e+"----"+s,o=P.errorMessagePromiseCache.get(i);if(o)return o;{const t=k({title:e,body:s,buttons:n}).then((()=>{P.errorMessagePromiseCache.delete(i)}),(e=>{throw P.errorMessagePromiseCache.delete(i),e}));return P.errorMessagePromiseCache.set(i,t),t}}class D extends l.Widget{constructor(e={}){super(),this._focusNodeSelector="",this.addClass("jp-Dialog");const t=P.handleOptions(e),n=t.renderer;this._host=t.host,this._defaultButton=t.defaultButton,this._buttons=t.buttons,this._hasClose=t.hasClose,this._buttonNodes=(0,f.toArray)((0,f.map)(this._buttons,(e=>n.createButtonNode(e))));const s=this.layout=new l.PanelLayout,i=new l.Panel;i.addClass("jp-Dialog-content"),s.addWidget(i),this._body=t.body;const o=n.createHeader(t.title,(()=>this.reject()),e),r=n.createBody(t.body),a=n.createFooter(this._buttonNodes);i.addWidget(o),i.addWidget(r),i.addWidget(a),this._primary=this._buttonNodes[this._defaultButton],this._focusNodeSelector=e.focusNodeSelector,D.tracker.add(this)}dispose(){const e=this._promise;e&&(this._promise=null,e.reject(void 0),f.ArrayExt.removeFirstOf(P.launchQueue,e.promise)),super.dispose()}launch(){if(this._promise)return this._promise.promise;const e=this._promise=new o.PromiseDelegate,t=Promise.all(P.launchQueue);return P.launchQueue.push(this._promise.promise),t.then((()=>this._promise?(l.Widget.attach(this,this._host),e.promise):Promise.resolve({button:D.cancelButton(),value:null})))}resolve(e){this._promise&&(void 0===e&&(e=this._defaultButton),this._resolve(this._buttons[e]))}reject(){this._promise&&this._resolve(D.cancelButton())}handleEvent(e){switch(e.type){case"keydown":this._evtKeydown(e);break;case"click":this._evtClick(e);break;case"focus":this._evtFocus(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}}onAfterAttach(e){const t=this.node;if(t.addEventListener("keydown",this,!0),t.addEventListener("contextmenu",this,!0),t.addEventListener("click",this,!0),document.addEventListener("focus",this,!0),this._first=P.findFirstFocusable(this.node),this._original=document.activeElement,this._focusNodeSelector){const e=this.node.querySelector(".jp-Dialog-body"),t=null==e?void 0:e.querySelector(this._focusNodeSelector);t&&(this._primary=t)}this._primary.focus()}onAfterDetach(e){const t=this.node;t.removeEventListener("keydown",this,!0),t.removeEventListener("contextmenu",this,!0),t.removeEventListener("click",this,!0),document.removeEventListener("focus",this,!0),this._original.focus()}onCloseRequest(e){this._promise&&this.reject(),super.onCloseRequest(e)}_evtClick(e){if(!this.node.getElementsByClassName("jp-Dialog-content")[0].contains(e.target))return e.stopPropagation(),e.preventDefault(),void(this._hasClose&&this.reject());for(const t of this._buttonNodes)if(t.contains(e.target)){const e=this._buttonNodes.indexOf(t);this.resolve(e)}}_evtKeydown(e){switch(e.keyCode){case 27:e.stopPropagation(),e.preventDefault(),this._hasClose&&this.reject();break;case 37:{const t=document.activeElement;if(t instanceof HTMLButtonElement){let n=this._buttonNodes.indexOf(t)-1;n<0&&(n=this._buttonNodes.length-1);const s=this._buttonNodes[n];e.stopPropagation(),e.preventDefault(),s.focus()}break}case 39:{const t=document.activeElement;if(t instanceof HTMLButtonElement){let n=this._buttonNodes.indexOf(t)+1;n==this._buttons.length&&(n=0);const s=this._buttonNodes[n];e.stopPropagation(),e.preventDefault(),s.focus()}break}case 9:{const t=this._buttonNodes[this._buttons.length-1];document.activeElement!==t||e.shiftKey||(e.stopPropagation(),e.preventDefault(),this._first.focus());break}case 13:{e.stopPropagation(),e.preventDefault();const t=document.activeElement;let n;t instanceof HTMLButtonElement&&(n=this._buttonNodes.indexOf(t)),this.resolve(n);break}}}_evtFocus(e){const t=e.target;this.node.contains(t)||(e.stopPropagation(),this._buttonNodes[this._defaultButton].focus())}_resolve(e){const t=this._promise;if(!t)return void this.dispose();this._promise=null,f.ArrayExt.removeFirstOf(P.launchQueue,t.promise);const n=this._body;let s=null;e.accept&&n instanceof l.Widget&&"function"==typeof n.getValue&&(s=n.getValue()),this.dispose(),t.resolve({button:e,value:s})}}!function(e){function t(e){e.accept=!1!==e.accept;const t=e.accept?"OK":"Cancel";return{label:e.label||t,iconClass:e.iconClass||"",iconLabel:e.iconLabel||"",caption:e.caption||"",className:e.className||"",accept:e.accept,actions:e.actions||[],displayType:e.displayType||"default"}}e.createButton=t,e.cancelButton=function(e={}){return e.accept=!1,t(e)},e.okButton=function(e={}){return e.accept=!0,t(e)},e.warnButton=function(e={}){return e.displayType="warn",t(e)},e.flush=function(){e.tracker.forEach((e=>{e.dispose()}))};class n{createHeader(e,t=(()=>{}),n={}){let s;return s="string"==typeof e?w.create(v.createElement(v.Fragment,null,e,n.hasClose&&v.createElement(r.Button,{className:"jp-Dialog-close-button",onMouseDown:e=>{0===e.button&&(e.preventDefault(),t())},onKeyDown:e=>{const{key:n}=e;"Enter"!==n&&" "!==n||t()},title:"Cancel",minimal:!0},v.createElement(r.LabIcon.resolveReact,{icon:r.closeIcon,iconClass:"jp-Icon",className:"jp-ToolbarButtonComponent-icon",tag:"span"})))):w.create(e),s.addClass("jp-Dialog-header"),m.styleNode(s.node),s}createBody(e){let t;return"string"==typeof e?(t=new l.Widget({node:document.createElement("span")}),t.node.textContent=e):e instanceof l.Widget?t=e:(t=w.create(e),C.MessageLoop.sendMessage(t,l.Widget.Msg.UpdateRequest)),t.addClass("jp-Dialog-body"),m.styleNode(t.node),t}createFooter(e){const t=new l.Widget;return t.addClass("jp-Dialog-footer"),(0,f.each)(e,(e=>{t.node.appendChild(e)})),m.styleNode(t.node),t}createButtonNode(e){const t=document.createElement("button");return t.className=this.createItemClass(e),t.appendChild(this.renderIcon(e)),t.appendChild(this.renderLabel(e)),t}createItemClass(e){let t="jp-Dialog-button";e.accept?t+=" jp-mod-accept":t+=" jp-mod-reject","warn"===e.displayType&&(t+=" jp-mod-warn");const n=e.className;return n&&(t+=` ${n}`),t}renderIcon(e){const t=document.createElement("div");return t.className=this.createIconClass(e),t.appendChild(document.createTextNode(e.iconLabel)),t}createIconClass(e){const t="jp-Dialog-buttonIcon",n=e.iconClass;return n?`${t} ${n}`:t}renderLabel(e){const t=document.createElement("div");return t.className="jp-Dialog-buttonLabel",t.title=e.caption,t.appendChild(document.createTextNode(e.label)),t}}e.Renderer=n,e.defaultRenderer=new n,e.tracker=new S({namespace:"@jupyterlab/apputils:Dialog"})}(D||(D={})),function(e){e.launchQueue=[],e.errorMessagePromiseCache=new Map,e.handleOptions=function(e={}){var t,n,s,i,o,r,a,l;const d=null!==(t=e.buttons)&&void 0!==t?t:[D.cancelButton(),D.okButton()];return{title:null!==(n=e.title)&&void 0!==n?n:"",body:null!==(s=e.body)&&void 0!==s?s:"",host:null!==(i=e.host)&&void 0!==i?i:document.body,buttons:d,defaultButton:null!==(o=e.defaultButton)&&void 0!==o?o:d.length-1,renderer:null!==(r=e.renderer)&&void 0!==r?r:D.defaultRenderer,focusNodeSelector:null!==(a=e.focusNodeSelector)&&void 0!==a?a:"",hasClose:null===(l=e.hasClose)||void 0===l||l}},e.findFirstFocusable=function(e){const t=["input","select","a[href]","textarea","button","[tabindex]"].join(",");return e.querySelectorAll(t)[0]}}(P||(P={}));var I,B=n(38397);!function(e){e.hitTestNodes=function(e,t,n){return f.ArrayExt.findFirstIndex(e,(e=>B.ElementExt.hitTest(e,t,n)))},e.findElement=function(e,t){return e.querySelector(`.${t}`)},e.findElements=function(e,t){return e.getElementsByClassName(t)},e.createDomID=function(){return`id-${o.UUID.uuid4()}`}}(I||(I={}));const N="jp-mod-outofview";var x,$,L;!function(e){e.setGeometry=function(e){const{anchor:t,host:n,node:s,privilege:i}=e;if(s.classList.add("jp-HoverBox"),s.classList.add(N),!n.contains(document.elementFromPoint(t.left,t.top)))return;s.style.maxHeight="",s.style.marginTop="",s.classList.remove(N);const o=e.style||window.getComputedStyle(s),r=window.innerHeight,a=t.top,l=r-t.bottom,d=parseInt(o.marginTop,10)||0,c=parseInt(o.minHeight,10)||e.minHeight;let h=parseInt(o.maxHeight,10)||e.maxHeight;const u="forceAbove"!==i&&("forceBelow"===i||("above"===i?a<h&&a<l:l>=h||l>=a));if(u?h=Math.min(l-d,h):(h=Math.min(a,h),s.style.marginTop="0px"),s.style.maxHeight=`${h}px`,!(h>c&&(l>=c||a>=c)))return void s.classList.add(N);const p=e.offset&&e.offset.vertical&&e.offset.vertical.above||0,_=e.offset&&e.offset.vertical&&e.offset.vertical.below||0,g=u?r-l+_:a-s.getBoundingClientRect().height+p;s.style.top=`${Math.floor(g)}px`;const m=e.offset&&e.offset.horizontal||0;let b=t.left+m;s.style.left=`${Math.ceil(b)}px`,s.style.width="auto",s.scrollHeight>=h&&(s.style.width=""+(2*s.offsetWidth-s.clientWidth),s.scrollTop=0);const f=s.getBoundingClientRect().right;f>window.innerWidth&&(b-=f-window.innerWidth,s.style.left=`${Math.ceil(b)}px`)}}(x||(x={}));class M extends l.Widget{constructor(e={}){super({node:$.createNode()}),this._sandbox=[],this.addClass("jp-IFrame"),this.sandbox=e.sandbox||[],this.referrerPolicy=e.referrerPolicy||"no-referrer"}get referrerPolicy(){return this._referrerPolicy}set referrerPolicy(e){this._referrerPolicy!==e&&(this._referrerPolicy=e,this.node.querySelector("iframe").setAttribute("referrerpolicy",e))}get sandbox(){return this._sandbox.slice()}set sandbox(e){this._sandbox=e.slice();const t=this.node.querySelector("iframe"),n=e.length?e.join(" "):"";t.setAttribute("sandbox",n)}get url(){return this.node.querySelector("iframe").getAttribute("src")||""}set url(e){this.node.querySelector("iframe").setAttribute("src",e)}}!function(e){e.createNode=function(){const e=document.createElement("div"),t=document.createElement("iframe");return t.setAttribute("sandbox",""),t.style.height="100%",t.style.width="100%",e.appendChild(t),e}}($||($={})),function(e){e.getBoolean=function(e){return k(Object.assign(Object.assign({},e),{body:new K(e),buttons:[D.cancelButton({label:e.cancelLabel}),D.okButton({label:e.okLabel})],focusNodeSelector:"input"}))},e.getNumber=function(e){return k(Object.assign(Object.assign({},e),{body:new W(e),buttons:[D.cancelButton({label:e.cancelLabel}),D.okButton({label:e.okLabel})],focusNodeSelector:"input"}))},e.getItem=function(e){return k(Object.assign(Object.assign({},e),{body:new U(e),buttons:[D.cancelButton({label:e.cancelLabel}),D.okButton({label:e.okLabel})],focusNodeSelector:e.editable?"input":"select"}))},e.getText=function(e){return k(Object.assign(Object.assign({},e),{body:new H(e),buttons:[D.cancelButton({label:e.cancelLabel}),D.okButton({label:e.okLabel})],focusNodeSelector:"input"}))},e.getPassword=function(e){return k(Object.assign(Object.assign({},e),{body:new G(e),buttons:[D.cancelButton({label:e.cancelLabel}),D.okButton({label:e.okLabel})],focusNodeSelector:"input"}))}}(L||(L={}));class j extends l.Widget{constructor(e){if(super(),this.addClass("jp-Input-Dialog"),this._input=document.createElement("input"),this._input.classList.add("jp-mod-styled"),this._input.id="jp-dialog-input-id",void 0!==e){const t=document.createElement("label");t.textContent=e,t.htmlFor=this._input.id,this.node.appendChild(t)}this.node.appendChild(this._input)}}class K extends j{constructor(e){super(e.label),this.addClass("jp-Input-Boolean-Dialog"),this._input.type="checkbox",this._input.checked=!!e.value}getValue(){return this._input.checked}}class W extends j{constructor(e){super(e.label),this._input.type="number",this._input.value=e.value?e.value.toString():"0"}getValue(){return this._input.value?Number(this._input.value):Number.NaN}}class H extends j{constructor(e){super(e.label),this._input.type="text",this._input.value=e.text?e.text:"",e.placeholder&&(this._input.placeholder=e.placeholder)}getValue(){return this._input.value}}class G extends j{constructor(e){super(e.label),this._input.type="password",this._input.value=e.text?e.text:"",e.placeholder&&(this._input.placeholder=e.placeholder)}getValue(){return this._input.value}}class U extends j{constructor(e){super(e.label),this._editable=e.editable||!1;let t,n=e.current||0;if("number"==typeof n&&(t=Math.max(0,Math.min(n,e.items.length-1)),n=""),this._list=document.createElement("select"),e.items.forEach(((e,s)=>{const i=document.createElement("option");s===t&&(i.selected=!0,n=e),i.value=e,i.textContent=e,this._list.appendChild(i)})),e.editable){const t=document.createElement("datalist");t.id="input-dialog-items",t.appendChild(this._list),this._input.type="list",this._input.value=n,this._input.setAttribute("list",t.id),e.placeholder&&(this._input.placeholder=e.placeholder),this.node.appendChild(t)}else this._input.remove(),this.node.appendChild(m.wrapSelect(this._list))}getValue(){return this._editable?this._input.value:this._list.value}}var F,z=n(71984),q=n(55548);!function(e){function t(t){return!("object"!=typeof t||!t)&&e.symbol in t}e.symbol=Symbol("printable"),e.isPrintable=t,e.getPrintFunction=function(n){return t(n)?n[e.symbol]():null},e.printWidget=function(e){return s(e.node)};const n=q.ServerConnection.makeSettings();async function s(e){const t="string"==typeof e,n=function(){const e=window.document.createElement("iframe");e.setAttribute("sandbox","allow-modals allow-same-origin");return e.setAttribute("style","visibility:hidden;width:0;height:0;position:absolute;z-index:-9999;bottom:0;"),e.setAttribute("width","0"),e.setAttribute("height","0"),e}(),s=window.document.body;s.appendChild(n),t?(n.srcdoc=e,await i(n)):(n.src="about:blank",await i(n),function(e,t){e.contentDocument.body.appendChild(t.cloneNode(!0)),e.contentDocument.close()}(n,e));const o=new Promise((e=>{const t=()=>{document.removeEventListener("mousemove",t,!0),document.removeEventListener("mousedown",t,!0),document.removeEventListener("keydown",t,!0),e()};document.addEventListener("mousemove",t,!0),document.addEventListener("mousedown",t,!0),document.addEventListener("keydown",t,!0)}));var r;(r=n.contentWindow).document.execCommand("print",!1)||r.print(),await o,s.removeChild(n)}function i(e){return new Promise((t=>{e.onload=()=>t()}))}e.printURL=async function(e){return s(await(await q.ServerConnection.makeRequest(e,{},n)).text())}}(F||(F={}));class V extends l.Widget{constructor(){super(),this.addClass("jp-Spinner"),this.node.tabIndex=-1;const e=document.createElement("div");e.className="jp-SpinnerContent",this.node.appendChild(e)}onActivateRequest(e){this.node.focus()}}var Y=n(53268),X=n(61115),Z=n(78744);class J{constructor(e){var t,n,s,i;this._path="",this._name="",this._type="",this._prevKernelName="",this._isDisposed=!1,this._disposed=new a.Signal(this),this._session=null,this._ready=new o.PromiseDelegate,this._initializing=!1,this._initStarted=new o.PromiseDelegate,this._initPromise=new o.PromiseDelegate,this._isReady=!1,this._isTerminating=!1,this._isRestarting=!1,this._kernelChanged=new a.Signal(this),this._sessionChanged=new a.Signal(this),this._statusChanged=new a.Signal(this),this._connectionStatusChanged=new a.Signal(this),this._iopubMessage=new a.Signal(this),this._unhandledMessage=new a.Signal(this),this._propertyChanged=new a.Signal(this),this._dialog=null,this._busyDisposable=null,this._pendingKernelName="",this._pendingSessionRequest="",this.sessionManager=e.sessionManager,this.specsManager=e.specsManager,this.translator=e.translator||z.nullTranslator,this._trans=this.translator.load("jupyterlab"),this._path=null!==(t=e.path)&&void 0!==t?t:o.UUID.uuid4(),this._type=null!==(n=e.type)&&void 0!==n?n:"",this._name=null!==(s=e.name)&&void 0!==s?s:"",this._setBusy=e.setBusy,this._kernelPreference=null!==(i=e.kernelPreference)&&void 0!==i?i:{}}get session(){var e;return null!==(e=this._session)&&void 0!==e?e:null}get path(){return this._path}get type(){return this._type}get name(){return this._name}get kernelChanged(){return this._kernelChanged}get sessionChanged(){return this._sessionChanged}get statusChanged(){return this._statusChanged}get connectionStatusChanged(){return this._connectionStatusChanged}get iopubMessage(){return this._iopubMessage}get unhandledMessage(){return this._unhandledMessage}get propertyChanged(){return this._propertyChanged}get kernelPreference(){return this._kernelPreference}set kernelPreference(e){this._kernelPreference=e}get isReady(){return this._isReady}get ready(){return this._ready.promise}get isTerminating(){return this._isTerminating}get isRestarting(){return this._isRestarting}get hasNoKernel(){return this.kernelDisplayName===this.noKernelName}get kernelDisplayName(){var e,t,n,s,i,o,r,a,l,d;const c=null===(e=this.session)||void 0===e?void 0:e.kernel;if(this._pendingKernelName===this.noKernelName)return this.noKernelName;if(!c&&!this.isReady&&!1!==this.kernelPreference.canStart&&!1!==this.kernelPreference.shouldStart){let e=this._pendingKernelName||J.getDefaultKernel({specs:this.specsManager.specs,sessions:this.sessionManager.running(),preference:this.kernelPreference})||"";return e?(e=null!==(s=null===(n=null===(t=this.specsManager.specs)||void 0===t?void 0:t.kernelspecs[e])||void 0===n?void 0:n.display_name)&&void 0!==s?s:e,e):this.noKernelName}return this._pendingKernelName?null!==(r=null===(o=null===(i=this.specsManager.specs)||void 0===i?void 0:i.kernelspecs[this._pendingKernelName])||void 0===o?void 0:o.display_name)&&void 0!==r?r:this._pendingKernelName:c?null!==(d=null===(l=null===(a=this.specsManager.specs)||void 0===a?void 0:a.kernelspecs[c.name])||void 0===l?void 0:l.display_name)&&void 0!==d?d:c.name:this.noKernelName}get kernelDisplayStatus(){var e,t;const n=null===(e=this.session)||void 0===e?void 0:e.kernel;return this._isTerminating?"terminating":this._isRestarting?"restarting":this._pendingKernelName===this.noKernelName?"idle":!n&&this._pendingKernelName?"initializing":n||this.isReady||!1===this.kernelPreference.canStart||!1===this.kernelPreference.shouldStart?null!==(t="connected"===(null==n?void 0:n.connectionStatus)?null==n?void 0:n.status:null==n?void 0:n.connectionStatus)&&void 0!==t?t:"unknown":"initializing"}get prevKernelName(){return this._prevKernelName}get isDisposed(){return this._isDisposed}get disposed(){return this._disposed}get noKernelName(){return this._trans.__("No Kernel")}dispose(){this._isDisposed||(this._isDisposed=!0,this._disposed.emit(),this._session&&(this.kernelPreference.shutdownOnDispose&&this.sessionManager.shutdown(this._session.id).catch((e=>{console.error(`Kernel not shut down ${e}`)})),this._session.dispose(),this._session=null),this._dialog&&this._dialog.dispose(),this._busyDisposable&&(this._busyDisposable.dispose(),this._busyDisposable=null),a.Signal.clearData(this))}async restartKernel(){var e,t,n,s,i,o;const r=(null===(e=this.session)||void 0===e?void 0:e.kernel)||null;this._isRestarting=!0,this._isReady=!1,this._statusChanged.emit("restarting"),await(null===(n=null===(t=this.session)||void 0===t?void 0:t.kernel)||void 0===n?void 0:n.restart()),this._isRestarting=!1,this._isReady=!0,this._statusChanged.emit((null===(i=null===(s=this.session)||void 0===s?void 0:s.kernel)||void 0===i?void 0:i.status)||"unknown"),this._kernelChanged.emit({name:"kernel",oldValue:r,newValue:(null===(o=this.session)||void 0===o?void 0:o.kernel)||null})}async changeKernel(e={}){if(this.isDisposed)throw new Error("Disposed");return await this._initStarted.promise,this._changeKernel(e)}async shutdown(){if(!this.isDisposed&&this._initializing)return await this._initStarted.promise,this._pendingSessionRequest="",this._pendingKernelName=this.noKernelName,this._shutdownSession()}async initialize(){if(this._initializing)return this._initPromise.promise;this._initializing=!0;const e=await this._initialize();return e||(this._isReady=!0,this._ready.resolve(void 0)),this._pendingSessionRequest||this._initStarted.resolve(void 0),this._initPromise.resolve(e),e}async _initialize(){const e=this.sessionManager;await e.ready,await e.refreshRunning();const t=(0,f.find)(e.running(),(e=>e.path===this._path));if(t)try{const n=e.connectTo({model:t});this._handleNewSession(n)}catch(e){return this._handleSessionError(e),Promise.reject(e)}return await this._startIfNecessary()}async _shutdownSession(){const e=this._session;this._isTerminating=!0,this._isReady=!1,this._statusChanged.emit("terminating"),await(null==e?void 0:e.shutdown()),this._isTerminating=!1,null==e||e.dispose(),this._session=null;const t=(null==e?void 0:e.kernel)||null;this._statusChanged.emit("unknown"),this._kernelChanged.emit({name:"kernel",oldValue:t,newValue:null}),this._sessionChanged.emit({name:"session",oldValue:e,newValue:null})}async _startIfNecessary(){var e;const t=this.kernelPreference;if(this.isDisposed||(null===(e=this.session)||void 0===e?void 0:e.kernel)||!1===t.shouldStart||!1===t.canStart)return!1;let n;if(t.id)n={id:t.id};else{const e=J.getDefaultKernel({specs:this.specsManager.specs,sessions:this.sessionManager.running(),preference:t});e&&(n={name:e})}if(n)try{return await this._changeKernel(n),!1}catch(e){}return!0}async _changeKernel(e={},t=!1){e.name&&(this._pendingKernelName=e.name),this._session&&!this._isTerminating?await this._shutdownSession():this._session||this._kernelChanged.emit({name:"kernel",oldValue:null,newValue:null}),this._pendingSessionRequest||this._initStarted.resolve(void 0);const n=Z.PathExt.dirname(this._path),s=this._pendingSessionRequest=Z.PathExt.join(n,o.UUID.uuid4());try{this._statusChanged.emit("starting");const t=await this.sessionManager.startNew({path:s,type:this._type,name:this._name,kernel:e});return this._pendingSessionRequest!==t.path?(await t.shutdown(),t.dispose(),null):(await t.setPath(this._path),await t.setName(this._name),this._session&&!this._isTerminating&&await this._shutdownSession(),this._handleNewSession(t))}catch(e){throw this._handleSessionError(e),e}}_handleNewSession(e){var t,n,s;if(this.isDisposed)throw Error("Disposed");return this._isReady||(this._isReady=!0,this._ready.resolve(void 0)),this._session&&this._session.dispose(),this._session=e,this._pendingKernelName="",e&&(this._prevKernelName=null!==(n=null===(t=e.kernel)||void 0===t?void 0:t.name)&&void 0!==n?n:"",e.disposed.connect(this._onSessionDisposed,this),e.propertyChanged.connect(this._onPropertyChanged,this),e.kernelChanged.connect(this._onKernelChanged,this),e.statusChanged.connect(this._onStatusChanged,this),e.connectionStatusChanged.connect(this._onConnectionStatusChanged,this),e.iopubMessage.connect(this._onIopubMessage,this),e.unhandledMessage.connect(this._onUnhandledMessage,this),e.path!==this._path&&this._onPropertyChanged(e,"path"),e.name!==this._name&&this._onPropertyChanged(e,"name"),e.type!==this._type&&this._onPropertyChanged(e,"type")),this._sessionChanged.emit({name:"session",oldValue:null,newValue:e}),this._kernelChanged.emit({oldValue:null,newValue:(null==e?void 0:e.kernel)||null,name:"kernel"}),this._statusChanged.emit((null===(s=null==e?void 0:e.kernel)||void 0===s?void 0:s.status)||"unknown"),(null==e?void 0:e.kernel)||null}async _handleSessionError(e){this._handleNewSession(null);let t="",n="";try{t=e.traceback,n=e.message}catch(e){}const s=v.createElement("div",null,n&&v.createElement("pre",null,n),t&&v.createElement("details",{className:"jp-mod-wide"},v.createElement("pre",null,t))),i=this._dialog=new D({title:this._trans.__("Error Starting Kernel"),body:s,buttons:[D.okButton()]});await i.launch(),this._dialog=null}_onSessionDisposed(){if(this._session){const e=this._session;this._session=null;const t=this._session;this._sessionChanged.emit({name:"session",oldValue:e,newValue:t})}}_onPropertyChanged(e,t){switch(t){case"path":this._path=e.path;break;case"name":this._name=e.name;break;case"type":this._type=e.type;break;default:throw new Error(`unrecognized property ${t}`)}this._propertyChanged.emit(t)}_onKernelChanged(e,t){this._kernelChanged.emit(t)}_onStatusChanged(e,t){this._setBusy&&("busy"===t?this._busyDisposable||(this._busyDisposable=this._setBusy()):this._busyDisposable&&(this._busyDisposable.dispose(),this._busyDisposable=null)),this._statusChanged.emit(t)}_onConnectionStatusChanged(e,t){this._connectionStatusChanged.emit(t)}_onIopubMessage(e,t){this._iopubMessage.emit(t)}_onUnhandledMessage(e,t){this._unhandledMessage.emit(t)}}!function(e){e.getDefaultKernel=function(e){return ee.getDefaultKernel(e)}}(J||(J={}));const Q={async selectKernel(e,t){if(e.isDisposed)return Promise.resolve();const n=(t=t||z.nullTranslator).load("jupyterlab");let s=n.__("Cancel");e.hasNoKernel&&(s=e.kernelDisplayName);const i=[D.cancelButton({label:s}),D.okButton({label:n.__("Select")})],o=new D({title:n.__("Select Kernel"),body:new ee.KernelSelector(e,t),buttons:i}),r=await o.launch();if(e.isDisposed||!r.button.accept)return;const a=r.value;if(null===a&&!e.hasNoKernel)return e.shutdown();a&&await e.changeKernel(a)},async restart(e,t){var n;const s=(t=t||z.nullTranslator).load("jupyterlab");if(await e.initialize(),e.isDisposed)throw new Error("session already disposed");const i=null===(n=e.session)||void 0===n?void 0:n.kernel;if(!i&&e.prevKernelName)return await e.changeKernel({name:e.prevKernelName}),!0;if(!i)throw new Error("No kernel to restart");const o=D.warnButton({label:"Restart"}),r=await k({title:s.__("Restart Kernel?"),body:s.__("Do you want to restart the current kernel? All variables will be lost."),buttons:[D.cancelButton(),o]});return!i.isDisposed&&!!r.button.accept&&(await e.restartKernel(),!0)}};var ee,te;!function(e){class t extends l.Widget{constructor(e,t){super({node:n(e,t)})}getValue(){const e=this.node.querySelector("select");return JSON.parse(e.value)}}function n(e,t){const n=(t=t||z.nullTranslator).load("jupyterlab"),i=document.createElement("div"),o=document.createElement("label");o.textContent=`${n.__("Select kernel for:")} "${e.name}"`,i.appendChild(o);const r=function(e){return{specs:e.specsManager.specs,sessions:e.sessionManager.running(),preference:e.kernelPreference}}(e),a=document.createElement("select");return s(a,r,t,e.hasNoKernel?null:e.kernelDisplayName),i.appendChild(a),i}function s(e,t,n,s=null){for(;e.firstChild;)e.removeChild(e.firstChild);const{preference:a,sessions:l,specs:d}=t,{name:c,id:h,language:u,canStart:p,shouldStart:_}=a,g=(n=n||z.nullTranslator).load("jupyterlab");if(!d||!1===p)return e.appendChild(o(n)),e.value="null",void(e.disabled=!0);e.disabled=!1;const m=Object.create(null),b=Object.create(null);for(const e in d.kernelspecs){const t=d.kernelspecs[e];m[e]=t.display_name,b[e]=t.language}const C=[];if(c&&c in d.kernelspecs&&C.push(c),u)for(const e in d.kernelspecs)c!==e&&b[e]===u&&C.push(e);C.length||C.push(d.default);const v=document.createElement("optgroup");v.label=g.__("Start Preferred Kernel"),C.sort(((e,t)=>m[e].localeCompare(m[t])));for(const e of C)v.appendChild(i(e,m[e]));v.firstChild&&e.appendChild(v),e.appendChild(o());const y=document.createElement("optgroup");y.label=g.__("Start Other Kernel");const w=[];for(const e in d.kernelspecs)-1===C.indexOf(e)&&w.push(e);w.sort(((e,t)=>m[e].localeCompare(m[t])));for(const e of w)y.appendChild(i(e,m[e]));if(w.length&&e.appendChild(y),!1===_)e.value="null";else{let t=0;s&&(t=[...e.options].findIndex((e=>e.text===s)),t=Math.max(t,0)),e.selectedIndex=t}if(!l)return;const E=[],T=[];(0,f.each)(l,(e=>{var t;u&&e.kernel&&b[e.kernel.name]===u&&e.kernel.id!==h?E.push(e):(null===(t=e.kernel)||void 0===t?void 0:t.id)!==h&&T.push(e)}));const O=document.createElement("optgroup");O.label=g.__("Use Kernel from Preferred Session"),e.appendChild(O),E.length&&(E.sort(((e,t)=>e.path.localeCompare(t.path))),(0,f.each)(E,(e=>{const t=e.kernel?m[e.kernel.name]:"";O.appendChild(r(e,t,n))})));const P=document.createElement("optgroup");P.label=g.__("Use Kernel from Other Session"),e.appendChild(P),T.length&&(T.sort(((e,t)=>e.path.localeCompare(t.path))),(0,f.each)(T,(e=>{const t=e.kernel?m[e.kernel.name]||e.kernel.name:"";P.appendChild(r(e,t,n))})))}function i(e,t){const n=document.createElement("option");return n.text=t,n.value=JSON.stringify({name:e}),n}function o(e){const t=(e=e||z.nullTranslator).load("jupyterlab"),n=document.createElement("optgroup");n.label=t.__("Use No Kernel");const s=document.createElement("option");return s.text=t.__("No Kernel"),s.value="null",n.appendChild(s),n}function r(e,t,n){var s,i;const o=(n=n||z.nullTranslator).load("jupyterlab"),r=document.createElement("option"),a=e.name||Z.PathExt.basename(e.path);return r.text=a,r.value=JSON.stringify({id:null===(s=e.kernel)||void 0===s?void 0:s.id}),r.title=`${o.__("Path:")} ${e.path}\n${o.__("Name:")} ${a}\n${o.__("Kernel Name:")} ${t}\n${o.__("Kernel Id:")} ${null===(i=e.kernel)||void 0===i?void 0:i.id}`,r}e.KernelSelector=t,e.getDefaultKernel=function(e){var t;const{specs:n,preference:s}=e,{name:i,language:o,shouldStart:r,canStart:a,autoStartDefault:l}=s;if(!n||!1===r||!1===a)return null;const d=l?n.default:null;if(!i&&!o)return d;for(const e in n.kernelspecs)if(e===i)return i;if(!o)return d;const c=[];for(const e in n.kernelspecs)o===(null===(t=n.kernelspecs[e])||void 0===t?void 0:t.language)&&c.push(e);if(1===c.length){const e=c[0];return console.warn("No exact match found for "+e+", using kernel "+e+" that matches language="+o),e}return d},e.populateKernelSelect=s}(ee||(ee={}));class ne extends l.PanelLayout{constructor(){super(...arguments),this._dirty=!1}onFitRequest(e){super.onFitRequest(e),this.parent.isAttached&&((0,f.some)(this.widgets,(e=>!e.isHidden))?(this.parent.node.style.minHeight="var(--jp-private-toolbar-height)",this.parent.removeClass("jp-Toolbar-micro")):(this.parent.node.style.minHeight="",this.parent.addClass("jp-Toolbar-micro"))),this._dirty=!0,this.parent.parent&&C.MessageLoop.sendMessage(this.parent.parent,l.Widget.Msg.FitRequest),this._dirty&&C.MessageLoop.sendMessage(this.parent,l.Widget.Msg.UpdateRequest)}onUpdateRequest(e){super.onUpdateRequest(e),this.parent.isVisible&&(this._dirty=!1)}onChildShown(e){super.onChildShown(e),this.parent.fit()}onChildHidden(e){super.onChildHidden(e),this.parent.fit()}onBeforeAttach(e){super.onBeforeAttach(e),this.parent.fit()}attachWidget(e,t){super.attachWidget(e,t),this.parent.fit()}detachWidget(e,t){super.detachWidget(e,t),this.parent.fit()}}class se extends l.Widget{constructor(){super(),this.addClass("jp-Toolbar"),this.addClass("jp-scrollbar-tiny"),this.layout=new ne}names(){const e=this.layout;return(0,f.map)(e.widgets,(e=>te.nameProperty.get(e)))}addItem(e,t){const n=this.layout;return this.insertItem(n.widgets.length,e,t)}insertItem(e,t,n){return!(0,f.find)(this.names(),(e=>e===t))&&(n.addClass("jp-Toolbar-item"),this.layout.insertWidget(e,n),te.nameProperty.set(n,t),!0)}insertAfter(e,t,n){return this._insertRelative(e,1,t,n)}insertBefore(e,t,n){return this._insertRelative(e,0,t,n)}_insertRelative(e,t,n,s){const i=(0,f.map)(this.names(),((e,t)=>({name:e,index:t}))),o=(0,f.find)(i,(t=>t.name===e));return!!o&&this.insertItem(o.index+t,n,s)}handleEvent(e){switch(e.type){case"click":this.handleClick(e)}}handleClick(e){if(e.target instanceof HTMLLabelElement){const t=e.target.getAttribute("for");if(t&&this.node.querySelector(`#${t}`))return}this.node.contains(document.activeElement)||this.parent&&this.parent.activate()}onAfterAttach(e){this.node.addEventListener("click",this)}onBeforeDetach(e){this.node.removeEventListener("click",this)}}function ie(e){var t,n;return v.createElement(r.Button,{className:e.className?e.className+" jp-ToolbarButtonComponent":"jp-ToolbarButtonComponent",disabled:!1===e.enabled,onClick:null!==(t=e.actualOnClick)&&void 0!==t&&t?t=>{var n;0===t.button&&(null===(n=e.onClick)||void 0===n||n.call(e))}:void 0,onMouseDown:null!==(n=e.actualOnClick)&&void 0!==n&&n?void 0:t=>{var n;0===t.button&&(t.preventDefault(),null===(n=e.onClick)||void 0===n||n.call(e))},onKeyDown:t=>{var n;const{key:s}=t;"Enter"!==s&&" "!==s||null===(n=e.onClick)||void 0===n||n.call(e)},title:e.tooltip||e.iconLabel,minimal:!0},(e.icon||e.iconClass)&&v.createElement(r.LabIcon.resolveReact,{icon:e.icon,iconClass:(0,r.classes)(e.iconClass,"jp-Icon"),className:"jp-ToolbarButtonComponent-icon",tag:"span",stylesheet:"toolbarButton"}),e.label&&v.createElement("span",{className:"jp-ToolbarButtonComponent-label"},e.label))}function oe(e){return e.addClass("jp-ToolbarButton"),e}!function(e){e.createInterruptButton=function(e,t){const n=(t=t||z.nullTranslator).load("jupyterlab");return new re({icon:r.stopIcon,onClick:()=>{var t,n;null===(n=null===(t=e.session)||void 0===t?void 0:t.kernel)||void 0===n||n.interrupt()},tooltip:n.__("Interrupt the kernel")})},e.createRestartButton=function(e,t,n){const s=(n=n||z.nullTranslator).load("jupyterlab");return new re({icon:r.refreshIcon,onClick:()=>{(null!=t?t:Q).restart(e,n)},tooltip:s.__("Restart the kernel")})},e.createSpacerItem=function(){return new te.Spacer},e.createKernelNameItem=function(e,t,n){const s=w.create(v.createElement(te.KernelNameComponent,{sessionContext:e,dialogs:null!=t?t:Q,translator:n}));return s.addClass("jp-KernelName"),s},e.createKernelStatusItem=function(e,t){return new te.KernelStatus(e,t)}}(se||(se={}));class re extends w{constructor(e={}){super(),this.props=e,oe(this)}render(){return v.createElement(ie,Object.assign({},this.props))}}function ae(e){return v.createElement(T,{signal:e.commands.commandChanged,shouldUpdate:(t,n)=>n.id===e.id&&"changed"===n.type||"many-changed"===n.type},(()=>v.createElement(ie,Object.assign({},te.propsFromCommand(e)))))}function le(e){return e.addClass("jp-CommandToolbarButton"),e}class de extends w{constructor(e){super(),this.props=e,le(this)}render(){return v.createElement(ae,Object.assign({},this.props))}}!function(e){e.propsFromCommand=function(e){const{commands:t,id:n,args:s}=e,i=t.iconClass(n,s),o=t.iconLabel(n,s),r=t.icon(n,s),a=r===i?void 0:r,l=t.label(n,s);let d=t.className(n,s);t.isToggled(n,s)&&(d+=" lm-mod-toggled"),t.isVisible(n,s)||(d+=" lm-mod-hidden");let c=t.caption(n,s)||l||o;const h=t.keyBindings.find((e=>e.command===n));return h&&(c=`${c} (${Y.CommandRegistry.formatKeystroke(h.keys.join(" "))})`),{className:d,icon:a,iconClass:i,tooltip:c,onClick:()=>{t.execute(n,s)},enabled:t.isEnabled(n,s),label:l}},e.nameProperty=new X.AttachedProperty({name:"name",create:()=>""}),e.noOp=function(){};class t extends l.Widget{constructor(){super(),this.addClass("jp-Toolbar-spacer")}}e.Spacer=t,e.KernelNameComponent=function(e){const t=e.translator||z.nullTranslator,n=t.load("jupyterlab"),s=()=>{e.dialogs.selectKernel(e.sessionContext,t)};return v.createElement(T,{signal:e.sessionContext.kernelChanged,initialSender:e.sessionContext},(e=>v.createElement(ie,{className:"jp-Toolbar-kernelName",onClick:s,tooltip:n.__("Switch kernel"),label:null==e?void 0:e.kernelDisplayName})))};class n extends l.Widget{constructor(e,t){super(),this.translator=t||z.nullTranslator,this._trans=this.translator.load("jupyterlab"),this.addClass("jp-Toolbar-kernelStatus"),this._statusNames={unknown:this._trans.__("Unknown"),starting:this._trans.__("Starting"),idle:this._trans.__("Idle"),busy:this._trans.__("Busy"),terminating:this._trans.__("Terminating"),restarting:this._trans.__("Restarting"),autorestarting:this._trans.__("Autorestarting"),dead:this._trans.__("Dead"),connected:this._trans.__("Connected"),connecting:this._trans.__("Connecting"),disconnected:this._trans.__("Disconnected"),initializing:this._trans.__("Initializing"),"":""},this._onStatusChanged(e),e.statusChanged.connect(this._onStatusChanged,this),e.connectionStatusChanged.connect(this._onStatusChanged,this)}_onStatusChanged(e){if(this.isDisposed)return;const t=e.kernelDisplayStatus,n={container:this.node,title:this._trans.__("Kernel %1",this._statusNames[t]||t),stylesheet:"toolbarButton",alignSelf:"normal",height:"24px"};r.LabIcon.remove(this.node),"busy"===t||"starting"===t||"terminating"===t||"restarting"===t||"initializing"===t?r.circleIcon.element(n):"connecting"===t||"disconnected"===t||"unknown"===t?r.offlineBoltIcon.element(n):r.circleEmptyIcon.element(n)}}e.KernelStatus=n}(te||(te={}));class ce extends l.Widget{constructor(e){super(e),this._changeGuard=!1,this._spinner=new V,this._isRevealed=!1,this.addClass("jp-MainAreaWidget"),this.addClass("jp-MainAreaWidget-ContainStrict"),this.id=I.createDomID();const t=(e.translator||z.nullTranslator).load("jupyterlab"),n=this._content=e.content;n.node.setAttribute("role","region"),n.node.setAttribute("aria-label",t.__("notebook content"));const s=this._toolbar=e.toolbar||new se;s.node.setAttribute("role","navigation"),s.node.setAttribute("aria-label",t.__("notebook actions"));const i=this._contentHeader=e.contentHeader||new l.BoxPanel({direction:"top-to-bottom",spacing:0}),o=this.layout=new l.BoxLayout({spacing:0});o.direction="top-to-bottom",l.BoxLayout.setStretch(s,0),l.BoxLayout.setStretch(i,0),l.BoxLayout.setStretch(n,1),o.addWidget(s),o.addWidget(i),o.addWidget(n),n.id||(n.id=I.createDomID()),n.node.tabIndex=0,this._updateTitle(),n.title.changed.connect(this._updateTitle,this),this.title.closable=!0,this.title.changed.connect(this._updateContentTitle,this),e.reveal?(this.node.appendChild(this._spinner.node),this._revealed=e.reveal.then((()=>{if(n.isDisposed)return void this.dispose();n.disposed.connect((()=>this.dispose()));const e=document.activeElement===this._spinner.node;this._disposeSpinner(),this._isRevealed=!0,e&&this._focusContent()})).catch((e=>{const t=new l.Widget,i=document.createElement("pre");throw i.textContent=String(e),t.node.appendChild(i),l.BoxLayout.setStretch(t,1),this._disposeSpinner(),n.dispose(),this._content=null,s.dispose(),this._toolbar=null,o.addWidget(t),this._isRevealed=!0,t}))):(this._spinner.dispose(),this.removeClass("jp-MainAreaWidget-ContainStrict"),n.disposed.connect((()=>this.dispose())),this._isRevealed=!0,this._revealed=Promise.resolve(void 0))}[F.symbol](){return this._content?F.getPrintFunction(this._content):null}get content(){return this._content}get toolbar(){return this._toolbar}get contentHeader(){return this._contentHeader}get isRevealed(){return this._isRevealed}get revealed(){return this._revealed}onActivateRequest(e){this._isRevealed?this._content&&this._focusContent():this._spinner.node.focus()}onCloseRequest(e){this.dispose()}onUpdateRequest(e){this._content&&C.MessageLoop.sendMessage(this._content,e)}_disposeSpinner(){this.node.removeChild(this._spinner.node),this._spinner.dispose(),this.removeClass("jp-MainAreaWidget-ContainStrict")}_updateTitle(){if(this._changeGuard||!this.content)return;this._changeGuard=!0;const e=this.content;this.title.label=e.title.label,this.title.mnemonic=e.title.mnemonic,this.title.icon=e.title.icon,this.title.iconClass=e.title.iconClass,this.title.iconLabel=e.title.iconLabel,this.title.caption=e.title.caption,this.title.className=e.title.className,this.title.dataset=e.title.dataset,this._changeGuard=!1}_updateContentTitle(){if(this._changeGuard||!this.content)return;this._changeGuard=!0;const e=this.content;e.title.label=this.title.label,e.title.mnemonic=this.title.mnemonic,e.title.icon=this.title.icon,e.title.iconClass=this.title.iconClass,e.title.iconLabel=this.title.iconLabel,e.title.caption=this.title.caption,e.title.className=this.title.className,e.title.dataset=this.title.dataset,this._changeGuard=!1}_focusContent(){this.content&&(this.content.node.contains(document.activeElement)||this.content.node.focus(),this.content.activate())}}var he,ue=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]])}return n};!function(e){function t(e,t){var s,i;const o=t(e);return o.id=e.id,o.title.label||(o.title.label=null!==(s=e.label)&&void 0!==s?s:Z.Text.titleCase(o.id.trim())),e.icon&&(o.title.icon=r.LabIcon.resolve({icon:e.icon})),void 0!==e.mnemonic&&(o.title.mnemonic=e.mnemonic),null===(i=e.items)||void 0===i||i.filter((e=>!e.disabled)).sort(((e,t)=>{var n,s;return(null!==(n=e.rank)&&void 0!==n?n:1/0)-(null!==(s=t.rank)&&void 0!==s?s:1/0)})).map((e=>{n(e,o,t)})),o}function n(e,n,s){const{submenu:i}=e,o=ue(e,["submenu"]);n.addItem(Object.assign(Object.assign({},o),{submenu:i?t(i,s):null}))}function s(e,t,i){var r;e.disabled?t.dispose():null===(r=e.items)||void 0===r||r.forEach((e=>{var r,a;const l=null==t?void 0:t.items.find(((t,n)=>{var s,i;return t.type===e.type&&t.command===e.command&&(null===(s=t.submenu)||void 0===s?void 0:s.id)===(null===(i=e.submenu)||void 0===i?void 0:i.id)}));if(l&&"separator"!==e.type)if(e.disabled)t.removeItem(l);else switch(null!==(r=e.type)&&void 0!==r?r:"command"){case"command":e.command&&(o.JSONExt.deepEqual(l.args,null!==(a=e.args)&&void 0!==a?a:{})||n(e,t,i));break;case"submenu":e.submenu&&s(e.submenu,l.submenu,i)}else n(e,t,i)}))}e.createMenus=function(e,n){return e.filter((e=>!e.disabled)).sort(((e,t)=>{var n,s;return(null!==(n=e.rank)&&void 0!==n?n:1/0)-(null!==(s=t.rank)&&void 0!==s?s:1/0)})).map((e=>t(e,n)))},e.addContextItem=function(e,n,s){const{submenu:i}=e,o=ue(e,["submenu"]);n.addItem(Object.assign(Object.assign({},o),{submenu:i?t(i,s):null}))},e.updateMenus=function(e,n,i){const o=[];return n.forEach((n=>{const r=e.find((e=>e.id===n.id));r?s(n,r,i):n.disabled||o.push(t(n,i))})),e.push(...o),o}}(he||(he={}));var pe=n(24330),_e=n.n(pe);class ge{static reg(e){return new RegExp("^"+e+"$","i")}}ge.N={integer:"[+-]?[0-9]+",integer_pos:"[+]?[0-9]+",integer_zero_ff:"([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",number:"[+-]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_pos:"[+]?([0-9]*[.])?[0-9]+(e-?[0-9]*)?",number_zero_hundred:"[+]?(([0-9]|[1-9][0-9])([.][0-9]+)?|100)",number_zero_one:"[+]?(1([.][0]+)?|0([.][0-9]+)?)"},ge.B={angle:`(${ge.N.number}(deg|rad|grad|turn)|0)`,frequency:`${ge.N.number}(Hz|kHz)`,ident:String.raw`-?([_a-z]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\xA0-\xFF]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*`,len_or_perc:`(0|${ge.N.number}(px|em|rem|ex|in|cm|mm|pt|pc|%))`,length:`(${ge.N.number}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,length_pos:`(${ge.N.number_pos}(px|em|rem|ex|in|cm|mm|pt|pc)|0)`,percentage:`${ge.N.number}%`,percentage_pos:`${ge.N.number_pos}%`,percentage_zero_hundred:`${ge.N.number_zero_hundred}%`,string:String.raw`(\"([^\n\r\f\\"]|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\")|(\'([^\n\r\f\\']|\\\n|\r\n|\r|\f|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*\')`,time:`${ge.N.number}(s|ms)`,url:"url\\(.*?\\)",z_index:"[+-]?[0-9]{1,7}"},ge.A={absolute_size:"xx-small|x-small|small|medium|large|x-large|xx-large",attachment:"scroll|fixed|local",bg_origin:"border-box|padding-box|content-box",border_style:"none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset",box:"border-box|padding-box|content-box",display_inside:"auto|block|table|flex|grid",display_outside:"block-level|inline-level|none|table-row-group|table-header-group|table-footer-group|table-row|table-cell|table-column-group|table-column|table-caption",ending_shape:"circle|ellipse",generic_family:"serif|sans-serif|cursive|fantasy|monospace",generic_voice:"male|female|child",relative_size:"smaller|larger",repeat_style:"repeat-x|repeat-y|((?:repeat|space|round|no-repeat)(?:\\s*(?:repeat|space|round|no-repeat))?)",side_or_corner:"(left|right)?\\s*(top|bottom)?",single_animation_direction:"normal|reverse|alternate|alternate-reverse",single_animation_fill_mode:"none|forwards|backwards|both",single_animation_play_state:"running|paused"},ge._COLOR={hex:"\\#(0x)?[0-9a-f]+",name:"aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|transparent|violet|wheat|white|whitesmoke|yellow|yellowgreen",rgb:String.raw`rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)`,rgba:String.raw`rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(${ge.N.integer_zero_ff}|${ge.N.number_zero_one}|${ge.B.percentage_zero_hundred})\s*\)`},ge._C={alpha:`${ge.N.integer_zero_ff}|${ge.N.number_zero_one}|${ge.B.percentage_zero_hundred}`,alphavalue:ge.N.number_zero_one,bg_position:`((${ge.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,bg_size:`(${ge.B.length_pos}|${ge.B.percentage}|auto){1,2}|cover|contain`,border_width:`thin|medium|thick|${ge.B.length}`,bottom:`${ge.B.length}|auto`,color:`${ge._COLOR.hex}|${ge._COLOR.rgb}|${ge._COLOR.rgba}|${ge._COLOR.name}`,family_name:`${ge.B.string}|(${ge.B.ident}\\s*)+`,image_decl:ge.B.url,left:`${ge.B.length}|auto`,loose_quotable_words:`(${ge.B.ident})+`,margin_width:`${ge.B.len_or_perc}|auto`,padding_width:`${ge.B.length_pos}|${ge.B.percentage_pos}`,page_url:ge.B.url,position:`((${ge.B.len_or_perc}|left|center|right|top|bottom)\\s*){1,4}`,right:`${ge.B.length}|auto`,shadow:"",size:`closest-side|farthest-side|closest-corner|farthest-corner|${ge.B.length}|(${ge.B.len_or_perc})\\s+(${ge.B.len_or_perc})`,top:`${ge.B.length}|auto`},ge._C1={image_list:`image\\(\\s*(${ge.B.url})*\\s*(${ge.B.url}|${ge._C.color})\\s*\\)`,shadow:`((${ge._C.color})\\s+((${ge.B.length})\\s*){2,4}(s+inset)?)|((inset\\s+)?((${ge.B.length})\\s*){2,4}\\s*(${ge._C.color})?)`},ge._C2={bg_image:`(${ge.B.url}|${ge._C1.image_list})|none`,image:`${ge.B.url}|${ge._C1.image_list}`,shape:`rect\\(\\s*(${ge._C.top})\\s*,\\s*(${ge._C.right})\\s*,\\s*(${ge._C.bottom})\\s*,\\s*(${ge._C.left})\\s*\\)`},ge.C=Object.assign(Object.assign(Object.assign({},ge._C),ge._C1),ge._C2),ge.AP={border_collapse:"collapse|separate",box:"normal|none|contents",box_sizing:"content-box|padding-box|border-box",caption_side:"top|bottom",clear:"none|left|right|both",direction:"ltr|rtl",empty_cells:"show|hide",float:"left|right|none",font_stretch:"normal|wider|narrower|ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded",font_style:"normal|italic|oblique",font_variant:"normal|small-caps",font_weight:"normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900",list_style_position:"inside|outside",list_style_type:"disc|circle|square|decimal|decimal-leading-zero|lower-roman|upper-roman|lower-greek|lower-latin|upper-latin|armenian|georgian|lower-alpha|upper-alpha|none",overflow:"visible|hidden|scroll|auto",overflow_wrap:"normal|break-word",overflow_x:"visible|hidden|scroll|auto|no-display|no-content",page_break_after:"auto|always|avoid|left|right",page_break_before:"auto|always|avoid|left|right",page_break_inside:"avoid|auto",position:"static|relative|absolute",resize:"none|both|horizontal|vertical",speak:"normal|none|spell-out",speak_header:"once|always",speak_numeral:"digits|continuous",speak_punctuation:"code|none",table_layout:"auto|fixed",text_align:"left|right|center|justify",text_decoration:"none|((underline|overline|line-through|blink)\\s*)+",text_transform:"capitalize|uppercase|lowercase|none",text_wrap:"normal|unrestricted|none|suppress",unicode_bidi:"normal|embed|bidi-override",visibility:"visible|hidden|collapse",white_space:"normal|pre|nowrap|pre-wrap|pre-line",word_break:"normal|keep-all|break-all"},ge._CP={background_attachment:`${ge.A.attachment}(,\\s*${ge.A.attachment})*`,background_color:ge.C.color,background_origin:`${ge.A.box}(,\\s*${ge.A.box})*`,background_repeat:`${ge.A.repeat_style}(,\\s*${ge.A.repeat_style})*`,border:`((${ge.C.border_width}|${ge.A.border_style}|${ge.C.color})\\s*){1,3}`,border_radius:`((${ge.B.len_or_perc})\\s*){1,4}(\\/\\s*((${ge.B.len_or_perc})\\s*){1,4})?`,border_spacing:`${ge.B.length}\\s*(${ge.B.length})?`,border_top_color:ge.C.color,border_top_style:ge.A.border_style,border_width:`((${ge.C.border_width})\\s*){1,4}`,color:ge.C.color,cursor:`(${ge.B.url}(\\s*,\\s*)?)*(auto|crosshair|default|pointer|move|e-resize|ne-resize|nw-resize|n-resize|se-resize|sw-resize|s-resize|w-resize|text|wait|help|progress|all-scroll|col-resize|hand|no-drop|not-allowed|row-resize|vertical-text)`,display:`inline|block|list-item|run-in|inline-list-item|inline-block|table|inline-table|table-cell|table-caption|flex|inline-flex|grid|inline-grid|${ge.A.display_inside}|${ge.A.display_outside}|inherit|inline-box|inline-stack`,display_outside:ge.A.display_outside,elevation:`${ge.B.angle}|below|level|above|higher|lower`,font_family:`(${ge.C.family_name}|${ge.A.generic_family})(,\\s*(${ge.C.family_name}|${ge.A.generic_family}))*`,height:`${ge.B.length}|${ge.B.percentage}|auto`,letter_spacing:`normal|${ge.B.length}`,list_style_image:`${ge.C.image}|none`,margin_right:ge.C.margin_width,max_height:`${ge.B.length_pos}|${ge.B.percentage_pos}|none|auto`,min_height:`${ge.B.length_pos}|${ge.B.percentage_pos}|auto`,opacity:ge.C.alphavalue,outline_color:`${ge.C.color}|invert`,outline_width:ge.C.border_width,padding:`((${ge.C.padding_width})\\s*){1,4}`,padding_top:ge.C.padding_width,pitch_range:ge.N.number,right:`${ge.B.length}|${ge.B.percentage}|auto`,stress:ge.N.number,text_indent:`${ge.B.length}|${ge.B.percentage}`,text_shadow:`none|${ge.C.shadow}(,\\s*(${ge.C.shadow}))*`,volume:`${ge.N.number_pos}|${ge.B.percentage_pos}|silent|x-soft|soft|medium|loud|x-loud`,word_wrap:ge.AP.overflow_wrap,zoom:`normal|${ge.N.number_pos}|${ge.B.percentage_pos}`,backface_visibility:ge.AP.visibility,background_clip:`${ge.A.box}(,\\s*(${ge.A.box}))*`,background_position:`${ge.C.bg_position}(,\\s*(${ge.C.bg_position}))*`,border_bottom_color:ge.C.color,border_bottom_style:ge.A.border_style,border_color:`((${ge.C.color})\\s*){1,4}`,border_left_color:ge.C.color,border_right_color:ge.C.color,border_style:`((${ge.A.border_style})\\s*){1,4}`,border_top_left_radius:`(${ge.B.length}|${ge.B.percentage})(\\s*(${ge.B.length}|${ge.B.percentage}))?`,border_top_width:ge.C.border_width,box_shadow:`none|${ge.C.shadow}(,\\s*(${ge.C.shadow}))*`,clip:`${ge.C.shape}|auto`,display_inside:ge.A.display_inside,font_size:`${ge.A.absolute_size}|${ge.A.relative_size}|${ge.B.length_pos}|${ge.B.percentage_pos}`,line_height:`normal|${ge.N.number_pos}|${ge.B.length_pos}|${ge.B.percentage_pos}`,margin_left:ge.C.margin_width,max_width:`${ge.B.length_pos}|${ge.B.percentage_pos}|none|auto`,outline_style:ge.A.border_style,padding_bottom:ge.C.padding_width,padding_right:ge.C.padding_width,perspective:`none|${ge.B.length}`,richness:ge.N.number,text_overflow:`((clip|ellipsis|${ge.B.string})\\s*){1,2}`,top:`${ge.B.length}|${ge.B.percentage}|auto`,width:`${ge.B.length_pos}|${ge.B.percentage_pos}|auto`,z_index:`auto|${ge.B.z_index}`,background:`(((${ge.C.bg_position}\\s*(\\/\\s*${ge.C.bg_size})?)|(${ge.A.repeat_style})|(${ge.A.attachment})|(${ge.A.bg_origin})|(${ge.C.bg_image})|(${ge.C.color}))\\s*)+`,background_size:`${ge.C.bg_size}(,\\s*${ge.C.bg_size})*`,border_bottom_left_radius:`(${ge.B.length}|${ge.B.percentage})(\\s*(${ge.B.length}|${ge.B.percentage}))?`,border_bottom_width:ge.C.border_width,border_left_style:ge.A.border_style,border_right_style:ge.A.border_style,border_top:`((${ge.C.border_width}|${ge.A.border_style}|${ge.C.color})\\s*){1,3}`,bottom:`${ge.B.len_or_perc}|auto`,list_style:`((${ge.AP.list_style_type}|${ge.AP.list_style_position}|${ge.C.image}|none})\\s*){1,3}`,margin_top:ge.C.margin_width,outline:`((${ge.C.color}|invert|${ge.A.border_style}|${ge.C.border_width})\\s*){1,3}`,overflow_y:ge.AP.overflow_x,pitch:`${ge.B.frequency}|x-low|low|medium|high|x-high`,vertical_align:`baseline|sub|super|top|text-top|middle|bottom|text-bottom|${ge.B.len_or_perc}`,word_spacing:`normal|${ge.B.length}`,background_image:`${ge.C.bg_image}(,\\s*${ge.C.bg_image})*`,border_bottom_right_radius:`(${ge.B.length}|${ge.B.percentage})(\\s*(${ge.B.length}|${ge.B.percentage}))?`,border_left_width:ge.C.border_width,border_right_width:ge.C.border_width,left:`${ge.B.len_or_perc}|auto`,margin_bottom:ge.C.margin_width,pause_after:`${ge.B.time}|${ge.B.percentage}`,speech_rate:`${ge.N.number}|x-slow|slow|medium|fast|x-fast|faster|slower`,transition_duration:`${ge.B.time}(,\\s*${ge.B.time})*`,border_bottom:`((${ge.C.border_width}|${ge.A.border_style}|${ge.C.color})\\s*){1,3}`,border_right:`((${ge.C.border_width}|${ge.A.border_style}|${ge.C.color})\\s*){1,3}`,margin:`((${ge.C.margin_width})\\s*){1,4}`,padding_left:ge.C.padding_width,border_left:`((${ge.C.border_width}|${ge.A.border_style}|${ge.C.color})\\s*){1,3}`,quotes:`(${ge.B.string}\\s*${ge.B.string})+|none`,border_top_right_radius:`(${ge.B.length}|${ge.B.percentage})(\\s*(${ge.B.length}|${ge.B.percentage}))?`,min_width:`${ge.B.length_pos}|${ge.B.percentage_pos}|auto`},ge._CP1={font:`(((((${ge.AP.font_style}|${ge.AP.font_variant}|${ge.AP.font_weight})\\s*){1,3})?\\s*(${ge._CP.font_size})\\s*(\\/\\s*(${ge._CP.line_height}))?\\s+(${ge._CP.font_family}))|caption|icon|menu|message-box|small-caption|status-bar)`},ge.CP=Object.assign(Object.assign({},ge._CP),ge._CP1),ge.BORDER_COLLAPSE=ge.reg(ge.AP.border_collapse),ge.BOX=ge.reg(ge.AP.box),ge.BOX_SIZING=ge.reg(ge.AP.box_sizing),ge.CAPTION_SIDE=ge.reg(ge.AP.caption_side),ge.CLEAR=ge.reg(ge.AP.clear),ge.DIRECTION=ge.reg(ge.AP.direction),ge.EMPTY_CELLS=ge.reg(ge.AP.empty_cells),ge.FLOAT=ge.reg(ge.AP.float),ge.FONT_STRETCH=ge.reg(ge.AP.font_stretch),ge.FONT_STYLE=ge.reg(ge.AP.font_style),ge.FONT_VARIANT=ge.reg(ge.AP.font_variant),ge.FONT_WEIGHT=ge.reg(ge.AP.font_weight),ge.LIST_STYLE_POSITION=ge.reg(ge.AP.list_style_position),ge.LIST_STYLE_TYPE=ge.reg(ge.AP.list_style_type),ge.OVERFLOW=ge.reg(ge.AP.overflow),ge.OVERFLOW_WRAP=ge.reg(ge.AP.overflow_wrap),ge.OVERFLOW_X=ge.reg(ge.AP.overflow_x),ge.PAGE_BREAK_AFTER=ge.reg(ge.AP.page_break_after),ge.PAGE_BREAK_BEFORE=ge.reg(ge.AP.page_break_before),ge.PAGE_BREAK_INSIDE=ge.reg(ge.AP.page_break_inside),ge.POSITION=ge.reg(ge.AP.position),ge.RESIZE=ge.reg(ge.AP.resize),ge.SPEAK=ge.reg(ge.AP.speak),ge.SPEAK_HEADER=ge.reg(ge.AP.speak_header),ge.SPEAK_NUMERAL=ge.reg(ge.AP.speak_numeral),ge.SPEAK_PUNCTUATION=ge.reg(ge.AP.speak_punctuation),ge.TABLE_LAYOUT=ge.reg(ge.AP.table_layout),ge.TEXT_ALIGN=ge.reg(ge.AP.text_align),ge.TEXT_DECORATION=ge.reg(ge.AP.text_decoration),ge.TEXT_TRANSFORM=ge.reg(ge.AP.text_transform),ge.TEXT_WRAP=ge.reg(ge.AP.text_wrap),ge.UNICODE_BIDI=ge.reg(ge.AP.unicode_bidi),ge.VISIBILITY=ge.reg(ge.AP.visibility),ge.WHITE_SPACE=ge.reg(ge.AP.white_space),ge.WORD_BREAK=ge.reg(ge.AP.word_break),ge.BACKGROUND_ATTACHMENT=ge.reg(ge.CP.background_attachment),ge.BACKGROUND_COLOR=ge.reg(ge.CP.background_color),ge.BACKGROUND_ORIGIN=ge.reg(ge.CP.background_origin),ge.BACKGROUND_REPEAT=ge.reg(ge.CP.background_repeat),ge.BORDER=ge.reg(ge.CP.border),ge.BORDER_RADIUS=ge.reg(ge.CP.border_radius),ge.BORDER_SPACING=ge.reg(ge.CP.border_spacing),ge.BORDER_TOP_COLOR=ge.reg(ge.CP.border_top_color),ge.BORDER_TOP_STYLE=ge.reg(ge.CP.border_top_style),ge.BORDER_WIDTH=ge.reg(ge.CP.border_width),ge.COLOR=ge.reg(ge.CP.color),ge.CURSOR=ge.reg(ge.CP.cursor),ge.DISPLAY=ge.reg(ge.CP.display),ge.DISPLAY_OUTSIDE=ge.reg(ge.CP.display_outside),ge.ELEVATION=ge.reg(ge.CP.elevation),ge.FONT_FAMILY=ge.reg(ge.CP.font_family),ge.HEIGHT=ge.reg(ge.CP.height),ge.LETTER_SPACING=ge.reg(ge.CP.letter_spacing),ge.LIST_STYLE_IMAGE=ge.reg(ge.CP.list_style_image),ge.MARGIN_RIGHT=ge.reg(ge.CP.margin_right),ge.MAX_HEIGHT=ge.reg(ge.CP.max_height),ge.MIN_HEIGHT=ge.reg(ge.CP.min_height),ge.OPACITY=ge.reg(ge.CP.opacity),ge.OUTLINE_COLOR=ge.reg(ge.CP.outline_color),ge.OUTLINE_WIDTH=ge.reg(ge.CP.outline_width),ge.PADDING=ge.reg(ge.CP.padding),ge.PADDING_TOP=ge.reg(ge.CP.padding_top),ge.PITCH_RANGE=ge.reg(ge.CP.pitch_range),ge.RIGHT=ge.reg(ge.CP.right),ge.STRESS=ge.reg(ge.CP.stress),ge.TEXT_INDENT=ge.reg(ge.CP.text_indent),ge.TEXT_SHADOW=ge.reg(ge.CP.text_shadow),ge.VOLUME=ge.reg(ge.CP.volume),ge.WORD_WRAP=ge.reg(ge.CP.word_wrap),ge.ZOOM=ge.reg(ge.CP.zoom),ge.BACKFACE_VISIBILITY=ge.reg(ge.CP.backface_visibility),ge.BACKGROUND_CLIP=ge.reg(ge.CP.background_clip),ge.BACKGROUND_POSITION=ge.reg(ge.CP.background_position),ge.BORDER_BOTTOM_COLOR=ge.reg(ge.CP.border_bottom_color),ge.BORDER_BOTTOM_STYLE=ge.reg(ge.CP.border_bottom_style),ge.BORDER_COLOR=ge.reg(ge.CP.border_color),ge.BORDER_LEFT_COLOR=ge.reg(ge.CP.border_left_color),ge.BORDER_RIGHT_COLOR=ge.reg(ge.CP.border_right_color),ge.BORDER_STYLE=ge.reg(ge.CP.border_style),ge.BORDER_TOP_LEFT_RADIUS=ge.reg(ge.CP.border_top_left_radius),ge.BORDER_TOP_WIDTH=ge.reg(ge.CP.border_top_width),ge.BOX_SHADOW=ge.reg(ge.CP.box_shadow),ge.CLIP=ge.reg(ge.CP.clip),ge.DISPLAY_INSIDE=ge.reg(ge.CP.display_inside),ge.FONT_SIZE=ge.reg(ge.CP.font_size),ge.LINE_HEIGHT=ge.reg(ge.CP.line_height),ge.MARGIN_LEFT=ge.reg(ge.CP.margin_left),ge.MAX_WIDTH=ge.reg(ge.CP.max_width),ge.OUTLINE_STYLE=ge.reg(ge.CP.outline_style),ge.PADDING_BOTTOM=ge.reg(ge.CP.padding_bottom),ge.PADDING_RIGHT=ge.reg(ge.CP.padding_right),ge.PERSPECTIVE=ge.reg(ge.CP.perspective),ge.RICHNESS=ge.reg(ge.CP.richness),ge.TEXT_OVERFLOW=ge.reg(ge.CP.text_overflow),ge.TOP=ge.reg(ge.CP.top),ge.WIDTH=ge.reg(ge.CP.width),ge.Z_INDEX=ge.reg(ge.CP.z_index),ge.BACKGROUND=ge.reg(ge.CP.background),ge.BACKGROUND_SIZE=ge.reg(ge.CP.background_size),ge.BORDER_BOTTOM_LEFT_RADIUS=ge.reg(ge.CP.border_bottom_left_radius),ge.BORDER_BOTTOM_WIDTH=ge.reg(ge.CP.border_bottom_width),ge.BORDER_LEFT_STYLE=ge.reg(ge.CP.border_left_style),ge.BORDER_RIGHT_STYLE=ge.reg(ge.CP.border_right_style),ge.BORDER_TOP=ge.reg(ge.CP.border_top),ge.BOTTOM=ge.reg(ge.CP.bottom),ge.LIST_STYLE=ge.reg(ge.CP.list_style),ge.MARGIN_TOP=ge.reg(ge.CP.margin_top),ge.OUTLINE=ge.reg(ge.CP.outline),ge.OVERFLOW_Y=ge.reg(ge.CP.overflow_y),ge.PITCH=ge.reg(ge.CP.pitch),ge.VERTICAL_ALIGN=ge.reg(ge.CP.vertical_align),ge.WORD_SPACING=ge.reg(ge.CP.word_spacing),ge.BACKGROUND_IMAGE=ge.reg(ge.CP.background_image),ge.BORDER_BOTTOM_RIGHT_RADIUS=ge.reg(ge.CP.border_bottom_right_radius),ge.BORDER_LEFT_WIDTH=ge.reg(ge.CP.border_left_width),ge.BORDER_RIGHT_WIDTH=ge.reg(ge.CP.border_right_width),ge.LEFT=ge.reg(ge.CP.left),ge.MARGIN_BOTTOM=ge.reg(ge.CP.margin_bottom),ge.PAUSE_AFTER=ge.reg(ge.CP.pause_after),ge.SPEECH_RATE=ge.reg(ge.CP.speech_rate),ge.TRANSITION_DURATION=ge.reg(ge.CP.transition_duration),ge.BORDER_BOTTOM=ge.reg(ge.CP.border_bottom),ge.BORDER_RIGHT=ge.reg(ge.CP.border_right),ge.MARGIN=ge.reg(ge.CP.margin),ge.PADDING_LEFT=ge.reg(ge.CP.padding_left),ge.BORDER_LEFT=ge.reg(ge.CP.border_left),ge.FONT=ge.reg(ge.CP.font),ge.QUOTES=ge.reg(ge.CP.quotes),ge.BORDER_TOP_RIGHT_RADIUS=ge.reg(ge.CP.border_top_right_radius),ge.MIN_WIDTH=ge.reg(ge.CP.min_width);class me{constructor(){this._options={allowedTags:["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blockquote","br","button","canvas","caption","center","cite","code","col","colgroup","colspan","command","data","datalist","dd","del","details","dfn","dir","div","dl","dt","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","i","img","input","ins","kbd","label","legend","li","map","mark","menu","meter","nav","nobr","ol","optgroup","option","output","p","pre","progress","q","rowspan","s","samp","section","select","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"],allowedAttributes:{"*":["class","dir","draggable","hidden","id","inert","itemprop","itemref","itemscope","lang","spellcheck","style","title","translate"],a:["accesskey","coords","href","hreflang","name","rel","shape","tabindex","target","type"],area:["accesskey","alt","coords","href","nohref","shape","tabindex"],audio:["autoplay","controls","loop","mediagroup","muted","preload","src"],bdo:["dir"],blockquote:["cite"],br:["clear"],button:["accesskey","data-commandlinker-args","data-commandlinker-command","disabled","name","tabindex","type","value"],canvas:["height","width"],caption:["align"],col:["align","char","charoff","span","valign","width"],colgroup:["align","char","charoff","span","valign","width"],command:["checked","command","disabled","icon","label","radiogroup","type"],data:["value"],del:["cite","datetime"],details:["open"],dir:["compact"],div:["align"],dl:["compact"],fieldset:["disabled"],font:["color","face","size"],form:["accept","autocomplete","enctype","method","name","novalidate"],h1:["align"],h2:["align"],h3:["align"],h4:["align"],h5:["align"],h6:["align"],hr:["align","noshade","size","width"],iframe:["align","frameborder","height","marginheight","marginwidth","width"],img:["align","alt","border","height","hspace","ismap","name","src","usemap","vspace","width"],input:["accept","accesskey","align","alt","autocomplete","checked","disabled","inputmode","ismap","list","max","maxlength","min","multiple","name","placeholder","readonly","required","size","src","step","tabindex","type","usemap","value"],ins:["cite","datetime"],label:["accesskey","for"],legend:["accesskey","align"],li:["type","value"],map:["name"],menu:["compact","label","type"],meter:["high","low","max","min","value"],ol:["compact","reversed","start","type"],optgroup:["disabled","label"],option:["disabled","label","selected","value"],output:["for","name"],p:["align"],pre:["width"],progress:["max","min","value"],q:["cite"],select:["autocomplete","disabled","multiple","name","required","size","tabindex"],source:["type"],table:["align","bgcolor","border","cellpadding","cellspacing","frame","rules","summary","width"],tbody:["align","char","charoff","valign"],td:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],textarea:["accesskey","autocomplete","cols","disabled","inputmode","name","placeholder","readonly","required","rows","tabindex","wrap"],tfoot:["align","char","charoff","valign"],th:["abbr","align","axis","bgcolor","char","charoff","colspan","headers","height","nowrap","rowspan","scope","valign","width"],thead:["align","char","charoff","valign"],tr:["align","bgcolor","char","charoff","valign"],track:["default","kind","label","srclang"],ul:["compact","type"],video:["autoplay","controls","height","loop","mediagroup","muted","poster","preload","src","width"]},allowedStyles:{"*":{"backface-visibility":[ge.BACKFACE_VISIBILITY],background:[ge.BACKGROUND],"background-attachment":[ge.BACKGROUND_ATTACHMENT],"background-clip":[ge.BACKGROUND_CLIP],"background-color":[ge.BACKGROUND_COLOR],"background-image":[ge.BACKGROUND_IMAGE],"background-origin":[ge.BACKGROUND_ORIGIN],"background-position":[ge.BACKGROUND_POSITION],"background-repeat":[ge.BACKGROUND_REPEAT],"background-size":[ge.BACKGROUND_SIZE],border:[ge.BORDER],"border-bottom":[ge.BORDER_BOTTOM],"border-bottom-color":[ge.BORDER_BOTTOM_COLOR],"border-bottom-left-radius":[ge.BORDER_BOTTOM_LEFT_RADIUS],"border-bottom-right-radius":[ge.BORDER_BOTTOM_RIGHT_RADIUS],"border-bottom-style":[ge.BORDER_BOTTOM_STYLE],"border-bottom-width":[ge.BORDER_BOTTOM_WIDTH],"border-collapse":[ge.BORDER_COLLAPSE],"border-color":[ge.BORDER_COLOR],"border-left":[ge.BORDER_LEFT],"border-left-color":[ge.BORDER_LEFT_COLOR],"border-left-style":[ge.BORDER_LEFT_STYLE],"border-left-width":[ge.BORDER_LEFT_WIDTH],"border-radius":[ge.BORDER_RADIUS],"border-right":[ge.BORDER_RIGHT],"border-right-color":[ge.BORDER_RIGHT_COLOR],"border-right-style":[ge.BORDER_RIGHT_STYLE],"border-right-width":[ge.BORDER_RIGHT_WIDTH],"border-spacing":[ge.BORDER_SPACING],"border-style":[ge.BORDER_STYLE],"border-top":[ge.BORDER_TOP],"border-top-color":[ge.BORDER_TOP_COLOR],"border-top-left-radius":[ge.BORDER_TOP_LEFT_RADIUS],"border-top-right-radius":[ge.BORDER_TOP_RIGHT_RADIUS],"border-top-style":[ge.BORDER_TOP_STYLE],"border-top-width":[ge.BORDER_TOP_WIDTH],"border-width":[ge.BORDER_WIDTH],bottom:[ge.BOTTOM],box:[ge.BOX],"box-shadow":[ge.BOX_SHADOW],"box-sizing":[ge.BOX_SIZING],"caption-side":[ge.CAPTION_SIDE],clear:[ge.CLEAR],clip:[ge.CLIP],color:[ge.COLOR],cursor:[ge.CURSOR],direction:[ge.DIRECTION],display:[ge.DISPLAY],"display-inside":[ge.DISPLAY_INSIDE],"display-outside":[ge.DISPLAY_OUTSIDE],elevation:[ge.ELEVATION],"empty-cells":[ge.EMPTY_CELLS],float:[ge.FLOAT],font:[ge.FONT],"font-family":[ge.FONT_FAMILY],"font-size":[ge.FONT_SIZE],"font-stretch":[ge.FONT_STRETCH],"font-style":[ge.FONT_STYLE],"font-variant":[ge.FONT_VARIANT],"font-weight":[ge.FONT_WEIGHT],height:[ge.HEIGHT],left:[ge.LEFT],"letter-spacing":[ge.LETTER_SPACING],"line-height":[ge.LINE_HEIGHT],"list-style":[ge.LIST_STYLE],"list-style-image":[ge.LIST_STYLE_IMAGE],"list-style-position":[ge.LIST_STYLE_POSITION],"list-style-type":[ge.LIST_STYLE_TYPE],margin:[ge.MARGIN],"margin-bottom":[ge.MARGIN_BOTTOM],"margin-left":[ge.MARGIN_LEFT],"margin-right":[ge.MARGIN_RIGHT],"margin-top":[ge.MARGIN_TOP],"max-height":[ge.MAX_HEIGHT],"max-width":[ge.MAX_WIDTH],"min-height":[ge.MIN_HEIGHT],"min-width":[ge.MIN_WIDTH],opacity:[ge.OPACITY],outline:[ge.OUTLINE],"outline-color":[ge.OUTLINE_COLOR],"outline-style":[ge.OUTLINE_STYLE],"outline-width":[ge.OUTLINE_WIDTH],overflow:[ge.OVERFLOW],"overflow-wrap":[ge.OVERFLOW_WRAP],"overflow-x":[ge.OVERFLOW_X],"overflow-y":[ge.OVERFLOW_Y],padding:[ge.PADDING],"padding-bottom":[ge.PADDING_BOTTOM],"padding-left":[ge.PADDING_LEFT],"padding-right":[ge.PADDING_RIGHT],"padding-top":[ge.PADDING_TOP],"page-break-after":[ge.PAGE_BREAK_AFTER],"page-break-before":[ge.PAGE_BREAK_BEFORE],"page-break-inside":[ge.PAGE_BREAK_INSIDE],"pause-after":[ge.PAUSE_AFTER],perspective:[ge.PERSPECTIVE],pitch:[ge.PITCH],"pitch-range":[ge.PITCH_RANGE],position:[ge.POSITION],quotes:[ge.QUOTES],resize:[ge.RESIZE],richness:[ge.RICHNESS],right:[ge.RIGHT],speak:[ge.SPEAK],"speak-header":[ge.SPEAK_HEADER],"speak-numeral":[ge.SPEAK_NUMERAL],"speak-punctuation":[ge.SPEAK_PUNCTUATION],"speech-rate":[ge.SPEECH_RATE],stress:[ge.STRESS],"table-layout":[ge.TABLE_LAYOUT],"text-align":[ge.TEXT_ALIGN],"text-decoration":[ge.TEXT_DECORATION],"text-indent":[ge.TEXT_INDENT],"text-overflow":[ge.TEXT_OVERFLOW],"text-shadow":[ge.TEXT_SHADOW],"text-transform":[ge.TEXT_TRANSFORM],"text-wrap":[ge.TEXT_WRAP],top:[ge.TOP],"unicode-bidi":[ge.UNICODE_BIDI],"vertical-align":[ge.VERTICAL_ALIGN],visibility:[ge.VISIBILITY],volume:[ge.VOLUME],"white-space":[ge.WHITE_SPACE],width:[ge.WIDTH],"word-break":[ge.WORD_BREAK],"word-spacing":[ge.WORD_SPACING],"word-wrap":[ge.WORD_WRAP],"z-index":[ge.Z_INDEX],zoom:[ge.ZOOM]}},transformTags:{a:_e().simpleTransform("a",{rel:"nofollow"}),input:_e().simpleTransform("input",{disabled:"disabled"})},allowedSchemesByTag:{img:_e().defaults.allowedSchemes.concat(["attachment"])},allowedSchemesAppliedToAttributes:["href","cite"]}}sanitize(e,t){return _e()(e,Object.assign(Object.assign({},this._options),t||{}))}}const be=new me,fe=new o.Token("@jupyterlab/apputils:ISplashScreen");var Ce,ve=n(79444);class ye{constructor(e){this._current=null,this._links=[],this._overrides={},this._overrideProps={},this._outstanding=null,this._pending=0,this._requests={},this._themes={},this._themeChanged=new a.Signal(this);const{host:t,key:n,splash:s,url:i}=e;this.translator=e.translator||z.nullTranslator,this._trans=this.translator.load("jupyterlab");const o=e.settings;this._base=i,this._host=t,this._splash=s||null,o.load(n).then((e=>{this._settings=e,this._initOverrideProps(),this._settings.changed.connect(this._loadSettings,this),this._loadSettings()}))}get theme(){return this._current}get themes(){return Object.keys(this._themes)}get themeChanged(){return this._themeChanged}getCSS(e){var t;return null!==(t=this._overrides[e])&&void 0!==t?t:getComputedStyle(document.documentElement).getPropertyValue(`--jp-${e}`)}loadCSS(e){const t=this._base,n=Z.URLExt.isLocal(e)?Z.URLExt.join(t,e):e,s=this._links;return new Promise(((e,t)=>{const i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",n),i.addEventListener("load",(()=>{e(void 0)})),i.addEventListener("error",(()=>{t(`Stylesheet failed to load: ${n}`)})),document.body.appendChild(i),s.push(i),this.loadCSSOverrides()}))}loadCSSOverrides(){var e;const t=null!==(e=this._settings.user.overrides)&&void 0!==e?e:{};Object.keys(Object.assign(Object.assign({},this._overrides),t)).forEach((e=>{const n=t[e];n&&this.validateCSS(e,n)?document.documentElement.style.setProperty(`--jp-${e}`,n):(delete t[e],document.documentElement.style.removeProperty(`--jp-${e}`))})),this._overrides=t}validateCSS(e,t){const n=this._overrideProps[e];return n?!!CSS.supports(n,t)||(console.warn(`CSS validation failed: invalid value.\nkey: '${e}', val: '${t}', prop: '${n}'`),!1):(console.warn(`CSS validation failed: could not find property corresponding to key.\nkey: '${e}', val: '${t}'`),!1)}register(e){const{name:t}=e,n=this._themes;if(n[t])throw new Error(`Theme already registered for ${t}`);return n[t]=e,new ve.DisposableDelegate((()=>{delete n[t]}))}setCSSOverride(e,t){return this._settings.set("overrides",Object.assign(Object.assign({},this._overrides),{[e]:t}))}setTheme(e){return this._settings.set("theme",e)}isLight(e){return this._themes[e].isLight}incrFontSize(e){return this._incrFontSize(e,!0)}decrFontSize(e){return this._incrFontSize(e,!1)}themeScrollbars(e){return!!this._settings.composite["theme-scrollbars"]&&!!this._themes[e].themeScrollbars}isToggledThemeScrollbars(){return!!this._settings.composite["theme-scrollbars"]}toggleThemeScrollbars(){return this._settings.set("theme-scrollbars",!this._settings.composite["theme-scrollbars"])}getDisplayName(e){var t,n;return null!==(n=null===(t=this._themes[e])||void 0===t?void 0:t.displayName)&&void 0!==n?n:e}_incrFontSize(e,t=!0){var n;const s=(null!==(n=this.getCSS(e))&&void 0!==n?n:"13px").split(/([a-zA-Z]+)/),i=(t?1:-1)*("em"===s[1]?.1:1);return this.setCSSOverride(e,`${Number(s[0])+i}${s[1]}`)}_initOverrideProps(){const e=this._settings.schema.definitions.cssOverrides.properties;Object.keys(e).forEach((t=>{this._overrideProps[t]=e[t].description}))}_loadSettings(){const e=this._outstanding,t=this._pending,n=this._requests;t&&(window.clearTimeout(t),this._pending=0);const s=this._settings,i=this._themes,o=s.composite.theme;if(e)return e.then((()=>{this._loadSettings()})).catch((()=>{this._loadSettings()})),void(this._outstanding=null);if(n[o]=n[o]?n[o]+1:1,i[o])return this._outstanding=this._loadTheme(o),void delete n[o];if(n[o]>20){const e=s.default("theme");return delete n[o],i[e]?(console.warn(`Could not load theme ${o}, using default ${e}.`),void(this._outstanding=this._loadTheme(e))):void this._onError(this._trans.__("Neither theme %1 nor default %2 loaded.",o,e))}this._pending=window.setTimeout((()=>{this._loadSettings()}),75)}_loadTheme(e){const t=this._current,n=this._links,s=this._themes,i=this._splash?this._splash.show(s[e].isLight):new ve.DisposableDelegate((()=>{}));n.forEach((e=>{e.parentElement&&e.parentElement.removeChild(e)})),n.length=0;const o=t?s[t].unload():Promise.resolve();return Promise.all([o,s[e].load()]).then((()=>{this._current=e,this._themeChanged.emit({name:"theme",oldValue:t,newValue:e}),this._host.hide(),requestAnimationFrame((()=>{this._host.show(),Ce.fitAll(this._host),i.dispose()}))})).catch((e=>{this._onError(e),i.dispose()}))}_onError(e){k({title:this._trans.__("Error Loading Theme"),body:String(e),buttons:[D.okButton({label:this._trans.__("OK")})]})}}!function(e){e.fitAll=function e(t){(0,f.each)(t.children(),e),t.fit()}}(Ce||(Ce={}));const we=new o.Token("@jupyterlab/apputils:ISessionContextDialogs"),Ee=new o.Token("@jupyterlab/apputils:IThemeManager"),Te=new o.Token("@jupyterlab/apputils:ISanitizer"),Oe=new o.Token("@jupyterlab/apputils:IWindowResolver");class Pe{get name(){return this._name}resolve(e){return Re.resolve(e).then((e=>{this._name=e}))}}var Re;!function(e){const t="@jupyterlab/statedb:StateDB",n=`${t}:beacon`,s=Math.floor(200+300*Math.random()),i=`${t}:window`;let r=null,a=null;const l=new o.PromiseDelegate,d={};let c=null,h=!1;function u(e){if(null===e)return;const{localStorage:t}=window;t.setItem(i,`${e}-${(new Date).getTime()}`)}function p(){h=!0,r=null,l.reject(`Window name candidate "${a}" already exists`)}e.resolve=function(e){if(h)return l.promise;if(a=e,a in d)return p(),l.promise;const{localStorage:t,setTimeout:i}=window;return i((()=>{if(!h){if(!a||a in d)return p();h=!0,r=null,l.resolve(c=a),u(c)}}),s),r=`${Math.random()}-${(new Date).getTime()}`,t.setItem(n,r),l.promise},window.addEventListener("storage",(e=>{const{key:t,newValue:s}=e;if(null===s)return;if(t===n&&s!==r&&null!==a)return void u(h?c:a);if(h||t!==i)return;const o=s.replace(/\-\d+$/,"");d[o]=null,a&&!(a in d)||p()}))}(Re||(Re={}))}}]);
//# sourceMappingURL=9736.9e75e0bd260eee94d0d5.js.map